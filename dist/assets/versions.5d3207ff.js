import{_ as I,o as n,c as t,f as e,t as i,h as x,p as S,i as C,L as N,bX as L,d as b,ak as j,A as B,r as $,a as A,V as d,W as u,g as y,s as Y,j as D}from"./index.a87692b6.js";import{d as T}from"./uk.cb0e459b.js";import{_ as M}from"./arrow-right.a7e531f5.js";const P={name:"version-item",props:{version:String,date:String,isActive:Boolean,id:Number},emits:["versionClick"]},z=s=>(S("data-v-892af061"),s=s(),C(),s),E={class:"b-version-item__name-wrap"},F={class:"b-version-item__element"},R={key:0,class:"b-version-item__label-new"},U={class:"b-version-item__date d-flex"},W=z(()=>e("img",{src:M},null,-1));function X(s,l,_,o,p,m){return n(),t("div",{class:"b-version-item d-flex justify-content-between",onClick:l[0]||(l[0]=h=>s.$emit("versionClick",_.id))},[e("div",E,[e("div",F,"Version "+i(_.version),1),_.isActive?(n(),t("div",R,i(s.$t("versions.new")),1)):x("",!0)]),e("div",U,[e("div",null,i(_.date),1),W])])}const q=I(P,[["render",X],["__scopeId","data-v-892af061"]]);const G={name:"VersionsPage",components:{VersionItem:q,Loading:N},setup(){var g,f;const s=L(),l=b(),_=b(),o=b(),p=b(),m=b(!1);l.value=(g=s.meta.allVersions)==null?void 0:g.results,l.value=l.value.map(c=>({...c,date:j(c.created_at).locale(T).format("DD MM YYYY")}));const h=(f=l.value[l.value.length-1])==null?void 0:f.id;h&&V(h);function V(c){m.value=!0,B.VersionsService.getCurrentVersion(c).then(v=>{o.value=v.type,p.value=v.version,_.value=v.data,m.value=!1})}return{versions:l,currentVersion:_,versionNumber:p,versionType:o,loading:m}}},k=s=>(S("data-v-8830c463"),s=s(),C(),s),H={class:"b-versions"},J={class:"b-versions__title-level1 title-customs"},K={class:"b-versions__container d-flex justify-content-between"},O={class:"b-versions__left-side"},Q={key:0,class:"b-versions__images d-flex"},Z={class:"b-versions__important-changes"},ee={class:"b-versions__title-level3"},se={class:"b-versions__type-of-version"},ne={class:""},ie={class:"b-versions__title-level2"},oe={class:"b-versions__title-level4 d-flex"},te=k(()=>e("div",{class:"b-versions__change-variant flex-grow-1"},null,-1)),re={class:""},ae={class:"b-versions__title-level4 d-flex"},le=k(()=>e("div",{class:"b-versions__change-variant flex-grow-1"},null,-1)),_e={class:""},ce={class:"b-versions__title-level4 d-flex"},ve=k(()=>e("div",{class:"b-versions__change-variant flex-grow-1"},null,-1)),de={class:"b-versions__right-side"},ue={class:"b-versions__title-level3"};function me(s,l,_,o,p,m){var g,f,c,v,w;const h=$("Loading"),V=$("version-item");return n(),t("div",H,[A(h,{"is-loading":o.loading},null,8,["is-loading"]),e("div",J,i(s.$t("versions.title")),1),e("div",K,[e("div",O,[((g=o.currentVersion)==null?void 0:g.images.length)>0?(n(),t("div",Q,[(n(!0),t(d,null,u(o.currentVersion.images,(r,a)=>(n(),t("div",{class:"b-versions__image-of-changes",style:Y({backgroundImage:`url(${r})`}),key:"images"+a},null,4))),128))])):x("",!0),e("div",Z,[e("div",ee,[y(i(s.$t("versions.whats-new"))+" "+i(o.versionNumber)+" ",1),e("span",se,i(o.versionType),1)]),(n(!0),t(d,null,u((f=o.currentVersion)==null?void 0:f.what_new,(r,a)=>(n(),t("div",{class:"b-versions__change-element",key:"what_new"+a},i(r),1))),128))]),e("div",ne,[e("div",ie,i(s.$t("versions.more-detailed")),1),e("div",oe,[y(i(s.$t("versions.smth-new"))+" ",1),te]),(n(!0),t(d,null,u((c=o.currentVersion)==null?void 0:c.features,(r,a)=>(n(),t("div",{class:"b-versions__change-element",key:"features"+a},i(r),1))),128))]),e("div",re,[e("div",ae,[y(i(s.$t("versions.fixes"))+" ",1),le]),(n(!0),t(d,null,u((v=o.currentVersion)==null?void 0:v.bug_fixes,(r,a)=>(n(),t("div",{class:"b-versions__change-element",key:"bugs"+a},i(r),1))),128))]),e("div",_e,[e("div",ce,[y(i(s.$t("versions.improvments"))+" ",1),ve]),(n(!0),t(d,null,u((w=o.currentVersion)==null?void 0:w.improvements,(r,a)=>(n(),t("div",{class:"b-versions__change-element",key:"improvements"+a},i(r),1))),128))])]),e("div",de,[e("div",ue,i(s.$t("versions.history")),1),(n(!0),t(d,null,u(o.versions,(r,a)=>(n(),D(V,{key:"versions"+a,version:r.version,date:r.date,id:r.id,"is-active":r.version===o.versionNumber,onVersionClick:s.gerVersion},null,8,["version","date","id","is-active","onVersionClick"]))),128))])])])}const be=I(G,[["render",me],["__scopeId","data-v-8830c463"]]);export{be as default};
