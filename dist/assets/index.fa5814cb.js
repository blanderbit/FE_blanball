import{_ as I,b,u as H,j as Y,G as fe,r as y,o as l,i as x,w as M,l as X,a as k,a2 as ee,a3 as ve,a4 as be,a5 as ge,a6 as pe,a7 as he,a8 as ye,a9 as G,z as ke,d as w,R,C as F,c as r,g as h,e as n,n as N,t as p,f as $,A as P,p as L,h as B,aa as Ce,ab as z,ac as K,E as q,S as A,U as O,M as Se,T as te,B as V,a0 as oe,k as we,ad as Ne,ae as ne,Y as Me,af as Ie}from"./index.d5b3c164.js";import{N as J,I as Ae,E as $e,S as xe,A as Oe,P as Te}from"./index.a1ee2b1a.js";import{s as Fe,D as Le,m as se}from"./members.eb72baf9.js";import{_ as ie}from"./cross.90e335cf.js";import{v as ae}from"./v4.5d18198f.js";import{_ as Be}from"./arrow-right.736d9638.js";import{I as Pe}from"./InputComponent.f993d239.js";import{S as Re}from"./SearchBlockAll.2a7b4776.js";import{_ as De}from"./search.0f589d58.js";import{S as Ee}from"./VueStarRating.common.214da42f.js";import{_ as He}from"./warning-red.7e7f7092.js";import"./Checkbox.a4ca88fa.js";const We="/assets/notification-small.2e256e10.svg";const je={name:"Notifications",components:{Notification:J,DynamicScroller:Fe,DynamicScrollerItem:Le},props:{notifications:{type:Array,default:()=>[]},selectedList:{type:Array,default:()=>[]},selectable:{type:Boolean,default:!1}},emits:["update:selected-list","update:scrollbar-existing"],setup(o,{emit:t,expose:i}){let e=b(0),_=b([]),d=b();const s=H();Y(()=>o.selectedList,()=>{const c=[...o.selectedList];_.value=Array.isArray(c)?c.length?c:[]:[],d.value.forceUpdate()}),Y(()=>o.notifications,()=>{fe(()=>{t("update:scrollbar-existing",d.value.$el.scrollHeight>d.value.$el.clientHeight)})},{immediate:!0});const m=async(c,g)=>{await ee({button:c,notificationInstance:g,router:s,activeNotification:e})},v=c=>{if(c.selected)_.value.push(c.notification.notification_id);else{const g=_.value.findIndex(C=>C===c.notification.notification_id);_.value.splice(g,1)}t("update:selected-list",_.value)};return i({scrollToItem:c=>d.value.scrollToItem(c),scrollToFirstElement:()=>d.value.scrollToItem(0)}),{activeNotification:e,handlerAction:m,handleSelected:v,scroller:d}}};function ze(o,t,i,e,_,d){const s=y("Notification"),m=y("DynamicScrollerItem"),v=y("DynamicScroller");return l(),x(v,{items:i.notifications,"min-item-size":84,"key-field":"notification_id",class:"scroller",ref:"scroller"},{before:M(()=>[X(o.$slots,"before",{},void 0,!0)]),default:M(({item:c,index:g,active:C,itemWithSize:a})=>[k(m,{item:c,active:C,sizeDependencies:[i.notifications.length,c.metadata.expanding],"data-index":g},{default:M(()=>[k(s,{notificationInstance:c,selectable:i.selectable,active:e.activeNotification===c.notification_id,checked:i.selectedList.includes(c.notification_id),onHandlerAction:u=>e.handlerAction(u,c),onSelected:t[0]||(t[0]=u=>e.handleSelected(u))},null,8,["notificationInstance","selectable","active","checked","onHandlerAction"])]),_:2},1032,["item","active","sizeDependencies","data-index"])]),after:M(()=>[X(o.$slots,"after",{},void 0,!0)]),_:3},8,["items"])}const Ue=I(je,[["render",ze],["__scopeId","data-v-7d5aa9f4"]]),Ve="/assets/sidebar-arrow-back.6ddc97ca.svg",Ye="/assets/sidebar-arrow.fe8d3224.svg";var Q,Z,j,Xe=(Q=ge(ye.NotificationInfo),Z=pe([{type:G.Action,text:"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438 \u043D\u043E\u0432\u0456 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F"}]),Q(j=Z(j=function(o){ve(t,o);function t(){for(var e,_=arguments.length,d=new Array(_),s=0;s<_;s++)d[s]=arguments[s];return e=o.call.apply(o,[this].concat(d))||this,e.countOfNewNotifications=0,e}var i=t.prototype;return i.createTitle=function(){return"System notification"},be(t,[{key:"texts",get:function(){return["\u0423 \u0432\u0430\u0441 \u043D\u043E\u0432\u0456\u0435 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F - "+this.countOfNewNotifications]},set:function(_){}}]),t}(he))||j)||j);const Ge="/assets/logo-sidebar.7ff4f50d.svg",le="/assets/trash.12e3e1ee.svg",ce="/assets/double-check.5ce54e56.svg";const qe={components:{InfiniteLoading:Ae,Notification:J,EmptyList:$e,Notifications:Ue,ScrollToTop:xe},props:{notifications:{type:Array,default:()=>[]},notReadNotificationCount:{type:Number,default:0},newNotifications:{type:Number,default:0},totalNotificationsCount:{type:Number,default:0},isMenuOpened:{type:Boolean,default:!1}},emits:["closed","reLoading","loading","loadingInfinite","update:isMenuOpened"],setup(o,{emit:t}){const i=b(),e=b(!1),_=b(!1),d=b(""),s=b([]),m=b(new Xe),v=b(ke("clientVersion"));Y(()=>o.isMenuOpened,()=>{o.isMenuOpened||(t("closed"),s.value=[])});const c=w(()=>o.isMenuOpened?Ve:Ye),g=w(()=>R);function C(){t("update:isMenuOpened",!o.isMenuOpened)}const a=w(()=>(m.value.countOfNewNotifications=o.newNotifications,m.value)),u=w(()=>({title:F.no_data_notifications.noNotifications.title,description:F.no_data_notifications.noNotifications.description})),S=()=>{s.value=[]};return{clientVersion:v,arrowPosition:c,toggleMenu:C,getNewNotificationInstance:a,emptyListMessages:u,routeObject:g,selectedList:s,HandleAction:{deleteAll:()=>{!o.notifications.length&&!o.newNotifications||(P.NotificationService.deleteAllMyNotifications(),S())},readAll:()=>{!o.notifications.length&&!o.newNotifications||(P.NotificationService.readAllMyNotifications(),S())},deleteSelected:()=>{!s.value||(P.NotificationService.deleteNotifications(s.value),S())},readSelected:()=>{!s.value||(P.NotificationService.readNotifications(s.value),S())}},triggerForRestart:d,selectable:e,notificationList:i,blockScrollToTopIfExist:_,clearSelectedList:S,restartInfiniteScroll:()=>{d.value=ae()},scrollToFirstElement:()=>{i.value.scrollToFirstElement()}}}},D=o=>(L("data-v-f3a828e9"),o=o(),B(),o),Je=["src"],Ke={class:"b_slide_menu_main"},Qe={class:"b_slide_menu_top-block"},Ze=D(()=>n("div",{class:"b_slide_menu_logo"},[n("img",{src:Ge,alt:""})],-1)),et={key:0,class:"b_slide_menu_items d-flex justify-content-between align-items-center mb-2"},tt={class:"d-flex"},ot={class:"b-selected-elements__count me-1"},nt={key:0},st={key:1},it={class:"d-flex mb-2"},at=D(()=>n("img",{src:le,alt:"",height:"16"},null,-1)),lt=D(()=>n("img",{src:ce,height:"16",alt:""},null,-1)),ct=D(()=>n("img",{src:le,height:"16",alt:""},null,-1)),rt=D(()=>n("img",{src:ce,height:"16",alt:""},null,-1)),dt={class:"d-flex"},_t={class:"b-notifications-title me-1"},ut={key:0,class:"b-notification-unreaded d-flex align-items-center justify-content-center me-1"},mt={class:"b_slide_menu_bottom-block"},ft=D(()=>n("div",{class:"b_slide_menu_top-line d-flex justify-content-between"},[n("div",{class:"b_slide_menu_name"},"\u042E\u043B\u0456\u044F \u041A\u0456\u0441\u043B\u0456\u0446\u0438\u043D\u0430"),n("div",{class:"b_slide_menu_position"},"\u0442\u0440\u0435\u043D\u0435\u0440")],-1)),vt={class:"b_slide_menu_bottom-line"};function bt(o,t,i,e,_,d){const s=y("Notification"),m=y("empty-list"),v=y("ScrollToTop"),c=y("InfiniteLoading"),g=y("Notifications"),C=y("router-link");return l(),r("div",null,[i.isMenuOpened?(l(),r("div",{key:0,class:"b_slide_menu_back",onClick:t[0]||(t[0]=(...a)=>e.toggleMenu&&e.toggleMenu(...a))})):h("",!0),n("div",{class:"b_slide_menu_wrapper",style:N({right:i.isMenuOpened?"-464px":"0px"})},[i.isMenuOpened?(l(),r("div",{key:0,class:"b_slide_menu_sidebar-arrow",onClick:t[1]||(t[1]=(...a)=>e.toggleMenu&&e.toggleMenu(...a))},[n("img",{src:e.arrowPosition,alt:""},null,8,Je)])):h("",!0),n("div",Ke,[n("div",Qe,[Ze,i.notifications.length?(l(),r("div",et,[n("div",{class:"d-flex align-items-center",style:N({opacity:e.selectedList.length?"1":"0"})},[n("img",{src:ie,height:"10",alt:"",class:"me-2",onClick:t[2]||(t[2]=(...a)=>e.clearSelectedList&&e.clearSelectedList(...a))}),n("div",tt,[n("div",ot,p(e.selectedList.length),1),$(" / "+p(i.totalNotificationsCount),1)])],4),n("button",{onClick:t[3]||(t[3]=a=>(e.selectable=!e.selectable,e.clearSelectedList()))},[e.selectable?(l(),r("span",st,"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u044B\u0431\u043E\u0440")):(l(),r("span",nt,"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0437\u0430\u043F\u0438\u0441\u0438"))])])):h("",!0),n("div",it,[i.notifications.length?(l(),r("button",{key:0,onClick:t[4]||(t[4]=a=>e.HandleAction.deleteAll()),class:"d-flex align-items-center"},[at,$(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435 ")])):h("",!0),i.notifications.length&&i.notReadNotificationCount?(l(),r("button",{key:1,onClick:t[5]||(t[5]=a=>e.HandleAction.readAll()),class:"d-flex align-items-center"},[lt,$(" \u041F\u0440\u043E\u0447\u0438\u0442\u0430\u0442\u044C \u0432\u0441\u0435 ")])):h("",!0),e.selectable&&i.notifications.length&&e.selectedList.length?(l(),r("button",{key:2,onClick:t[6]||(t[6]=a=>e.HandleAction.deleteSelected()),class:"d-flex align-items-center"},[ct,$(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C ")])):h("",!0),e.selectable&&i.notifications.length&&e.selectedList.length?(l(),r("button",{key:3,onClick:t[7]||(t[7]=a=>e.HandleAction.readSelected()),class:"d-flex align-items-center"},[rt,$(" \u041F\u0440\u043E\u0447\u0438\u0442\u0430\u0442\u044C ")])):h("",!0)]),n("div",dt,[n("div",_t,p(o.$t("slide_menu.notifications")),1),i.notReadNotificationCount?(l(),r("div",ut,p(i.notReadNotificationCount),1)):h("",!0)]),i.isMenuOpened?(l(),r("ul",{key:1,class:"b_slide_menu_notification",style:N({height:`calc(100vh - ${e.selectable?95:60}px - 100px - 70px)`}),ref:"test"},[k(g,{notifications:i.notifications,selectable:e.selectable,ref:"notificationList","selected-list":e.selectedList,"onUpdate:selected-list":t[11]||(t[11]=a=>e.selectedList=a),"scrollbar-existing":e.blockScrollToTopIfExist,"onUpdate:scrollbar-existing":t[12]||(t[12]=a=>e.blockScrollToTopIfExist=a)},{before:M(()=>[i.newNotifications?(l(),x(s,{key:0,class:"b-new-notification",notificationInstance:e.getNewNotificationInstance,"not-collapsible":!0,onHandlerAction:t[8]||(t[8]=a=>(o.$emit("reLoading"),e.restartInfiniteScroll()))},null,8,["notificationInstance"])):h("",!0)]),after:M(()=>[k(c,{identifier:e.triggerForRestart,ref:"scrollbar",onInfinite:t[10]||(t[10]=a=>o.$emit("loadingInfinite",a))},{complete:M(()=>[i.notifications.length?h("",!0):(l(),x(m,{key:0,title:e.emptyListMessages.title,description:e.emptyListMessages.description,"is-notification":!0},null,8,["title","description"])),k(v,{"element-length":i.notifications,"is-scroll-top-exist":e.blockScrollToTopIfExist,onScrollButtonClicked:t[9]||(t[9]=a=>e.scrollToFirstElement())},null,8,["element-length","is-scroll-top-exist"])]),_:1},8,["identifier"])]),_:1},8,["notifications","selectable","selected-list","scrollbar-existing"])],4)):h("",!0)]),n("div",mt,[ft,n("div",vt,[$(p(o.$t("slide_menu.version"))+" ",1),k(C,{to:e.routeObject.APPLICATION.VERSION.absolute},{default:M(()=>[$(p(e.clientVersion),1)]),_:1},8,["to"])])])])],4)])}const gt=I(qe,[["render",bt],["__scopeId","data-v-f3a828e9"]]),pt="/assets/Notification.91b0c545.svg",ht="/assets/notificationUnread.4781af12.svg",re="/assets/record.632423a8.svg",yt="/assets/my-profile-logo.9d6ccfcf.svg",kt="/assets/exit-icon.8ce1bafb.svg";const Ct=(o,t)=>t.filter(i=>o.length?!o.find(e=>e.notification_id===i.notification_id):!0),St={name:"MainSidebar",components:{SlideMenu:gt,Avatar:Oe},setup(){const o=b(0),t=b([]),i=H(),e=b(!1),_=w(()=>[{img:o.value?ht:pt,action:()=>e.value=!0},{img:re,url:"/application/events",action:()=>e.value=!1},{img:se,url:"/application/smart-list/general",action:()=>e.value=!1}]),d=async()=>P.NotificationService.getNotificationsCount().then(f=>o.value=f.data.not_read_notifications_count||0),{paginationElements:s,paginationPage:m,paginationTotalCount:v,paginationClearData:c,paginationLoad:g}=Te({paginationDataRequest:f=>P.NotificationService.getNotifications({page:f,skipids:t.value}),dataTransformation:f=>Ce(f),beforeConcat:(f,E)=>Ct(f,E)}),C=(f,E,W)=>{W&&(c(),t.value=[]),g({pageNumber:f,$state:E,forceUpdate:W})},a=f=>{f.notification&&t.value.push(f.notification_id),f.updateWebSocketMessage&&f.handleUpdate({paginationElements:s,paginationLoad:g,paginationPage:m},d),d()},u=()=>i.push(R.APPLICATION.PROFILE.MY_PROFILE.absolute);return z.registerCallback(a),K.on("SidebarClearData",()=>{t.value=[],c()}),q(()=>{K.off("SidebarClearData"),z.destroyCallback(a)}),d(),{paginationElements:s,paginationTotalCount:v,paginationPage:m,notReadNotificationCount:o,skipids:t,menuItems:_,isMenuOpened:e,loadDataNotifications:C,paginationClearData:c,goToProfile:u,logOut:()=>{te.clearToken(),i.push(R.AUTHENTICATIONS.LOGIN.absolute)}}}},de=o=>(L("data-v-f76f0d1b"),o=o(),B(),o),wt={class:"b_sidebar_wrapper"},Nt={class:"b_sidebar"},Mt={class:"b_sidebar_top-block"},It=de(()=>n("div",{class:"b_sidebar_picture-top"},[n("img",{src:yt,alt:""})],-1)),At={class:"b_sidebar_menu-block"},$t=["onClick"],xt=["src"],Ot={key:1},Tt=["src"],Ft={class:"b_sidebar_bottom-block"},Lt={class:"b_sidebar_picture-bottom"},Bt=de(()=>n("img",{src:kt,alt:""},null,-1)),Pt=[Bt];function Rt(o,t,i,e,_,d){const s=y("SlideMenu"),m=y("router-link"),v=y("avatar");return l(),r("div",wt,[k(s,{"is-menu-opened":e.isMenuOpened,"onUpdate:is-menu-opened":t[0]||(t[0]=c=>e.isMenuOpened=c),notifications:e.paginationElements,notReadNotificationCount:e.notReadNotificationCount,newNotifications:e.skipids.length,"total-notifications-count":e.paginationTotalCount,onClosed:t[1]||(t[1]=c=>e.paginationClearData()),onLoadingInfinite:t[2]||(t[2]=c=>e.loadDataNotifications(e.paginationPage+1,c)),onReLoading:t[3]||(t[3]=c=>e.loadDataNotifications(1,null,!0)),onLoading:t[4]||(t[4]=c=>e.loadDataNotifications(1,null,!0))},null,8,["is-menu-opened","notifications","notReadNotificationCount","newNotifications","total-notifications-count"]),n("div",Nt,[n("div",Mt,[It,n("div",At,[n("ul",null,[(l(!0),r(A,null,O(e.menuItems,(c,g)=>(l(),r("li",{key:g,class:Se(["b_sidebar_menu-item"]),onClick:C=>c.action&&c.action()},[c.url?(l(),x(m,{key:0,to:c.url},{default:M(()=>[n("img",{src:c.img,alt:""},null,8,xt)]),_:2},1032,["to"])):(l(),r("a",Ot,[n("img",{src:c.img},null,8,Tt)]))],8,$t))),128))])])]),n("div",Ft,[n("div",Lt,[k(v,{"full-name":"Yaroslav Makovskyi",onClick:e.goToProfile},null,8,["onClick"]),n("div",{onClick:t[5]||(t[5]=(...c)=>e.logOut&&e.logOut(...c)),class:"b_sidebar_logout d-flex justify-content-center align-items-center"},Pt)])])])])}const Dt=I(St,[["render",Rt],["__scopeId","data-v-f76f0d1b"]]);const Et={class:"b_breadcrumbs"},Ht={key:0,src:Be,alt:""},Wt={__name:"Breadcrumbs",setup(o){const{breadcrumbs:t}=H().currentRoute.value.meta;return(i,e)=>{const _=y("router-link");return l(),r("div",Et,[n("ul",null,[(l(!0),r(A,null,O(V(t),(d,s)=>(l(),r("li",{key:d.name},[k(_,{to:s+1===V(t).length?"":d.path},{default:M(()=>[$(p(d.name),1)]),_:2},1032,["to"]),s+1!==V(t).length?(l(),r("img",Ht)):h("",!0)]))),128))])])}}},jt=I(Wt,[["__scopeId","data-v-5ed4740b"]]);const zt={name:"SearchModal",props:{clientX:{type:Number,default:0},clientY:{type:Number,default:0}},emits:["closeModal"],setup(o){return{frameStyle:w(()=>({left:`${o.clientX}px`,top:`${o.clientY}px`}))}}};function Ut(o,t,i,e,_,d){return l(),r("div",{class:"b-search-modal",onClick:t[0]||(t[0]=oe(s=>o.$emit("closeModal"),["self"]))},[n("div",{class:"b-search-modal__window-frame",style:N(e.frameStyle)},[X(o.$slots,"frame-data",{},void 0,!0)],4)])}const Vt=I(zt,[["render",Ut],["__scopeId","data-v-a181f07f"]]),Yt="/assets/arrow-long-right.769ebbd9.svg",Xt="/assets/mob-menu-icon.297a58b5.svg",Gt="/assets/logo-header.d812c47e.svg";const qt={components:{BreadCrumbs:jt,InputComponent:Pe,SearchModal:Vt,SearchBlockAll:Re},setup(){const o=b(!1),t=b(0),i=b(0),e=b(369),_=b(0),d=b(window.innerWidth);d.value<576&&(e.value="100%",t.value=0);const s=w(()=>({search:De,arrow:Yt})),m=w(()=>({tags:F.manage_event.tags,teams:F.manage_event.teams}));function v(a){o.value=!0,_.value=e.value-a.target.parentNode.clientWidth,t.value=a.target.parentNode.offsetLeft-_.value,i.value=a.target.parentNode.offsetHeight+20}function c({x:a,y:u}){t.value=a-_.value,i.value=u+20}function g(){o.value=!1}function C(){d.value=window.innerWidth,d.value<576?(e.value="100%",t.value=0):e.value=369}return we(()=>{window.addEventListener("resize",C)}),q(()=>{window.removeEventListener("resize",C)}),{showSearchBlock:v,closeSearchBlock:g,setInputCoordinates:c,icons:s,isSearchBlock:o,clientX:t,clientY:i,mockData:m,modalSearchWidth:e}}},_e=o=>(L("data-v-a20e3ab1"),o=o(),B(),o),Jt={class:"b_header"},Kt=_e(()=>n("img",{src:Xt,alt:""},null,-1)),Qt=[Kt],Zt=_e(()=>n("div",{class:"b_header_logo"},[n("img",{src:Gt,alt:""})],-1)),eo={class:"b_header_search-block"},to={class:"b_header_search-input"};function oo(o,t,i,e,_,d){const s=y("SearchBlockAll"),m=y("SearchModal"),v=y("BreadCrumbs"),c=y("InputComponent");return l(),r("div",Jt,[e.isSearchBlock?(l(),x(m,{key:0,"client-x":e.clientX,"client-y":e.clientY,onCloseModal:e.closeSearchBlock},{"frame-data":M(()=>[k(s,{width:e.modalSearchWidth,tags:e.mockData.tags,"filtered-teams":e.mockData.teams,"list-item-icon":e.icons.arrow},null,8,["width","tags","filtered-teams","list-item-icon"])]),_:1},8,["client-x","client-y","onCloseModal"])):h("",!0),n("div",{class:"b_header_mob-menu-icon",onClick:t[0]||(t[0]=g=>o.$emit("menuIconClick"))},Qt),k(v),Zt,n("div",eo,[n("div",to,[k(c,{"title-width":0,placeholder:o.$t("header.search-events"),icon:e.icons.search,onOnClickAction:e.showSearchBlock,onSendInputCoordinates:e.setInputCoordinates},null,8,["placeholder","icon","onOnClickAction","onSendInputCoordinates"])])])])}const no=I(qt,[["render",oo],["__scopeId","data-v-a20e3ab1"]]),so="/assets/notification-white.ddaba099.svg",io="/assets/record-white.98970178.svg",ao="/assets/members-white.1b7f0bc3.svg",lo="/assets/Settings.1a817c52.svg",co="/assets/Settings-white.d85f4ec1.svg",ro="/assets/logout-icon.82cd7f5e.svg";const _o={name:"MobileMenu",props:{isMenuActive:{type:Boolean,default:!1}},emit:["closeMenu"],setup(o,{emit:t}){const i=b([{id:0,value:"\u0421\u043F\u043E\u0432\u0456\u0449\u0435\u043D\u043D\u044F",value_show:!0,imgInactive:We,imgActive:so,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775"},{id:1,value:"\u041F\u043E\u0434\u0456\u0457",value_show:!0,imgInactive:re,imgActive:io,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775",url:R.APPLICATION.EVENTS.absolute}]),e=b([{id:0,value:"\u0420\u0435\u0439\u0442\u0438\u043D\u0433 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432",value_show:!0,imgInactive:se,imgActive:ao,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775",url:R.APPLICATION.USERS.GENERAL.absolute},{id:1,value:"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u044F",value_show:!0,imgInactive:lo,imgActive:co,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775",url:R.APPLICATION.PROFILE.MY_PROFILE.absolute}]),_=H(),d=w(()=>({letters:F.mob_menu.letters})),s=b("auto"),m=w(()=>({height:s.value})),v=w(()=>({transform:`translateX(${o.isMenuActive?0:-100}%)`}));function c(){g(i),g(e),s.value="auto",t("closeMenu")}function g(a){a.value=a.value.map(u=>({...u,value_show:!0,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775"}))}function C(a,u,S){if(u){_.push(u),c();return}s.value="100%";const f=S==="top-menu"?i:e,E=S==="top-menu"?e:i,W=a?0:1;g(E),f.value=f.value.map(T=>T.id===a?{...T,value_show:!0,isIconActive:!0,width:"80%",height:"52px",alignement:"flex-start",background:"#575775",textColor:"#fff"}:T),f.value=f.value.map(T=>T.id===W?{...T,value_show:!1,isIconActive:!1,width:"20%",height:"52px",alignement:"center",background:"#FFFFFF",textColor:"#575775"}:T)}return{topMenu:i,bottomMenu:e,mockData:d,menuBlockStyle:m,mobMenuStyle:v,lineMenuClick:C,closeMobMenu:c}}},U=o=>(L("data-v-c394fc3d"),o=o(),B(),o),uo={class:"b-mob-menu__logo-block"},mo={class:"b-mob-menu__logo"},fo={class:"b-mob-menu__user-data"},vo=U(()=>n("div",{class:"b-mob-menu__user-img"},[n("img",{src:Ne,alt:""})],-1)),bo={class:"b-mob-menu__text-block"},go=U(()=>n("div",{class:"b-mob-menu__user-name"},"\u0421\u0442\u0435\u0444\u0430\u043D\u0456\u044F \u041A\u0430\u043B\u0438\u043D\u043E\u0432\u0441\u044C\u043A\u0430",-1)),po={class:"b-mob-menu__account-type"},ho=U(()=>n("div",{class:"b-mob-menu__logout-icon"},[n("img",{src:ro,alt:""})],-1)),yo={class:"b-mob-menu__line"},ko=["onClick"],Co=["src"],So={key:0},wo={class:"b-mob-menu__content-block"},No={class:"b-mob-menu__message-list"},Mo={class:"b-mob-menu__left-side"},Io=["src"],Ao=U(()=>n("div",{class:"b-mob-menu__is-user-active"},null,-1)),$o={class:"b-mob-menu__right-side"},xo={class:"b-mob-menu__top-line"},Oo={class:"b-mob-menu__bottom-line"},To=["src"],Fo={class:"b-mob-menu__line"},Lo=["onClick"],Bo=["src"],Po={key:0};function Ro(o,t,i,e,_,d){return l(),r("div",{class:"b-mob-menu",style:N(e.mobMenuStyle)},[n("div",uo,[n("div",mo,p(o.$t("menu.blanball")),1),n("div",{class:"b-mob-menu__close",onClick:t[0]||(t[0]=(...s)=>e.closeMobMenu&&e.closeMobMenu(...s))},"\xD7")]),n("div",fo,[vo,n("div",bo,[go,n("div",po,p(o.$t("menu.guest-account")),1)]),ho]),n("div",{class:"b-mob-menu__menu-block",style:N(e.menuBlockStyle)},[n("div",yo,[(l(!0),r(A,null,O(e.topMenu,s=>(l(),r("div",{class:"b-mob-menu__menu-item",key:s.id,style:N({width:s.width,height:s.height,"justify-content":s.alignement,background:s.background,color:s.textColor}),onClick:m=>e.lineMenuClick(s.id,s.url,"top-menu")},[n("img",{src:s.isIconActive?s.imgActive:s.imgInactive,alt:""},null,8,Co),s.value_show?(l(),r("span",So,p(s.value),1)):h("",!0)],12,ko))),128))]),n("div",wo,[n("div",No,[(l(!0),r(A,null,O(e.mockData.letters,s=>(l(),r("div",{class:"b-mob-menu__message",key:s.id},[n("div",Mo,[n("img",{src:s.userImg,alt:""},null,8,Io),Ao]),n("div",$o,[n("div",xo,[n("span",null,p(s.sender),1),n("span",null,p(s.time),1)]),n("div",Oo,[n("span",null,p(s.topic),1),n("img",{src:s.icon,alt:""},null,8,To)])])]))),128))])]),n("div",Fo,[(l(!0),r(A,null,O(e.bottomMenu,s=>(l(),r("div",{class:"b-mob-menu__menu-item",key:s.id,style:N({width:s.width,height:s.height,"justify-content":s.alignement,background:s.background,color:s.textColor}),onClick:m=>e.lineMenuClick(s.id,s.url)},[n("img",{src:s.isIconActive?s.imgActive:s.imgInactive,alt:""},null,8,Bo),s.value_show?(l(),r("span",Po,p(s.value),1)):h("",!0)],12,Lo))),128))])],4)],4)}const Do=I(_o,[["render",Ro],["__scopeId","data-v-c394fc3d"]]),Eo="/assets/cloud-hands.1bbdf146.svg";const Ho={name:"ModalTopCard",props:{step:{type:Object,default:()=>({})},isOpened:{type:Boolean,default:!0}},setup(o){const t=w(()=>({transform:o.isOpened?"rotate(-180deg)":"rotate(-90deg)"})),i=w(()=>({"font-weight":700,"font-size":"24px","line-height":"28px",color:"#262541"})),e=w(()=>({height:o.isOpened?"auto":0}));return{lastTitleStyle:i,mainBlockCardStyle:e,arrowStyle:t}}},ue=o=>(L("data-v-a14e2eed"),o=o(),B(),o),Wo={class:"b-modal-top-card"},jo={class:"b-modal-top-card__arrow-cross-block"},zo=ue(()=>n("img",{src:ne,alt:""},null,-1)),Uo=[zo],Vo=ue(()=>n("img",{src:ie,alt:""},null,-1)),Yo=[Vo],Xo={class:"b-modal-top-card__title-wrapper"},Go={key:0,src:Eo,alt:"cloud-hands"},qo={class:"b-modal-top-card__subtitle"},Jo={class:"b-modal-top-card__last-subtitle"},Ko={key:0,class:"b-modal-top-card__emotions"},Qo=["src"],Zo={key:1,class:"b-modal-top-card__btns-block"};function en(o,t,i,e,_,d){return l(),r("div",Wo,[n("div",jo,[i.step.id!==4?(l(),r("div",{key:0,class:"b-modal-top-card__arrow",style:N(e.arrowStyle),onClick:t[0]||(t[0]=s=>o.$emit("arrowClick"))},Uo,4)):(l(),r("div",{key:1,class:"b-modal-top-card__cross",onClick:t[1]||(t[1]=s=>o.$emit("crossClick"))},Yo))]),n("div",Xo,[i.step.id===4?(l(),r("img",Go)):h("",!0),n("div",{class:"b-modal-top-card__title",style:N(i.step.id===4&&e.lastTitleStyle)},p(i.step.title),5)]),n("div",{class:"b-modal-top-card__main-block",style:N(e.mainBlockCardStyle)},[n("div",qo,p(i.step.subtitle),1),n("div",Jo,p(i.step.last_subtitle),1),i.step.emojies?(l(),r("div",Ko,[(l(!0),r(A,null,O(i.step.emojies,s=>(l(),r("div",{key:s,class:"b-modal-top-card__emoji"},[n("img",{src:s,alt:""},null,8,Qo)]))),128))])):h("",!0),i.step.buttons?(l(),r("div",Zo,[n("div",{class:"b-modal-top-card__cancel-btn",onClick:t[2]||(t[2]=s=>o.$emit("cancelClick"))},p(i.step.buttons.cancel),1),n("div",{class:"b-modal-top-card__next-btn",onClick:t[3]||(t[3]=s=>o.$emit("nextClick"))},p(i.step.buttons.next),1)])):h("",!0)],4)])}const tn=I(Ho,[["render",en],["__scopeId","data-v-a14e2eed"]]),on="/assets/message-icon.1dfc3fdb.svg";const nn={name:"RatePlayerCard",components:{StarRating:Ee},props:{player:{type:Object,default:()=>({})}},setup(o){return{rating:b(3)}}},sn=o=>(L("data-v-5b3e7df5"),o=o(),B(),o),an={class:"b-player-card"},ln={class:"b-player-card__left-part"},cn={class:"b-player-card__player-name"},rn={class:"b-player-card__right-part"},dn={class:"b-player-card__rating"},_n=sn(()=>n("div",{class:"b-player-card__message"},[n("img",{src:on,alt:""})],-1));function un(o,t,i,e,_,d){const s=y("star-rating");return l(),r("div",an,[n("div",ln,[n("div",{class:"b-player-card__team-label",style:N({background:i.player.color})},p(i.player.label),5),n("div",cn,p(i.player.name),1)]),n("div",rn,[n("div",dn,[k(s,{rating:e.rating,"star-size":14,"show-rating":!1,"read-only":!0,"active-color":"#148783"},null,8,["rating"])]),_n])])}const mn=I(nn,[["render",un],["__scopeId","data-v-5b3e7df5"]]);const fn={name:"ModalBottomCard",components:{RatePlayerCard:mn},props:{isOpened:{type:Boolean,default:!1}},setup(o){const t=w(()=>({width:o.isOpened?"888px":"400px",height:o.isOpened?"656px":"auto"})),i=w(()=>({transform:o.isOpened?"rotate(-180deg)":"rotate(-90deg)"})),e=w(()=>F.modal_feedback.players);return{bottomCardStyle:t,arrowStyle:i,players:e}}},me=o=>(L("data-v-a4a2112c"),o=o(),B(),o),vn={class:"b-modal-bottom-card__title-line"},bn={class:"b-modal-bottom-card__title"},gn=me(()=>n("img",{src:ne,alt:""},null,-1)),pn=[gn],hn={key:0,class:"b-modal-bottom-card__send-complain"},yn=me(()=>n("img",{src:He,alt:""},null,-1)),kn={key:0,class:"b-modal-bottom-card__players-viewport"},Cn={class:"b-modal-bottom-card__players-wrapper"},Sn={class:"b-modal-bottom-card__team-1"},wn={class:"b-modal-bottom-card__team-2"};function Nn(o,t,i,e,_,d){const s=y("RatePlayerCard");return l(),x(Me,null,{default:M(()=>[n("div",{class:"b-modal-bottom-card",style:N(e.bottomCardStyle)},[n("div",vn,[n("div",bn,p(o.$t("modal_feedback.evaluate_game")),1),n("div",{class:"b-modal-bottom-card__arrow",style:N(e.arrowStyle),onClick:t[0]||(t[0]=m=>o.$emit("arrowClick"))},pn,4),i.isOpened?(l(),r("div",hn,[yn,$(" "+p(o.$t("modal_feedback.complain")),1)])):h("",!0)]),i.isOpened?(l(),r("div",kn,[n("div",Cn,[n("div",Sn,[(l(!0),r(A,null,O(e.players.team_1,m=>(l(),x(s,{key:m.id,player:m},null,8,["player"]))),128))]),n("div",wn,[(l(!0),r(A,null,O(e.players.team_2,m=>(l(),x(s,{key:m.id,player:m},null,8,["player"]))),128))])])])):h("",!0)],4)]),_:1})}const Mn=I(fn,[["render",Nn],["__scopeId","data-v-a4a2112c"]]);const In={name:"ModalFeedback",components:{ModalTopCard:tn,ModalBottomCard:Mn},setup(){const o=b(!0),t=w(()=>F.modal_feedback.steps),i=b(0);function e(){o.value=!o.value}return{steps:t,currentStep:i,isCardTopOpened:o,toggleCard:e}}},An={class:"b-modal-feedback"},$n={key:0,class:"b-modal-feedback__window"};function xn(o,t,i,e,_,d){const s=y("ModalTopCard"),m=y("ModalBottomCard");return l(),r("div",null,[n("div",{class:"b-modal-feedback__modal-wrapper",onClick:t[3]||(t[3]=oe(v=>o.$emit("close-modal"),["self"]))},[n("div",An,[(l(!0),r(A,null,O(e.steps,v=>(l(),r(A,{key:v.id},[e.currentStep===v.id?(l(),r("div",$n,[k(s,{step:v,"is-opened":e.isCardTopOpened,onCancelClick:t[0]||(t[0]=c=>e.currentStep--),onNextClick:t[1]||(t[1]=c=>e.currentStep++),onCrossClick:t[2]||(t[2]=c=>o.$emit("close-modal")),onArrowClick:e.toggleCard},null,8,["step","is-opened","onArrowClick"]),k(m,{"is-opened":!e.isCardTopOpened,onArrowClick:e.toggleCard},null,8,["is-opened","onArrowClick"])])):h("",!0)],64))),128))])])])}const On=I(In,[["render",xn],["__scopeId","data-v-b5f3273e"]]),Tn="/assets/message_audio.1867ec07.mp3";const Fn={class:"main-wrapper"},Ln={class:"main-block"},Bn={class:"container"},Pn={class:"main-body-inner"},qn={__name:"index",setup(o){const t=b(!1),i=b({review:{data:{},active:!1}}),e=H(),_=Ie(),d=new Audio(Tn);let s;const m=async(a,u)=>{clearTimeout(s),await ee({item:a,notificationInstance:u,router:e})},v=(a,u,S)=>{const f=c(a,u);f.componentOptions.props.active=S,_.update(u,{content:f.componentOptions,options:f.options})},c=(a,u)=>{const S=a.actions.find(f=>f.type===G.Close);return a.actions=a.actions.filter(f=>f.type!==G.Close),{componentOptions:{component:J,props:{notificationInstance:a,notificationType:"notification-push"},listeners:{handlerAction:async f=>{v(a,u,!0),await m(f,a),v(a,u,!1),_.dismiss(u)},handlerClose:async()=>{S&&(v(a,u,!0),await m(S,a),v(a,u,!1)),_.dismiss(u)}}},options:{id:u,timeout:!1,position:"top-right",closeOnClick:!1,draggable:!1,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!1,rtl:!1,toastClassName:[a.getPushNotificationTheme()]}}},g=a=>{const u=c(a,ae()),S=_(u.componentOptions,u.options);a.timeForClose&&(s=setTimeout(()=>{_.dismiss(S)},a.timeForClose))},C=a=>{a.pushNotification&&(g(a),d.play())};return z.registerCallback(C).connect({token:te.getToken()}),q(()=>{z.destroyCallback(C).disconnect()}),(a,u)=>{const S=y("router-view");return l(),r("div",Fn,[k(Do,{isMenuActive:t.value,onCloseMenu:u[0]||(u[0]=f=>t.value=!1)},null,8,["isMenuActive"]),k(Dt),n("div",Ln,[n("div",Bn,[n("div",Pn,[k(no,{onMenuIconClick:u[1]||(u[1]=f=>t.value=!0)}),k(S)])])]),i.value.review.active?(l(),x(On,{key:0,onCloseModal:a.toggleModal},null,8,["onCloseModal"])):h("",!0)])}}};export{qn as default};
