import{_ as V,C as k,r as l,o as b,j as A,w as F,f as s,a as d,t as _,g as I,p as $,i as L,d as h,x as R,c as U,e as S,m as N,k as O,l as z,h as T,bX as G,u as Y,R as j,V as q,W as X,O as H,A as J}from"./index.a87692b6.js";import{I as P}from"./InputComponent.8565bb3f.js";import{S as K}from"./VueStarRating.common.8764c71a.js";import{A as Q,C as Z,I as ee,S as te,E as ae,P as se}from"./index.ec420b96.js";import{a as oe}from"./SimpleListWrapper.9cc3d52f.js";import{R as ie}from"./RightSidebar.7cb4dc35.js";import{m as ne}from"./members.a11d1bd6.js";import{_ as E}from"./search.0f589d58.js";import{m as re,R as le,B as de,C as _e,M as ce,F as ue,T as me,a as pe}from"./RadioGenderBox.28506c1d.js";import{D as B}from"./Dropdown.a6b9a975.js";import{C as ge}from"./Checkbox.093b1817.js";import{t as fe}from"./tick-white.e3a033e2.js";import{M as ve}from"./ModalWindow.546b9b63.js";import{G as be}from"./GreenBtn.8a2bdb09.js";import{u as he}from"./widthScreen.9cd91fc0.js";import{a as ye}from"./set-filter.0a712c14.js";import{v as Fe}from"./v4.5d18198f.js";import"./PositionMap.8984c795.js";import"./location-point.2a3329f4.js";import"./hands-shake.318451ae.js";import"./uk.cb0e459b.js";import"./cross.90e335cf.js";import"./object.0e8161d1.js";const we="/assets/runner.cf2ac45a.svg",De="/assets/unisex-icon2.96c4663b.svg";const Se={name:"UserCard",components:{StarRating:K,Avatar:Q,CollapsiblePanel:Z},props:{userData:{type:Object,default:()=>{}}},emits:["openUserProfile"],computed:{userPosition(){return k.users_page.user_position},expanding:{set(){var a,t;this.$emit("update:expanding",!((t=(a=this.userData)==null?void 0:a.metadata)!=null&&t.expanding))},get(){var a,t;return!!((t=(a=this.userData)==null?void 0:a.metadata)!=null&&t.expanding)}}}},x=a=>($("data-v-0ab5b6f1"),a=a(),L(),a),ke={class:"b-user-card"},Ae={class:"b-user-card__top-line"},Ue={class:"b-user-card__picture-name"},Ve={class:"b-user-card__picture"},Ce={class:"b-user-card__name-pnz"},Re={class:"b-user-card__top-line-name-rating"},Me={class:"b-user-card__name"},Te={class:"b-user-card__team-rating-mob"},xe={class:"b-user-card__rating-team"},Ie={class:"b-user-card__top-line-rating-status"},$e={class:"b-user-card__team-rating"},Le={class:"b-user-card__team-status"},Pe=x(()=>s("div",{class:"b-user-card__team"},"\u041A\u0430\u043A\u0430\u044F-\u0442\u043E \u043A\u043E\u043C\u0430\u043D\u0434\u0430",-1)),Ee={class:"b-user-card__status-mob"},Be={class:"b-user-card__user-status"},We=x(()=>s("img",{src:we,alt:"runner icon"},null,-1)),Ne={class:"b-user-card__status"},Oe={class:"b-user-card__flipping-part"},ze={class:"b-user-card__pnz"},Ge={class:"b-user-card__gender"},Ye={class:"title"},je=x(()=>s("span",{class:"icon"},[s("img",{src:De,alt:"gender icon"})],-1));function qe(a,t,i,e,c,p){const r=l("avatar"),n=l("star-rating"),f=l("collapsible-panel");return b(),A(f,{expanding:p.expanding,"onUpdate:expanding":t[1]||(t[1]=u=>p.expanding=u)},{title:F(()=>[s("div",ke,[s("div",Ae,[s("div",Ue,[s("div",Ve,[d(r,{onClickByAvatar:t[0]||(t[0]=u=>a.$emit("openUserProfile")),link:i.userData.profile.avatar_url,"full-name":i.userData.profile.name+" "+i.userData.profile.last_name},null,8,["link","full-name"])]),s("div",Ce,[s("div",Re,[s("div",Me,_(i.userData.profile.name)+" "+_(i.userData.profile.last_name),1),s("div",Te,[d(n,{rating:i.userData.raiting||0,"star-size":14,"show-rating":!1,"read-only":!0,"active-color":"#148783"},null,8,["rating"])])])])]),s("div",xe,[s("div",Ie,[s("div",$e,[d(n,{rating:i.userData.raiting||0,"star-size":14,"show-rating":!1,"read-only":!0,"active-color":"#148783"},null,8,["rating"])]),s("div",Le,[Pe,s("div",Ee,_(i.userData.role),1)])])]),s("div",Be,[We,s("div",Ne,_(i.userData.role),1)])])])]),content:F(()=>[s("div",Oe,[s("div",ze,[I(_(i.userData.profile.position)+" ",1),s("span",null,_(p.userPosition[i.userData.profile.position]),1)]),s("div",Ge,[s("span",Ye,_(a.$t("users.gender")),1),je,s("span",null,_(i.userData.profile.gender),1)])])]),_:1},8,["expanding"])}const Xe=V(Se,[["render",qe],["__scopeId","data-v-0ab5b6f1"]]);const He={components:{Slider:re},emits:["update:ageRange"],props:{ageRange:{type:Array,default:()=>[6,80]}},setup(a,{emit:t}){const i=h(null),e=h(null),c=h(null);c.value=a.ageRange,i.value=a.ageRange[0],e.value=a.ageRange[1],R(()=>a.ageRange,r=>{c.value=r,i.value=r[0],e.value=r[1]});function p(r){i.value=r[0],e.value=r[1],t("update:ageRange",r)}return{onSliderDrag:p,minAge:i,maxAge:e,rangeValue:c}}},Je={class:"b-range-filter__slider-wrapper"},Ke={class:"b-range-filter__slider-title"},Qe={class:"b-range-filter__left-side"},Ze={class:"b-range-filter__slider"},et={class:"b-range-filter__right-side"};function tt(a,t,i,e,c,p){const r=l("slider");return b(),U("div",Je,[s("div",Ke,_(a.$t("users.age-area")),1),s("div",Qe,[s("div",Ze,[d(r,{class:"filter-style",min:6,max:80,modelValue:e.rangeValue,"onUpdate:modelValue":t[0]||(t[0]=n=>e.rangeValue=n),tooltips:!1,onChange:e.onSliderDrag},null,8,["modelValue","onChange"])])]),s("div",et,_(e.minAge)+" - "+_(e.maxAge),1)])}const W=V(He,[["render",tt],["__scopeId","data-v-ddcff7c0"]]);const at={name:"ModalUsersFilters",components:{ModalWindow:ve,GreenBtn:be,Dropdown:B,RangeFilter:W,RadioGenderBox:le},props:{dropdownPosition:{type:String,default:""},rangeSlider:{type:Array,default:()=>[]},gender:{type:String,default:""}},emits:["closeModal","setModalWindowFilters","clearFilters","update:dropdownPosition","update:rangeSlider","update:gender"],setup(a,{emit:t}){const i=h(a.dropdownPosition),e=h(a.rangeSlider),c=h(a.gender),p=S(()=>k.profile.position),r=S(()=>fe);R(()=>c.value,u=>{t("update:gender",u)}),R(()=>e.value,u=>{t("update:rangeSlider",u)}),R(()=>i.value,u=>{t("update:dropdownPosition",u)});function n(){t("setModalWindowFilters"),t("closeModal")}function f(){t("clearFilters"),i.value="",c.value=""}return{setFilters:n,clearAllData:f,positions:p,icon:r,positionData:i,ageRangeData:e,genderData:c}}},st={class:"b-modal-filters"},ot={class:"b-modal-filters__title"},it={class:"b-modal-filters__subtitle"},nt={class:"b-modal-filters__game-type-input"},rt={class:"b-modal-filters__age-range"},lt={class:"b-modal-filters__gender"},dt={class:"b-modal-filters__btns-block"};function _t(a,t,i,e,c,p){const r=l("Dropdown"),n=l("RangeFilter"),f=l("RadioGenderBox"),u=l("GreenBtn"),y=l("ModalWindow");return b(),A(N,null,{default:F(()=>[d(y,{"is-title-shown":!1,"window-width":332,onCloseModal:t[4]||(t[4]=m=>a.$emit("closeModal"))},{"modal-filter":F(()=>[s("div",st,[s("div",ot,_(a.$t("users.filters")),1),s("div",it,_(a.$t("users.found"))+" 15 "+_(a.$t("users.advertisments")),1),s("div",nt,[d(r,{"check-value-immediate":!0,"main-title":a.$t("users.position"),options:e.positions,placeholder:a.$t("users.position"),"display-name":"name","display-value":"value",modelValue:e.positionData,"onUpdate:modelValue":t[0]||(t[0]=m=>e.positionData=m),name:"position"},null,8,["main-title","options","placeholder","modelValue"])]),s("div",rt,[d(n,{"age-range":e.ageRangeData,"onUpdate:age-range":t[1]||(t[1]=m=>e.ageRangeData=m)},null,8,["age-range"])]),s("div",lt,[d(f,{gender:e.genderData,"onUpdate:gender":t[2]||(t[2]=m=>e.genderData=m)},null,8,["gender"])]),s("div",dt,[s("div",{class:"b-modal-filters__cancel-btn",onClick:t[3]||(t[3]=(...m)=>e.clearAllData&&e.clearAllData(...m))},_(a.$t("buttons.clear")),1),d(u,{text:a.$t("buttons.apply"),icon:e.icon,width:140,onClickFunction:e.setFilters},null,8,["text","icon","onClickFunction"])])])]),_:1})]),_:1})}const ct=V(at,[["render",_t],["__scopeId","data-v-8a7109b5"]]),ut="/assets/arrow-top.a002ae55.svg",mt="/assets/arrow-down2.cdaec28e.svg";const pt={name:"UsersFilters",components:{Checkbox:ge,Dropdown:B,InputComponent:P,ButtonDetailsFilters:de,ClearFilters:_e,ModalPositionMap:ce,FilterBlock:ue,RangeFilter:W,ModalFilters:ct},props:{modelValue:{type:Object,default:()=>({profile__gender:"",profile__age_min:6,profile__age_max:80,is_online:null,search:"",profile__position:"",ordering:"",dist:"",point:[]})}},emits:["update:value","clearFilters"],setup(a,{emit:t}){const{isMobile:i,isTablet:e,onResize:c}=he(),p=h(!1),r=h({inputMask:"YYYY-MM-DD",modelConfig:{type:"string",mask:"YYYY-MM-DD"}}),n=S(()=>({search:E,arrowDown:mt,arrowTop:ut})),f=S(()=>k.profile.position),u=S(()=>k.users_page.gender),y=S(()=>[{value:"id",name:"\u0430\u0439\u0434\u0438",iconSrc:n.value.arrowTop},{value:"profile__age",name:"\u0432\u043E\u0437\u0440\u0430\u0441\u0442",iconSrc:n.value.arrowTop},{value:"raiting",name:"\u0440\u0435\u0439\u0442\u0438\u043D\u0433",iconSrc:n.value.arrowTop},{value:"-id",name:"\u0430\u0439\u0434\u0438",iconSrc:n.value.arrowDown},{value:"-profile__age",name:"\u0432\u043E\u0437\u0440\u0430\u0441\u0442",iconSrc:n.value.arrowDown},{value:"-raiting",name:"\u0440\u0435\u0439\u0442\u0438\u043D\u0433",iconSrc:n.value.arrowDown}]),{activeFilters:m,transformedFilters:w,updateRealData:o}=me({props:a,emit:t,isMobile:i,isTablet:e,setupTransformedCallback(){var g,M,v,C;return{profile__gender:a.modelValue.profile__gender.value,profile__position:a.modelValue.profile__position.value,profile__age:[a.modelValue.profile__age_min.value||a.modelValue.profile__age_min.default,a.modelValue.profile__age_max.value||a.modelValue.profile__age_max.default],ordering:a.modelValue.ordering.value,search:a.modelValue.search.value,place:{dist:(M=(g=a.modelValue)==null?void 0:g.dist)==null?void 0:M.value,point:(C=(v=a.modelValue)==null?void 0:v.point)==null?void 0:C.value},is_online:a.modelValue.is_online.value}},updateRealDataFromTransformed(g){return{profile__gender:g.profile__gender,profile__age_min:g.profile__age[0],profile__age_max:g.profile__age[1],is_online:g.is_online,profile__position:g.profile__position,search:g.search,ordering:g.ordering,dist:g.place.dist,point:g.place.point}},ifSecondLineWasUsed(){return a.modelValue.profile__age_min.value||a.modelValue.profile__age_max.value?!(a.modelValue.profile__age_min.value===a.modelValue.profile__age_min.default&&a.modelValue.profile__age_max.value===a.modelValue.profile__age_max.default):!1}});O(()=>{window.addEventListener("resize",c)}),z(()=>{window.removeEventListener("resize",c)});function D(){o()}return{setModalFilters:D,ordering:y,gender:u,positions:f,activeFilters:m,transformedFilters:w,icons:n,isModalFiltersActive:p,calendar:r}}},gt=a=>($("data-v-817ebc92"),a=a(),L(),a),ft={class:"b-users-filters"},vt={class:"b-users-filters__first-line"},bt={class:"b-users-filters__left-part d-flex"},ht={class:"b-users-filters__dropdown-sorting"},yt={class:"b-users-filters__dropdown-position"},Ft={class:"b-users-filters__dropdown-gender"},wt={class:"b-users-filters__right-part d-flex"},Dt={class:"b-users-filters__input"},St={key:0,class:"b-users-filters__second-line"},kt={class:"b-users-filters__age-filter-wrapp"},At={class:"b-users-filters__mob-line"},Ut={class:"b-users-filters__sorting"},Vt={class:"b-users-filters__fitering"},Ct=gt(()=>s("img",{src:ye,alt:""},null,-1)),Rt=[Ct],Mt={class:"b-users-filters__text-block"},Tt={class:"b-users-filters__title"},xt={class:"b-users-filters__text"};function It(a,t,i,e,c,p){const r=l("ModalFilters"),n=l("dropdown"),f=l("input-component"),u=l("clear-filters"),y=l("button-details-filters"),m=l("RangeFilter"),w=l("filter-block");return b(),A(w,null,{default:F(()=>[e.isModalFiltersActive?(b(),A(r,{key:0,"dropdown-position":e.transformedFilters.profile__position,"onUpdate:dropdown-position":t[0]||(t[0]=o=>e.transformedFilters.profile__position=o),"range-slider":e.transformedFilters.profile__age,"onUpdate:range-slider":t[1]||(t[1]=o=>e.transformedFilters.profile__age=o),gender:e.transformedFilters.profile__gender,"onUpdate:gender":t[2]||(t[2]=o=>e.transformedFilters.profile__gender=o),onCloseModal:t[3]||(t[3]=o=>e.isModalFiltersActive=!1),onSetModalWindowFilters:e.setModalFilters,onClearFilters:t[4]||(t[4]=o=>a.$emit("clearFilters"))},null,8,["dropdown-position","range-slider","gender","onSetModalWindowFilters"])):T("",!0),s("div",ft,[s("div",vt,[s("div",bt,[s("div",ht,[d(n,{"check-value-immediate":!0,options:e.ordering,placeholder:a.$t("users.sorting"),height:32,"display-name":"name","display-value":"value",modelValue:e.transformedFilters.ordering,"onUpdate:modelValue":t[5]||(t[5]=o=>e.transformedFilters.ordering=o),name:"sorting"},null,8,["options","placeholder","modelValue"])]),s("div",yt,[d(n,{"check-value-immediate":!0,options:e.positions,placeholder:a.$t("users.position"),height:32,"display-name":"name","display-value":"value",modelValue:e.transformedFilters.profile__position,"onUpdate:modelValue":t[6]||(t[6]=o=>e.transformedFilters.profile__position=o),name:"position"},null,8,["options","placeholder","modelValue"])]),s("div",Ft,[d(n,{"check-value-immediate":!0,options:e.gender,placeholder:a.$t("users.gender"),height:32,"display-name":"name","display-value":"value",modelValue:e.transformedFilters.profile__gender,"onUpdate:modelValue":t[7]||(t[7]=o=>e.transformedFilters.profile__gender=o),name:"gender"},null,8,["options","placeholder","modelValue"])])]),s("div",wt,[s("div",Dt,[d(f,{placeholder:a.$t("users.users-search"),height:32,"title-width":0,icon:e.icons.search,modelValue:e.transformedFilters.search,"onUpdate:modelValue":t[8]||(t[8]=o=>e.transformedFilters.search=o),name:"search"},null,8,["placeholder","icon","modelValue"])]),d(u,{onClear:t[9]||(t[9]=o=>a.$emit("clearFilters"))}),d(y,{active:e.activeFilters,"onUpdate:active":t[10]||(t[10]=o=>e.activeFilters=o)},null,8,["active"])])]),e.activeFilters?(b(),U("div",St,[s("div",kt,[d(m,{"age-range":e.transformedFilters.profile__age,"onUpdate:age-range":t[11]||(t[11]=o=>e.transformedFilters.profile__age=o)},null,8,["age-range"])])])):T("",!0),s("div",At,[s("div",Ut,[d(n,{"check-value-immediate":!0,options:e.ordering,height:32,placeholder:a.$t("users.sorting"),"display-name":"name","display-value":"value",modelValue:e.transformedFilters.ordering,"onUpdate:modelValue":t[12]||(t[12]=o=>e.transformedFilters.ordering=o),name:"sorting"},null,8,["options","placeholder","modelValue"])]),s("div",Vt,[s("div",{class:"b-users-filters__icon",onClick:t[13]||(t[13]=o=>e.isModalFiltersActive=!0)},Rt),s("div",Mt,[s("div",Tt,_(a.$t("users.filters")),1),s("div",xt,_(a.$t("users.found"))+" 15 "+_(a.$t("users.advertisments")),1)])])])])]),_:1})}const $t=V(pt,[["render",It],["__scopeId","data-v-817ebc92"]]);const Lt={name:"RatingPage",components:{InputComponent:P,UserCard:Xe,SmartList:oe,InfiniteLoading:ee,ScrollToTop:te,EmptyList:ae,UsersFilters:$t,RightSidebar:ie},setup(){const a=G(),t=Y(),i=h(),e=h(!1),c=h(!1),p=()=>{c.value=Fe()},{paginationElements:r,paginationPage:n,paginationTotalCount:f,paginationLoad:u,paginationClearData:y}=se({paginationDataRequest:v=>J.UserService.getAllUsers({...w(),page:v}),dataTransformation:v=>(v.metadata={expanding:!1},v)}),m=S(()=>({title:k.no_data_notifications.noUsers.title,description:k.no_data_notifications.noUsers.description}));n.value=1,r.value=a.meta.usersData.data.results;const{getRawFilters:w,filters:o,setFilters:D,clearFilters:g}=pe({router:t,filters:{dist:{type:Number,default:null},ordering:{type:String,default:""},point:{type:Number,default:null},profile__age_min:{type:Number,default:6},profile__age_max:{type:Number,default:80},profile__position:{type:String,default:""},profile__gender:{type:String,default:""},search:{type:String,default:""},is_online:{type:Boolean,default:!1}},afterUpdateFiltersCallBack:()=>{p(),y()}});return{paginationElements:r,paginationPage:n,paginationTotalCount:f,refList:i,emptyListMessages:m,blockScrollToTopIfExist:e,filters:o,triggerForRestart:c,loadDataPaginationData:(v,C)=>{u({pageNumber:v,$state:C,forceUpdate:n.value===1})},scrollToFirstElement:()=>{i.value.scrollToFirstElement()},openUserProfile:v=>{t.push(j.APPLICATION.USERS.GET_ONE.absolute(v))},setFilters:D,clearFilters:g}},data(){return{eventData:{gender:""},tabs:[{id:0,name:"general",img:ne,url:"/application/users/general",isActive:!0}],calendar:[{id:0,week:[{id:0,day:"\u041F\u043D",number:13,isActive:!1},{id:1,day:"\u0412\u0442",number:14,isActive:!1},{id:2,day:"\u0421\u0440",number:15,isActive:!1},{id:3,day:"\u0427\u0442",number:16,isActive:!1},{id:4,day:"\u041F\u0442",number:17,isActive:!1},{id:5,day:"\u0421\u0431",number:18,isActive:!1},{id:6,day:"\u0412\u0441",number:19,isActive:!0}]},{id:1,week:[{id:0,day:"\u041F\u043D",number:20,isActive:!1},{id:1,day:"\u0412\u0442",number:21,isActive:!1},{id:2,day:"\u0421\u0440",number:22,isActive:!0},{id:3,day:"\u0427\u0442",number:23,isActive:!1},{id:4,day:"\u041F\u0442",number:24,isActive:!1},{id:5,day:"\u0421\u0431",number:25,isActive:!1},{id:6,day:"\u0412\u0441",number:26,isActive:!1}]},{id:2,week:[{id:0,day:"\u041F\u043D",number:27,isActive:!0},{id:1,day:"\u0412\u0442",number:28,isActive:!1},{id:2,day:"\u0421\u0440",number:29,isActive:!1},{id:3,day:"\u0427\u0442",number:30,isActive:!1},{id:4,day:"\u041F\u0442",number:31,isActive:!1},{id:5,day:"\u0421\u0431",number:1,isActive:!1},{id:6,day:"\u0412\u0441",number:2,isActive:!1}]}]}},computed:{searchIcon(){return E}},methods:{}},Pt={class:"events-page"},Et={class:"main-body"},Bt={class:"header-block"},Wt={class:"left-part"},Nt={class:"title"},Ot={class:"tab-block-wrapper"},zt={class:"tab-block"},Gt=["onClick"],Yt=["src","alt"],jt={class:"user-cards-wrapper"},qt={class:"users-cards"};function Xt(a,t,i,e,c,p){const r=l("users-filters"),n=l("UserCard"),f=l("EmptyList"),u=l("ScrollToTop"),y=l("InfiniteLoading"),m=l("SmartList"),w=l("RightSidebar");return b(),U("div",Pt,[s("div",Et,[s("div",Bt,[s("div",Wt,[s("div",Nt,_(a.$t("users.title")),1)])]),s("div",Ot,[s("div",zt,[(b(!0),U(q,null,X(c.tabs,o=>(b(),U("div",{key:o.id,class:H(["tab-element",{active:o.isActive}]),onClick:D=>a.changeTab(o.id,o.url)},[s("img",{src:o.img,alt:o.name},null,8,Yt),I(" "+_(a.$t("users."+o.name)),1)],10,Gt))),128))])]),d(r,{"model-value":e.filters,"onUpdate:value":e.setFilters,onClearFilters:e.clearFilters},null,8,["model-value","onUpdate:value","onClearFilters"]),s("div",jt,[s("div",qt,[d(m,{list:e.paginationElements,ref:"refList","scrollbar-existing":e.blockScrollToTopIfExist,"onUpdate:scrollbar-existing":t[2]||(t[2]=o=>e.blockScrollToTopIfExist=o)},{smartListItem:F(o=>[(b(),A(n,{key:o.index,"user-data":o.smartListItem,"onUpdate:expanding":D=>o.smartListItem.metadata.expanding=D,onOpenUserProfile:D=>e.openUserProfile(o.smartListItem.id)},null,8,["user-data","onUpdate:expanding","onOpenUserProfile"]))]),after:F(()=>[d(y,{identifier:e.triggerForRestart,ref:"scrollbar",onInfinite:t[1]||(t[1]=o=>e.loadDataPaginationData(e.paginationPage+1,o))},{complete:F(()=>[e.paginationElements.length?T("",!0):(b(),A(f,{key:0,title:e.emptyListMessages.title,description:e.emptyListMessages.title},null,8,["title","description"])),d(u,{"element-length":e.paginationElements,"is-scroll-top-exist":e.blockScrollToTopIfExist,onScrollButtonClicked:t[0]||(t[0]=o=>e.scrollToFirstElement())},null,8,["element-length","is-scroll-top-exist"])]),_:1},8,["identifier"])]),_:1},8,["list","scrollbar-existing"])])])]),d(w)])}const ba=V(Lt,[["render",Xt],["__scopeId","data-v-7fa67b6b"]]);export{ba as default};
