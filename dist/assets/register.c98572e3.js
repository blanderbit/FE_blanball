import{_ as S,L as te,e as d,r as i,o as u,c as N,a as l,n as Q,f as r,t as I,h as y,V as le,W as ue,s as pe,O as ce,j as _,b as L,X as de,w as g,q as ne,P as _e,Q as ge,p as U,i as O,g as oe,d as C,Y as me,Z as fe,C as V,v as ve,k as be,l as he,U as R,$ as ye,A as j,u as we,T as Be,R as xe,m as T}from"./index.a87692b6.js";import{t as se,l as E}from"./tick-white.e3a033e2.js";import{I as z,F as Se}from"./InputComponent.8565bb3f.js";import{G as P}from"./GreenBtn.8a2bdb09.js";import{_ as F,A as ke}from"./AuthenticationMain.5ecade2c.js";import{D as G}from"./Dropdown.a6b9a975.js";import{R as Ce}from"./RadioButton.258ae1fc.js";import{P as $e}from"./PositionMap.8984c795.js";import{i as Te,a as B,c as q,d as Le,e as X}from"./object.0e8161d1.js";import{M as Me}from"./ModalWindow.546b9b63.js";import{_ as Ie}from"./location-point.2a3329f4.js";import{a as Ne,i as Re}from"./registration-back-1.77eb38c9.js";import{r as De,b as qe,a as Ve}from"./registration-back-mob4.14794313.js";import"./search.0f589d58.js";import"./v4.5d18198f.js";function Ae(t,n,o){if(!t||!Te(t.prototype))throw new TypeError("You must provide a yup schema constructor function");if(typeof n!="string")throw new TypeError("A Method name must be provided");if(typeof o!="function")throw new TypeError("Method function must be provided");t.prototype[n]=o}const H="/assets/arrow-right-white.fdb3ac07.svg";const Ue={name:"StepWrapper",components:{GreenBtn:P,Loading:te},props:{stepperLines:{type:Object,default:()=>{}},returnButton:{type:Object,default:()=>{}},nextButton:{type:Object,default:()=>{}},title:{type:String,default:""},loading:{type:Boolean,default:!1},subTitle:{type:String,default:""}},setup(t){const n=d(()=>H),o=d(()=>{var e;return 100/((e=t.stepperLines)==null?void 0:e.count)-1});return{arrow_right:n,one_step_percent:o}}},Oe={class:"b-register-step"},Pe={class:"b-register-step__top-part"},We={key:0,class:"b-register-step__title"},Ee=["innerHTML"],je={key:2,class:"b-register-step__progress-line"},ze={class:"b-register-step__sections"},Fe={class:"b-register-step__buttons"},Ge={class:"d-flex justify-content-between align-items-center"};function He(t,n,o,e,a,m){var b,v,p,w,k,$,c;const s=i("loading"),f=i("GreenBtn");return u(),N("div",Oe,[l(s,{"is-loading":o.loading},null,8,["is-loading"]),Q(t.$slots,"images",{},void 0,!0),r("div",Pe,[o.title?(u(),N("div",We,I(o.title),1)):y("",!0),o.subTitle?(u(),N("div",{key:1,class:"b-register-step__subtitle",innerHTML:o.subTitle},null,8,Ee)):y("",!0),(b=o.stepperLines)!=null&&b.exist?(u(),N("div",je,[r("div",ze,[(u(!0),N(le,null,ue((v=o.stepperLines)==null?void 0:v.count,x=>{var D;return u(),N("div",{key:x,style:pe({width:`${e.one_step_percent}%`}),class:ce(["b-register-step__section",{active:x<=((D=o.stepperLines)==null?void 0:D.active)}])},null,6)}),128))])])):y("",!0),Q(t.$slots,"content",{},void 0,!0)]),r("div",Fe,[r("div",Ge,[(p=o.returnButton)!=null&&p.exist?(u(),N("div",{key:0,class:"b-register-step__back-btn",onClick:n[0]||(n[0]=x=>t.$emit("back"))},I((w=o.returnButton)==null?void 0:w.text),1)):y("",!0),(k=o.nextButton)!=null&&k.exist?(u(),_(f,{key:1,text:($=o.nextButton)==null?void 0:$.text,disabled:(c=o.nextButton)==null?void 0:c.disabled,width:155,height:40,"icon-right":e.arrow_right,"is-icon-and-text-apart":!0,onClickFunction:n[1]||(n[1]=x=>t.$emit("next"))},null,8,["text","disabled","icon-right"])):y("",!0)])])])}const M=S(Ue,[["render",He],["__scopeId","data-v-7db602a4"]]);const Ye={name:"Step1",components:{GreenBtn:P,InputComponent:z,StepWrapper:M},setup(){const{t}=L(),n=d(()=>H),o=d(()=>"+38 (0##) ### ## ##"),e=d(()=>({UkraineMask:"+38 (0##) ### ## ##",title:t("register.title"),returnButton:{exist:!0,text:t("register.return_to_login")},nextButton:{exist:!0,text:t("register.next")},stepperLines:{count:2,active:1}}));return{arrow_right:n,UkraineMasks:o,stepConfig:e}}},re=t=>(U("data-v-2f5664c1"),t=t(),O(),t),Qe=re(()=>r("img",{src:F,alt:"ball-big",class:"b-register-step__ball-big"},null,-1)),Xe=re(()=>r("img",{src:F,alt:"ball-small",class:"b-register-step__ball-small"},null,-1)),Ze={class:"b-register-step__input"},Je={class:"b-register-step__input"},Ke={class:"b-register-step__input"},et=["type","placeholder","value","disabled"];function tt(t,n,o,e,a,m){const s=i("InputComponent"),f=i("step-wrapper"),b=de("maska");return u(),_(f,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,title:e.stepConfig.title,stepperLines:e.stepConfig.stepperLines},{images:g(()=>[Qe,Xe]),content:g(()=>[r("div",Ze,[l(s,{"outside-title":!0,title:t.$t("register.name"),placeholder:"\u041E\u043B\u0435\u043A\u0441\u0430\u043D\u0434\u0440\u0430","title-width":0,height:40,name:"profile.name"},null,8,["title"])]),r("div",Je,[l(s,{"outside-title":!0,title:t.$t("register.last_name"),placeholder:"\u0411\u0456\u043B\u043E\u0437\u0435\u0440\u0441\u044C\u043A\u0430","title-width":0,height:40,name:"profile.last_name"},null,8,["title"])]),r("div",Ke,[l(s,{"outside-title":!0,title:t.$t("register.phone-number"),placeholder:"+38 (0\u0425\u0425) \u0425\u0425\u0425 \u0425\u0425 \u0425\u0425","title-width":0,height:40,name:"phone"},{input:g(v=>[ne(r("input",_e({type:v.type,placeholder:v.placeholder},ge(v.on,!0),{value:v.value,style:v.style,disabled:v.disabled}),null,16,et),[[b,e.stepConfig.UkraineMask]])]),_:1},8,["title","placeholder"])])]),_:1},8,["returnButton","nextButton","title","stepperLines"])}const nt=S(Ye,[["render",tt],["__scopeId","data-v-2f5664c1"]]);const ot={name:"Step2",components:{InputComponent:z,StepWrapper:M},setup(){const t=d(()=>se),{t:n}=L(),o=d(()=>({title:n("register.create-account"),returnButton:{exist:!0,text:n("register.return")},nextButton:{exist:!0,text:n("register.next")},stepperLines:{count:2,active:2}}));return{tick:t,stepConfig:o}}},ie=t=>(U("data-v-b19cff98"),t=t(),O(),t),st=ie(()=>r("img",{src:F,alt:"ball-big",class:"b-register-step__ball-big"},null,-1)),rt=ie(()=>r("img",{src:F,alt:"ball-small",class:"b-register-step__ball-small"},null,-1)),it={class:"b-register-step__input"},at={class:"b-register-step__input"},lt={class:"b-register-step__input"};function ut(t,n,o,e,a,m){const s=i("InputComponent"),f=i("step-wrapper");return u(),_(f,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,title:e.stepConfig.title,stepperLines:e.stepConfig.stepperLines},{images:g(()=>[st,rt]),content:g(()=>[r("div",it,[l(s,{"outside-title":!0,title:t.$t("register.email"),placeholder:"elektron@mail.com","title-width":0,height:40,name:"email"},null,8,["title","placeholder"])]),r("div",at,[l(s,{placeholder:t.$t("register.create-password"),"title-width":0,type:"password",height:40,"outside-title":!0,name:"password"},null,8,["placeholder"])]),r("div",lt,[l(s,{placeholder:t.$t("register.repeat-password"),"title-width":0,type:"password",height:40,"outside-title":!0,name:"re_password"},null,8,["placeholder"])])]),_:1},8,["returnButton","nextButton","title","stepperLines"])}const pt=S(ot,[["render",ut],["__scopeId","data-v-b19cff98"]]),ct={name:"Step3",components:{StepWrapper:M},setup(){const{t}=L();return{stepConfig:d(()=>({title:t("register.welcome"),subTitle:t("register.app-description"),returnButton:{exist:!0,text:t("register.skip")},nextButton:{exist:!0,text:t("register.continue")}}))}}};function dt(t,n,o,e,a,m){const s=i("step-wrapper");return u(),_(s,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,title:e.stepConfig.title,subTitle:e.stepConfig.subTitle,stepperLines:e.stepConfig.stepperLines},null,8,["returnButton","nextButton","title","subTitle","stepperLines"])}const _t=S(ct,[["render",dt]]),gt={name:"Step4",components:{StepWrapper:M},setup(){const{t}=L();return{stepConfig:d(()=>({title:t("register.choose-activities"),subTitle:t("register.app-description2"),returnButton:{exist:!0,text:t("register.skip")},nextButton:{exist:!0,text:t("register.continue")}}))}}};function mt(t,n,o,e,a,m){const s=i("step-wrapper");return u(),_(s,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,title:e.stepConfig.title,subTitle:e.stepConfig.subTitle,stepperLines:e.stepConfig.stepperLines},null,8,["returnButton","nextButton","title","subTitle","stepperLines"])}const ft=S(gt,[["render",mt]]),ae="/assets/info-icon.413a5f24.svg";const vt={name:"Step5",components:{StepWrapper:M},setup(){const{t}=L();return{stepConfig:d(()=>({title:t("register.affect-on-rates"),subTitle:t("register.you-can-leave-feedback"),returnButton:{exist:!0,text:t("register.skip")},nextButton:{exist:!0,text:t("register.continue")}}))}}},bt=t=>(U("data-v-fe8ca659"),t=t(),O(),t),ht={class:"b-register-step__info-block"},yt=bt(()=>r("img",{src:ae,alt:""},null,-1));function wt(t,n,o,e,a,m){const s=i("step-wrapper");return u(),_(s,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,title:e.stepConfig.title,subTitle:e.stepConfig.subTitle,stepperLines:e.stepConfig.stepperLines},{content:g(()=>[r("div",ht,[yt,oe(" "+I(t.$t("register.honest-game")),1)])]),_:1},8,["returnButton","nextButton","title","subTitle","stepperLines"])}const Bt=S(vt,[["render",wt],["__scopeId","data-v-fe8ca659"]]),xt={name:"Step6",components:{StepWrapper:M},setup(){const{t}=L();return{stepConfig:d(()=>({title:t("register.fill-profile"),subTitle:t("register.app-description3"),returnButton:{exist:!0,text:t("register.skip")},nextButton:{exist:!0,text:t("register.continue")}}))}}};function St(t,n,o,e,a,m){const s=i("step-wrapper");return u(),_(s,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,title:e.stepConfig.title,subTitle:e.stepConfig.subTitle,stepperLines:e.stepConfig.stepperLines},null,8,["returnButton","nextButton","title","subTitle","stepperLines"])}const kt=S(xt,[["render",St]]),Ct={name:"Step6",components:{StepWrapper:M},setup(){const{t}=L();return{stepConfig:d(()=>({title:t("register.create-account"),subTitle:t("register.tell-about-yourself"),nextButton:{exist:!0,text:t("register.adjust")}}))}}};function $t(t,n,o,e,a,m){const s=i("step-wrapper");return u(),_(s,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,subTitle:e.stepConfig.subTitle,title:e.stepConfig.title,stepperLines:e.stepConfig.stepperLines},null,8,["returnButton","nextButton","subTitle","title","stepperLines"])}const Tt=S(Ct,[["render",$t]]);const Lt={name:"Step8",components:{GreenBtn:P,Dropdown:G,RadioButton:Ce,StepWrapper:M},setup(){const t=d(()=>({MaleIcon:me,FemaleIcon:fe})),n=d(()=>({days:V.register.days,months:V.register.months,years:V.register.years})),{t:o}=L(),e=C(""),a=d(()=>({title:o("register.get-acquainted"),returnButton:{exist:!0,text:o("register.return")},nextButton:{exist:!0,text:o("register.next")},stepperLines:{exist:!0,count:4,active:2}}));return{icons:t,mockData:n,genderRadio:e,stepConfig:a}}},Mt={class:"b-register-step__small-title mb-3"},It={class:"b-register-step__date-block mb-2"},Nt={class:"b-register-step__dropdown"},Rt={class:"b-register-step__dropdown"},Dt={class:"b-register-step__dropdown"},qt={class:"b-register-step__small-title"},Vt={class:"b-register-step__gender-block mb-3"},At={class:"radio-btn-wrapper"},Ut={class:"b-register-step__small-subtitle"};function Ot(t,n,o,e,a,m){const s=i("Dropdown"),f=i("radio-button"),b=i("step-wrapper");return u(),_(b,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,title:e.stepConfig.title,stepperLines:e.stepConfig.stepperLines},{content:g(()=>[r("div",Mt,I(t.$t("register.birth-date")),1),r("div",It,[r("div",Nt,[l(s,{"main-title":t.$t("register.day"),placeholder:t.$t("register.day"),options:e.mockData.days,"display-name":"value","display-value":"id",name:"day"},null,8,["main-title","placeholder","options"])]),r("div",Rt,[l(s,{"main-title":t.$t("register.month"),placeholder:t.$t("register.month"),options:e.mockData.months,"display-name":"value","display-value":"id",name:"month"},null,8,["main-title","placeholder","options"])]),r("div",Dt,[l(s,{"main-title":t.$t("register.year"),placeholder:t.$t("register.year"),options:e.mockData.years,"display-name":"value","display-value":"value",name:"year"},null,8,["main-title","placeholder","options"])])]),r("div",qt,I(t.$t("register.you-identified-as")),1),r("div",Vt,[r("div",At,[l(f,{name:"gender",title:t.$t("register.men"),value:"Man",url:e.icons.MaleIcon},null,8,["title","url"]),l(f,{name:"gender",title:t.$t("register.women"),value:"Woman",url:e.icons.FemaleIcon},null,8,["title","url"])])]),r("div",Ut,I(t.$t("register.you_must_have_6_or_more_years")),1)]),_:1},8,["returnButton","nextButton","title","stepperLines"])}const Pt=S(Lt,[["render",Ot],["__scopeId","data-v-b5c5082d"]]),Wt="/assets/clip.b2426893.svg";const Et={name:"Step9",components:{GreenBtn:P,Dropdown:G,InputComponent:z,StepWrapper:M},setup(){const t=C(""),n=d(()=>Wt),o=d(()=>H),e=d(()=>t.value==="\u041F\u0440\u043E\u0444\u0435\u0441\u0456\u0439\u043D\u043E"),a=d(()=>({main_lag:V.profile.mainLeg,position:V.profile.position})),{t:m}=L(),s=d(()=>({title:m("register.sportData"),returnButton:{exist:!0,text:m("register.return")},nextButton:{exist:!0,text:m("register.next")},stepperLines:{exist:!0,count:4,active:3}}));return{arrow_right:o,clip:n,profesionaLevel:t,isDocumentNeeded:e,mockData:a,stepConfig:s}}},jt={class:"b-register-step__small-title mb-3"},zt={class:"b-sport-info d-flex justify-content-between align-baseline mb-3"},Ft={class:"b-register-step__small-title mb-3"},Gt={class:"b-register-step__dropdown"};function Ht(t,n,o,e,a,m){const s=i("InputComponent"),f=i("Dropdown"),b=i("step-wrapper");return u(),_(b,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,title:e.stepConfig.title,subTitle:e.stepConfig.subTitle,stepperLines:e.stepConfig.stepperLines},{content:g(()=>[r("div",jt,I(t.$t("register.you-played-params")),1),r("div",zt,[l(s,{"outside-title":!0,title:t.$t("register.height"),placeholder:t.$t("register.height"),"title-width":0,name:"height"},null,8,["title","placeholder"]),l(s,{"outside-title":!0,title:t.$t("register.weight"),placeholder:t.$t("register.weight"),"title-width":0,name:"weight"},null,8,["title","placeholder"]),l(f,{placeholder:t.$t("register.main-leg"),"outside-title":!0,"main-title":t.$t("register.main-leg"),options:e.mockData.main_lag,width:200,height:40,"display-name":"value","display-value":"id",name:"working_leg"},null,8,["placeholder","main-title","options"])]),r("div",Ft,I(t.$t("register.you-played-position")),1),r("div",Gt,[l(f,{placeholder:t.$t("register.position"),"outside-title":!0,"main-title":t.$t("register.position"),options:e.mockData.position,width:200,height:40,"display-name":"name","display-value":"value",name:"position"},null,8,["placeholder","main-title","options"])])]),_:1},8,["returnButton","nextButton","title","subTitle","stepperLines"])}const Yt=S(Et,[["render",Ht],["__scopeId","data-v-c7950fff"]]);const Qt={components:{ModalWindow:Me,PositionMap:$e,GreenBtn:P,Loading:te},props:{modelValue:Object,default:()=>({})},emits:["update:modelValue"],setup(t){const n=C({}),o=C(!1);function e(a){n.value={lat:a.lat,lng:a.lng}}return{async save(a){o.value=!1},coords:n,updateCoords:e,activeModal:o}}},Xt=t=>(U("data-v-28045aff"),t=t(),O(),t),Zt=Xt(()=>r("img",{src:Ie},null,-1)),Jt=[Zt],Kt={class:"b-modal-position__block b-modal-position__map"},en={class:"d-flex justify-content-between align-items-center"};function tn(t,n,o,e,a,m){const s=i("Loading"),f=i("position-map"),b=i("GreenBtn"),v=i("ModalWindow");return u(),N("div",null,[r("div",{onClick:n[0]||(n[0]=p=>e.activeModal=!0)},Jt),ne(l(v,{isTitleShown:!1},{default:g(()=>[l(s,{"is-loading":t.loading},null,8,["is-loading"]),r("div",Kt,[l(f,{onMapLoaded:n[1]||(n[1]=p=>t.loading=!1),coords:e.coords,"onUpdate:coords":e.updateCoords},null,8,["coords","onUpdate:coords"])]),r("div",en,[l(b,{text:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",width:140,height:40,onClickFunction:n[2]||(n[2]=p=>e.save(t.data))})])]),_:1},512),[[ve,e.activeModal]])])}const nn=S(Qt,[["render",tn],["__scopeId","data-v-28045aff"]]);const on={name:"Step10",components:{Dropdown:G,InputComponent:z,StepWrapper:M,RegisterModalPositionMap:nn},setup(){const t=C(""),n=C(""),o=C(""),e=C(!1),a=C(!0),m=C(window.innerWidth);function s(){m.value=window.innerWidth}be(()=>{window.addEventListener("resize",s)}),he(()=>{window.removeEventListener("resize",s)});const f=d(()=>{var c;return{cities:((c=V.register.jsonCityRegions.find(x=>x.name.includes(t.value)))==null?void 0:c.cities)||[],district:V.register.jsonCityRegions}}),b=d(()=>se);async function v(c){return await j.LocationService.GetPlaceByAddress(c)}R.on("update:coords:loading",c=>{a.value=!0}),R.on("update:coords",c=>{t.value=c.place.state,n.value=c.place.city||c.place.town||c.place.village,o.value=`${c.place.neighbourhood||""} ${c.place.road||""} ${c.place.house_number||""} ${c.place.postcode||""}`,a.value=!1,e.value=!t.value||!n.value||!o.value});let p;const{t:w}=L(),k=ye(),$=d(()=>({title:w("register.locations"),subTitle:w("register.which-areas"),returnButton:{exist:!0,text:w("register.return")},nextButton:{exist:!0,text:w("register.next"),disabled:e.value},stepperLines:{exist:!0,count:4,active:4}}));return R.on("update:coords-error",()=>{e.value=!0,t.value="",n.value="",o.value=""}),R.on("map-loaded",()=>{a.value=!1}),{mockData:f,tick:b,region:t,city:n,address:o,stepConfig:$,nextButton:e,loading:a,device:k,windowWidth:m,async changeRegions(c){t.value=c,n.value="",o.value="",a.value=!0;try{R.emit("update:map:by:coords",await v(t.value)),e.value=!t.value||!n.value||!o.value}catch{e.value=!0}a.value=!1},async changeCity(c){n.value=c,o.value="",a.value=!0;try{R.emit("update:map:by:coords",await v(`${t.value} ${n.value}`)),e.value=!t.value||!n.value||!o.value}catch{e.value=!0}a.value=!1},async changeAddress(c){o.value=c.target.value,clearTimeout(p),p=setTimeout(async()=>{a.value=!0;try{R.emit("update:map:by:coords",await v(`${t.value} ${n.value} ${o.value}`)),e.value=!t.value||!n.value||!o.value}catch{e.value=!0}a.value=!1},500)}}}},sn={class:"b-register-step__small-title mb-sm-3"},rn={class:"b-register-step__dropdown"},an={class:"b-register-step__dropdown"},ln={class:"b-register-step__dropdown"};function un(t,n,o,e,a,m){const s=i("Dropdown"),f=i("InputComponent"),b=i("RegisterModalPositionMap"),v=i("step-wrapper");return u(),_(v,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,title:e.stepConfig.title,subTitle:e.stepConfig.subTitle,loading:e.loading,stepperLines:e.stepConfig.stepperLines},{content:g(()=>[r("div",sn,I(t.$t("register.your-city")),1),r("div",rn,[l(s,{"outside-title":!0,"main-title":t.$t("register.district"),options:e.mockData.district,"model-value":e.region,height:40,taggable:"",onNewValue:e.changeRegions,"display-name":"name","display-value":"name",name:"region"},null,8,["main-title","options","model-value","onNewValue"])]),r("div",an,[l(s,{"outside-title":!0,"main-title":t.$t("register.city"),options:e.mockData.cities,"model-value":e.city,height:40,taggable:"",onNewValue:e.changeCity,"display-name":"name","display-value":"name",name:"city"},null,8,["main-title","options","model-value","onNewValue"])]),r("div",ln,[l(f,{title:t.$t("register.address"),placeholder:"Address","model-value":e.address,"title-width":0,outsideTitle:"",height:40,onInput:n[0]||(n[0]=p=>e.changeAddress(p)),name:"address"},null,8,["title","model-value"])]),e.windowWidth<=768?(u(),_(b,{key:0})):y("",!0)]),_:1},8,["returnButton","nextButton","title","subTitle","loading","stepperLines"])}const pn=S(on,[["render",un],["__scopeId","data-v-14563816"]]);const cn={name:"Step11",components:{StepWrapper:M},setup(){const{t}=L();return{stepConfig:d(()=>({title:t("register.finishing"),subTitle:t("register.thanks-for-configure-profile"),nextButton:{exist:!0,text:t("register.go-to-events")}}))}}},dn=t=>(U("data-v-b8524765"),t=t(),O(),t),_n={class:"b-register-step__info-block"},gn=dn(()=>r("img",{src:ae,alt:""},null,-1));function mn(t,n,o,e,a,m){const s=i("step-wrapper");return u(),_(s,{returnButton:e.stepConfig.returnButton,nextButton:e.stepConfig.nextButton,title:e.stepConfig.title,subTitle:e.stepConfig.subTitle,stepperLines:e.stepConfig.stepperLines},{content:g(()=>[r("div",_n,[gn,oe(" "+I(t.$t("register.honest-game")),1)])]),_:1},8,["returnButton","nextButton","title","subTitle","stepperLines"])}const fn=S(cn,[["render",mn],["__scopeId","data-v-b8524765"]]),vn="/assets/registration-back-2.96d7d169.svg",bn="/assets/registration-back-3.88d91af7.svg",Z="/assets/onboarding-step-2.cf9d9bab.svg",J="/assets/onboarding-step-3.32541ac8.svg",K="/assets/onboarding-step-4.aaabb766.svg",hn="/assets/registration-back-tab2.231e8feb.svg",yn="/assets/registration-back-tab3.21168df7.svg",ee="/assets/registration-back-mob1.16c68dae.svg",wn="/assets/registration-back-mob2.5468359e.svg",Bn="/assets/registration-back-mob3.3ccf5080.svg",xn="/assets/onboarding-step-mob2.6481270d.svg",Sn="/assets/onboarding-step-mob3.9b4d2a61.svg",kn="/assets/onboarding-step-mob4.baa405e7.svg";Ae(B,"userName",function(t){return this.test("UserName",t,function(n){const{path:o,createError:e}=this;return/^[a-zа-яё\d]{1}[a-zа-яё\d-]*[a-zа-яё\d]{1}$/i.exec(n)||e({path:o,message:t})})});const Cn={name:"register",components:{Step_1:nt,Step_2:pt,Step_3:_t,Step_4:ft,Step_5:Bt,Step_6:kt,Step_7:Tt,Step_8:Pt,Step_9:Yt,Step_10:pn,Step_11:fn,Form:Se,AuthenticationMain:ke},setup(){const t=we(),n=C(1),o=C({});let e={profile:{}},a=d(()=>n.value===1?q({phone:B().required().min(19,"Invalid phone number"),profile:q({name:B().required().userName("Invalid username, please write right name"),last_name:B().required()})}):n.value===2?q({email:B().required().email(),password:B().required().min(8),re_password:B().required().min(8).when("password",(p,w)=>p?w.required().oneOf([Le("password")]):w)}):n.value===8?q({day:B().required(),month:B().required(),year:B().required(),gender:B().required()}):n.value===9?q({height:X().required().min(145).max(250),weight:X().required().min(30).max(200),position:B().required(),working_leg:B().required()}):n.value===10?q({region:B().required(),city:B().required(),address:B().required()}):q({}));const m=d(()=>{switch(n.value){case 4:return{"--back-picture":`url(${Z})`};case 5:return{"--back-picture":`url(${J})`};case 6:return{"--back-picture":`url(${K})`};case 8:return{"--back-picture":`url(${vn})`};case 9:return{"--back-picture":`url(${bn})`};case 10:return{"--back-picture":`url(${De})`};default:return{"--back-picture":`url(${Ne})`}}}),s=d(()=>{switch(n.value){case 4:return Z;case 5:return J;case 6:return K;case 8:return hn;case 9:return yn;case 10:return qe;default:return Re}}),f=d(()=>{switch(n.value){case 1:return"";case 2:return"";case 3:return ee;case 4:return xn;case 5:return Sn;case 6:return kn;case 8:return wn;case 9:return Bn;case 10:return Ve;default:return ee}});function b(p){return p.replace(/[\D]+/g,"")}R.on("update:coords",p=>{e.profile.place={lat:p.lat,lon:p.lon,place_name:p.place},o.value=E.exports.merge(o.value,{lat:p.lat,lon:p.lng,place_name:p.place})});function v(){n.value=7}return{currentStep:n,rightSideStyle:m,backgroundTab:s,backgroundMob:f,schema:a,initialValues:o,finishOnBoarding:v,async handleRegister(p){const{valid:w}=await p.validate();if(!!w){if(o.value=E.exports.merge(o.value,p.controlledValues),n.value===2)try{const k=E.exports.cloneDeep(o.value);k.phone=`+${b(k.phone)}`;const $=await j.AuthorizationService.Register(k);Be.setToken($.data.access),e=(await j.UserService.getMyProfile()).data}catch{return}n.value++}},async handleUpdate(p){var $,c,x,D,W;const{valid:w}=await p.validate();if(!w||n.value===10&&(!o.value.lat||!o.value.lon))return;if(o.value=E.exports.merge(o.value,p.controlledValues),[8,9,10].includes(n.value))try{e.profile={birthday:`${o.value.year}-${o.value.month}-${o.value.day}`,gender:($=o.value.gender)!=null?$:e.profile.gender,height:(c=o.value.height)!=null?c:e.profile.height,weight:(x=o.value.weight)!=null?x:e.profile.weight,position:(D=o.value.position)!=null?D:e.profile.position,working_leg:(W=o.value.working_leg)!=null?W:e.profile.working_leg,name:e.profile.name,last_name:e.profile.last_name},await j.UserService.updateProfileData(e)}catch{return}n.value++},backToRoute(){t.back()},goToEvents(){t.push(xe.APPLICATION.EVENTS.absolute)}}}};function $n(t,n,o,e,a,m){const s=i("Step_1"),f=i("Step_2"),b=i("Step_3"),v=i("Step_4"),p=i("Step_5"),w=i("Step_6"),k=i("Step_7"),$=i("Step_8"),c=i("Step_9"),x=i("Step_10"),D=i("Step_11"),W=i("Form"),Y=i("AuthenticationMain");return u(),_(Y,{"background-tab":e.backgroundTab,"background-mob":e.backgroundMob,"right-side-style":e.rightSideStyle,"current-step":e.currentStep},{"main-content":g(()=>[l(W,{"validation-schema":e.schema,"initial-values":e.initialValues},{default:g(A=>[l(T,null,{default:g(()=>[e.currentStep===1?(u(),_(s,{key:0,onNext:h=>e.handleRegister(A),onBack:e.backToRoute},null,8,["onNext","onBack"])):y("",!0)]),_:2},1024),l(T,null,{default:g(()=>[e.currentStep===2?(u(),_(f,{key:0,onNext:h=>e.handleRegister(A),onBack:n[0]||(n[0]=h=>e.currentStep--)},null,8,["onNext"])):y("",!0)]),_:2},1024),l(T,null,{default:g(()=>[e.currentStep===3?(u(),_(b,{key:0,onNext:n[1]||(n[1]=h=>e.currentStep++),onBack:n[2]||(n[2]=h=>e.finishOnBoarding())})):y("",!0)]),_:1}),l(T,null,{default:g(()=>[e.currentStep===4?(u(),_(v,{key:0,onNext:n[3]||(n[3]=h=>e.currentStep++),onBack:n[4]||(n[4]=h=>e.finishOnBoarding())})):y("",!0)]),_:1}),l(T,null,{default:g(()=>[e.currentStep===5?(u(),_(p,{key:0,onNext:n[5]||(n[5]=h=>e.currentStep++),onBack:n[6]||(n[6]=h=>e.finishOnBoarding())})):y("",!0)]),_:1}),l(T,null,{default:g(()=>[e.currentStep===6?(u(),_(w,{key:0,onNext:n[7]||(n[7]=h=>e.currentStep++),onBack:n[8]||(n[8]=h=>e.finishOnBoarding())})):y("",!0)]),_:1}),l(T,null,{default:g(()=>[e.currentStep===7?(u(),_(k,{key:0,onNext:n[9]||(n[9]=h=>e.currentStep++)})):y("",!0)]),_:1}),l(T,null,{default:g(()=>[e.currentStep===8?(u(),_($,{key:0,onNext:h=>e.handleUpdate(A),onBack:n[10]||(n[10]=h=>e.currentStep--)},null,8,["onNext"])):y("",!0)]),_:2},1024),l(T,null,{default:g(()=>[e.currentStep===9?(u(),_(c,{key:0,onNext:h=>e.handleUpdate(A),onBack:n[11]||(n[11]=h=>e.currentStep--)},null,8,["onNext"])):y("",!0)]),_:2},1024),l(T,null,{default:g(()=>[e.currentStep===10?(u(),_(x,{key:0,onNext:h=>e.handleUpdate(A),onBack:n[12]||(n[12]=h=>e.currentStep--)},null,8,["onNext"])):y("",!0)]),_:2},1024),l(T,null,{default:g(()=>[e.currentStep===11?(u(),_(D,{key:0,onNext:n[13]||(n[13]=h=>e.goToEvents())})):y("",!0)]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1},8,["background-tab","background-mob","right-side-style","current-step"])}const jn=S(Cn,[["render",$n],["__scopeId","data-v-ffed2124"]]);export{jn as default};
