import{_ as N,b as d,bQ as B,u as R,bS as G,d as k,k as O,af as V,r as i,o as l,c as C,e as o,t as p,a as m,S as x,U as H,i as S,R as w,ad as L,A as U}from"./index.30b1903a.js";import{d as M}from"./uk.f4f59e30.js";import{G as F}from"./GreenBtn.b4db9211.js";import{I as j}from"./InputComponent.e5fcfc55.js";import{C as Q,E as Y,S as q,a as z,M as J}from"./MyEventCard.6b8bdb42.js";import{R as K}from"./RightSidebar.f0fbf4f1.js";import{E as W}from"./EmptyList.ca274575.js";import{C as u}from"./index.b54805f3.js";import"./location-point.f489f928.js";import"./Dropdown.6600576f.js";import"./search.0f589d58.js";import"./set-filter.6436b70e.js";import"./cross.90e335cf.js";import"./male-icon.1c76ddde.js";import"./calendar.1801e959.js";import"./arrow-right.a7e531f5.js";import"./profile.1ac31e7e.js";const X={name:"EventsPage",components:{GreenBtn:F,EmptyList:W,InputComponent:j,ContextMenu:Q,EventCard:Y,SmallLoader:q,SearchBlockEvents:z,MyEventCard:J,RightSidebar:K},setup(){const n=d(null),s=d(null),g=d(null),t=B(),v=R(),_=d([]),{t:r}=G(),c=d(!1),f=k(()=>({event_cards:u.event_page.event_cards,sport_type_dropdown:u.event_page.sport_type_dropdown,gender_dropdown:u.event_page.gender_dropdown,cities_dropdown:u.event_page.cities_dropdown})),E=k(()=>({title:"\u041D\u0435\u043C\u0430\u0454 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u044C \u0434\u043B\u044F \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F",description:"\u0412\u0430\u043C \u0449\u0435 \u043D\u0435 \u043D\u0430\u0434\u0445\u043E\u0434\u0438\u043B\u0438 \u0441\u043F\u043E\u0432\u0456\u0449\u0435\u043D\u043D\u044F \u0432\u0456\u0434 \u0456\u043D\u0448\u0438\u0445 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432"}));function h(e){return L(e).locale(M).format("D MMMM")}function b(e){return L(e).locale(M).format("HH:mm")}function a(){s.value<g.value&&(s.value=s.value+1,c.value=!0,U.EventService.getAllEvents(s.value).then(e=>{_.value.push(...t.meta.eventData.results.map(y)),c.value=!1}))}function y(e){return{...e,date:h(e.date_and_time),time:b(e.date_and_time),labels:[e.type,e.gender==="Man"?r("events.men"):r("events.women"),e.need_form?r("events.need-uniform"):r("events.do-not-need-uniform")]}}function T(){const e=n.value,D=e.scrollHeight-e.offsetHeight;e.scrollTop===D&&a()}function P(e){v.push(w.APPLICATION.EVENTS.GET_ONE.absolute(e))}function A(){v.push(w.APPLICATION.EVENTS.CREATE.absolute)}function I(){v.push(w.APPLICATION.MY_EVENTS.absolute)}return O(()=>{n.value.addEventListener("scroll",T),s.value=1,g.value=t.meta.eventData.total_pages,_.value=t.meta.eventData.data.results.map(y)}),V(()=>{n.value&&n.value.removeEventListener("scroll",T)}),{emptyListMessages:E,scrollComponent:n,eventCards:_,isLoaderActive:c,switchToMyEvents:I,mockData:f,goToEventPage:P,goToCreateEvent:A}}},Z={class:"b-events-page"},$={class:"b-events-page__main-body"},ee={class:"b-events-page__header-block"},te={class:"b-events-page__left-part"},ne={class:"b-events-page__title"},oe={class:"b-events-page__subtitle"},se={class:"b-events-page__event-switcher"},ae={class:"b-events-page__general-events"},re={class:"b-events-page__right-part"},ie={class:"b-events-page__main-search-block"},ce={class:"b-events-page__all-events-block"},de={key:0,class:"b-events-page__cards-event-wrapper",ref:"scrollComponent"};function le(n,s,g,t,v,_){const r=i("GreenBtn"),c=i("SearchBlockEvents"),f=i("SmallLoader"),E=i("EventCard"),h=i("EmptyList"),b=i("RightSidebar");return l(),C("div",Z,[o("div",$,[o("div",ee,[o("div",te,[o("div",ne,p(n.$t("events.future-events")),1),o("div",oe,p(n.$t("events.renew-your-data")),1),o("div",se,[o("div",ae,p(n.$t("events.general-events")),1),o("div",{class:"b-events-page__my-events",onClick:s[0]||(s[0]=(...a)=>t.switchToMyEvents&&t.switchToMyEvents(...a))},p(n.$t("events.my-events")),1)])]),o("div",re,[m(r,{text:n.$t("buttons.create-event"),width:168,icon:"../../../assets/img/plus.svg",height:40,onClickFunction:t.goToCreateEvent},null,8,["text","icon","onClickFunction"])])]),o("div",ie,[m(c,{"sport-type-dropdown":t.mockData.sport_type_dropdown,"gender-dropdown":t.mockData.gender_dropdown,"cities-dropdown":t.mockData.cities_dropdown},null,8,["sport-type-dropdown","gender-dropdown","cities-dropdown"]),o("div",ce,[t.eventCards?(l(),C("div",de,[m(f,{"is-active":t.isLoaderActive},null,8,["is-active"]),(l(!0),C(x,null,H(t.eventCards,a=>(l(),S(E,{key:a.id,card:a,onGoToEventPage:y=>t.goToEventPage(a.id)},null,8,["card","onGoToEventPage"]))),128))],512)):(l(),S(h,{key:1,title:t.emptyListMessages.title,description:t.emptyListMessages.title},null,8,["title","description"]))])])]),m(b)])}const Me=N(X,[["render",le],["__scopeId","data-v-790ea23b"]]);export{Me as default};
