import{_ as F,d as C,o as i,c as r,e as t,n as U,l as R,g as w,a0 as It,i as k,w as y,Y as z,b as v,bX as St,bY as jt,bZ as Ht,b_ as Yt,b$ as Gt,S as H,U as Y,r as m,t as n,a as u,C as T,A as L,ai as Bt,N as xt,O as Xt,m as ce,v as _e,f as N,p as X,h as Z,E as ve,u as Pt,R as Zt,V as be,k as Wt,L as Jt,bV as Kt,F as Tt,M as Qt}from"./index.695a002b.js";import{C as eo,I as G,F as J,e as to,a as oo}from"./InputComponent.8771e3c6.js";import{c as ue,a as M}from"./object.1b1f16cd.js";import{G as me}from"./GreenBtn.fdc38c74.js";import{H as Rt,S as ao,W as fe}from"./Switcher.3e3d4217.js";import{P as so}from"./PlayerPageComponent.50845f0c.js";import{S as no}from"./VueStarRating.common.6ea2fcb0.js";import{d as Ut}from"./uk.86c6eed5.js";import{D as io}from"./Dropdown.d01ffc0d.js";import{C as we}from"./CodeInput.0d0d6b69.js";import"./arrow-right.736d9638.js";const lo={name:"modal-window",props:{isTitleShown:{type:Boolean,default:!0},titleColor:{type:String,default:"#148783"},titleName:{type:String,default:"Modal"}},setup(o){return{windowStyle:C(()=>({padding:o.isTitleShown?"80px 20px 20px 20px":"20px"}))}}},ro={class:"b_modal_text"},co={class:"b_modal_icon"},_o={class:"b_modal_modals-container"};function uo(o,s,a,e,c,h){return i(),r("div",null,[t("div",{class:"b_modal_wrapper",onClick:s[0]||(s[0]=It(l=>o.$emit("close-modal"),["self"]))},[t("div",{class:"b_modal_modal-window",style:U(e.windowStyle)},[a.isTitleShown?(i(),r("div",{key:0,class:"b_modal_window-title",style:U({background:a.titleColor})},[t("div",ro,[R(o.$slots,"title")]),t("div",co,[R(o.$slots,"title-icon")])],4)):w("",!0),t("div",_o,[R(o.$slots,"change-phone-number"),R(o.$slots,"change-login"),R(o.$slots,"delete-account"),R(o.$slots,"change-password"),R(o.$slots,"version-modal"),R(o.$slots,"edit-avatar")])],4)])])}const K=F(lo,[["render",uo]]);const mo={name:"ModalUserWindow"},ho={class:"b_modal_user_modal-window"};function go(o,s,a,e,c,h){return i(),k(z,null,{default:y(()=>[t("div",{class:"b_modal_user_wrapper",onClick:s[0]||(s[0]=It(l=>o.$emit("close-modal"),["self"]))},[t("div",ho,[R(o.$slots,"top-buttons",{},void 0,!0),R(o.$slots,"user-content",{},void 0,!0)])])]),_:3})}const po=F(mo,[["render",go],["__scopeId","data-v-45c27b7e"]]);const Ft={0:"#DFDEED",1:"#FF1D1D",2:"#FFF61D",3:"#B2FF8E",4:"#79FFC7",5:"#62C7FF"},vo={name:"ReviewDetailsComponent",props:{userRate:{type:String,default:"0"}},setup(o){const s=v(Math.round(+o.userRate)),a=C(()=>Array.from({length:5},(h,l)=>Array.from({length:5},(g,d)=>({id:d,color:Ft[0]}))).map((h,l)=>l<s.value?h.map(g=>({...g,color:Ft[s.value]})):h)),e=C(()=>{switch(s.value){case 5:return Gt;case 4:return Yt;case 3:return Ht;case 2:return jt;case 1:return St;default:return St}});return{lines:a,emoji:e}}},bo={class:"b-review-details"},fo={class:"b-review-details__emoji"},wo=["src"],yo={class:"b-review-details__lines"};function Co(o,s,a,e,c,h){return i(),r("div",bo,[t("div",fo,[t("img",{src:e.emoji,alt:""},null,8,wo)]),t("div",yo,[(i(!0),r(H,null,Y(e.lines,(l,g)=>(i(),r("div",{key:g,class:"b-review-details__block"},[(i(!0),r(H,null,Y(l,d=>(i(),r("div",{key:d.id,class:"b-review-details__line",style:U({background:d.color})},null,4))),128))]))),128))])])}const Mo=F(vo,[["render",Co],["__scopeId","data-v-f8b09bfc"]]);const ko={name:"RatingCard",components:{ReviewDetailsComponent:Mo,StarRating:no},props:{ratingScale:{type:Number,default:null}},setup(){const o=v(!1),s=v(!0);v(!1);const a=C(()=>({rateBlock:T.users_page.rateBlock}));function e(c){o.value=c,c&&L.ReviewService.getMyReviews().then(h=>{h.data.results.length?s.value=h.data.results.map(l=>({...l,author:{name:"\u0413\u043E\u0432\u043D\u044E\u043A",last_name:"\u0411\u043E\u0440\u0438\u0441\u043E\u0432\u0438\u0447"},date:`${Bt(l.time_created).locale(Ut).format("D.MM.YYYY")}`})):s.value=!1}).catch(h=>console.log("some mistake",h))}return{switchRate:e,rateStatus:o,usersReviews:s,mockData:a}}},$o={class:"b-rating-card"},Do={class:"b-rating-card__top-table"},Eo={class:"b-rating-card__title"},So={class:"b-rating-card__subtitle"},To={class:"b-rating-card__btns-block"},Fo={key:0,class:"b-rating-card__cards-block"},Ao={key:0},Io={class:"b-rating-card__top-line"},Bo={class:"b-rating-card__name"},Po={class:"b-rating-card__rate"},Wo={class:"b-rating-card__bottom-line"},Ro={class:"b-rating-card__date"},Uo={key:1,class:"b-rating-card__no-reviews-block"},Lo={class:"b-rating-card__no-data-title"},No={class:"b-rating-card__no-data-text"};function qo(o,s,a,e,c,h){const l=m("ReviewDetailsComponent"),g=m("star-rating");return i(),r("div",$o,[t("div",Do,[t("div",Eo,n(o.$t("profile.my-rate")),1),t("div",So,n(o.$t("profile.sub-rate")),1),u(l,{"user-rate":a.ratingScale},null,8,["user-rate"]),t("div",To,[t("div",{class:"b-rating-card__left-btn",style:U({border:`1px solid ${e.rateStatus?"#DFDEED":"#148581"}`}),onClick:s[0]||(s[0]=d=>e.switchRate(!1))},n(o.$t("profile.generally")),5),t("div",{class:"b-rating-card__right-btn",style:U({border:`1px solid ${e.rateStatus?"#148581":"#DFDEED"}`}),onClick:s[1]||(s[1]=d=>e.switchRate(!0))},n(o.$t("profile.detailed")),5)]),u(z,null,{default:y(()=>[e.rateStatus?(i(),r("div",Fo,[e.usersReviews?(i(),r("div",Ao,[(i(!0),r(H,null,Y(e.usersReviews,(d,p)=>(i(),r("div",{key:d.id,class:"b-rating-card__card",style:U({"border-top":p!==0&&"1px dashed #DFDEED"})},[t("div",Io,[t("div",Bo,n(d.author.name)+" "+n(d.author.last_name),1),t("div",Po,[u(g,{rating:d.stars,"star-size":14,"show-rating":!1,"read-only":!0,"active-color":"#148783"},null,8,["rating"])])]),t("div",Wo,[t("div",Ro,n(d.date),1)])],4))),128))])):(i(),r("div",Uo,[t("div",Lo,n(o.$t("profile.no-review")),1),t("div",No,n(o.$t("profile.add-to-event")),1)]))])):w("",!0)]),_:1})])])}const Vo=F(ko,[["render",qo],["__scopeId","data-v-9f0a7eca"]]);const Oo={name:"InputComponent",props:{isDisabled:{type:Boolean,default:!1},title:{type:String,default:""},placeholder:{type:String,default:""},height:{type:Number,default:null},name:{type:String,required:!0},mode:{type:String,default:"aggressive"}},setup(o){const{modelValue:s,modelErrorMessage:a,modelHandlers:e}=eo(o),c=C(()=>({height:o.height?o.height+"px":"100%"}));return{modelValue:s,modelErrorMessage:a,modelHandlers:e,inputWrapper:c}}},zo={class:"b-text-area__component"},jo={key:0,class:"b-text-area__outer-title"},Ho=["value","placeholder","disabled"],Yo={class:"b-text-area__error-message"};function Go(o,s,a,e,c,h){return i(),r("div",zo,[t("div",{class:"b-text-area__wrapper",style:U(e.inputWrapper)},[a.title?(i(),r("div",jo,[t("span",null,n(a.title),1)])):w("",!0),t("textarea",xt({value:e.modelValue,placeholder:a.placeholder,disabled:a.isDisabled},Xt(e.modelHandlers,!0)),`
      `,16,Ho)],4),t("p",Yo,n(e.modelErrorMessage),1)])}const xo=F(Oo,[["render",Go],["__scopeId","data-v-f6595f52"]]),Xo="/assets/tick.79f61679.svg",Zo="/assets/edit.5d6dbb7a.svg",Jo="/assets/user-photo.11cdf9a3.png",Ko="/assets/add-user-pic2.c98bda8e.svg";const Qo={name:"UserDetailsCard",components:{InputComponent:G,Dropdown:io,TextAreaComponent:xo},props:{userData:{type:Object,default:()=>{}},phone:{type:String,default:""},isEditMode:{type:Boolean,default:!1}},emits:["openEditPictureModal"],setup(o,{emit:s}){const a=v(0),e=v(null),c=v([o.userData.age?`${o.userData.age} \u0440\u043E\u043A\u0456\u0432`:null,o.userData.gender,o.userData.role,o.userData.position]),h=C(()=>({monthFromNumber:T.users_page.months.monthFromNumber,numberFromMonth:T.users_page.months.numberFromMonth,tabTitles:T.profile.tabTitles,labels:T.profile.labels,days:T.dates.days,months:T.dates.months,years:T.dates.years,mainLag:T.profile.mainLeg,cities:T.profile.cities,district:T.profile.district,position:T.profile.position})),l=C(()=>({sortIcon:Rt,tickIcon:Xo,editIcon:Zo})),g=C(()=>`${Bt(o.userData.birthday).locale(Ut).format("D MMMM YYYY")} p.`);function d(b){a.value=b}function p(b){b.target.files[0]&&(e.value=b.target.files[0],s("openEditPictureModal","edit_avatar"))}return{changeUserTab:d,onFileSelected:p,currentTab:a,icons:l,birthDate:g,mockData:h,labels:c}}},Lt=o=>(X("data-v-17956870"),o=o(),Z(),o),ea={class:"b-user-card"},ta={class:"b-user-card__top-table"},oa={class:"b-user-card__top-part"},aa={class:"b-user-card__picture-block"},sa={class:"b-user-card__profile-picture"},na=Lt(()=>t("img",{src:Jo,alt:""},null,-1)),ia={key:0,class:"b-user-card__add-pic-icon"},la={for:"my_file"},da=Lt(()=>t("img",{src:Ko,alt:"add user picture"},null,-1)),ra={class:"b-user-card__text-block"},ca={class:"b-user-card__name-line-wrapper"},_a={class:"b-user-card__user-name"},ua={class:"b-user-card__labels"},ma={key:0},ha={class:"b-user-card__tabs-block"},ga={class:"b-user-card__tab-titles"},pa=["onClick"],va={class:"b-user-card__main-tab-body"},ba={class:"b-user-card__tab-body"},fa={key:0,class:"b-user-card__name-line"},wa={class:"b-user-card__input-surname"},ya={class:"b-user-card__input-name"},Ca={class:"b-user-card__textarea-line"},Ma={key:0,class:"b-user-card__about-me"},ka={class:"b-user-card__title"},$a={class:"b-user-card__birthday-line"},Da={key:0,class:"b-user-card__birth-date"},Ea={class:"b-user-card__title"},Sa={key:1,class:"b-user-card__dropdowns"},Ta={class:"b-user-card__dropdown-days"},Fa={class:"b-user-card__dropdown-months"},Aa={class:"b-user-card__dropdown-years"},Ia={class:"b-user-card__tab-body"},Ba={class:"b-user-card__body-features"},Pa={class:"b-user-card__height"},Wa={key:0,class:"b-user-card__to-show"},Ra={class:"b-user-card__data"},Ua={class:"b-user-card__title"},La={class:"b-user-card__weight"},Na={key:0,class:"b-user-card__to-show"},qa={class:"b-user-card__data"},Va={class:"b-user-card__title"},Oa={class:"b-user-card__main-leg"},za={key:0,class:"b-user-card__to-show"},ja={class:"b-user-card__data"},Ha={class:"b-user-card__title"},Ya={key:1,class:"b-user-card__dropdown-main-leg"},Ga={class:"b-user-card__position"},xa={key:0,class:"b-user-card__to-show"},Xa={class:"b-user-card__data"},Za={class:"b-user-card__title"},Ja={key:0,class:"b-user-card__tab-body"},Ka={class:"b-user-card__phone"},Qa={key:0,class:"b-user-card__to-show"},es={class:"b-user-card__data"},ts={class:"b-user-card__title"};function os(o,s,a,e,c,h){const l=m("InputComponent"),g=m("TextAreaComponent"),d=m("Dropdown");return i(),r("div",ea,[t("div",ta,[t("div",oa,[t("div",aa,[t("div",sa,[na,a.isEditMode?(i(),r("div",ia,[t("label",la,[t("input",{type:"file",id:"my_file",style:{display:"none"},onChange:s[0]||(s[0]=(...p)=>e.onFileSelected&&e.onFileSelected(...p))},null,32),da])])):w("",!0)])]),t("div",ra,[t("div",ca,[t("div",_a,n(a.userData.name)+" "+n(a.userData.last_name),1)]),t("div",ua,[(i(!0),r(H,null,Y(e.labels,p=>(i(),r("div",{key:p,class:"b-user-card__label"},[p?(i(),r("span",ma," # "+n(p),1)):w("",!0)]))),128))])])])]),t("div",ha,[t("div",ga,[(i(!0),r(H,null,Y(e.mockData.tabTitles,p=>(i(),r("div",{key:p.id,class:"b-user-card__tab-title",style:U({"flex-basis":p.width,"margin-right":p.id!==2?"4px":0,background:e.currentTab===p.id?"#FFFFFF":"#F9F9FC",color:e.currentTab===p.id?"#262541":"#575775","font-weight":e.currentTab===p.id?500:400}),onClick:b=>e.changeUserTab(p.id)},n(p.title),13,pa))),128))]),t("div",va,[ce(t("div",ba,[a.isEditMode?(i(),r("div",fa,[t("div",wa,[u(l,{"outside-title":!0,title:o.$t("profile.surname"),height:40,"title-width":0,name:"last_name"},null,8,["title"])]),t("div",ya,[u(l,{"outside-title":!0,title:o.$t("profile.name"),height:40,"title-width":0,name:"name"},null,8,["title"])])])):w("",!0),t("div",Ca,[a.isEditMode?(i(),k(g,{key:1,height:88,title:o.$t("profile.words-about-myself"),name:"about_me"},null,8,["title"])):(i(),r("div",Ma,[N(n(a.userData.about_me)+" ",1),t("div",ka,n(o.$t("profile.about-myself")),1)]))]),t("div",$a,[a.isEditMode?(i(),r("div",Sa,[t("div",Ta,[u(d,{"main-title":o.$t("profile.day"),options:e.mockData.days,name:"day"},null,8,["main-title","options"])]),t("div",Fa,[u(d,{"main-title":o.$t("profile.month"),options:e.mockData.months,name:"month"},null,8,["main-title","options"])]),t("div",Aa,[u(d,{"main-title":o.$t("profile.year"),options:e.mockData.years,name:"year"},null,8,["main-title","options"])])])):(i(),r("div",Da,[N(n(e.birthDate)+" ",1),t("div",Ea,n(o.$t("profile.birth-date")),1)]))])],512),[[_e,e.currentTab===0]]),ce(t("div",Ia,[t("div",Ba,[t("div",Pa,[a.isEditMode?(i(),k(l,{key:1,"outside-title":!0,title:o.$t("profile.height"),height:40,"title-width":0,name:"height"},null,8,["title"])):(i(),r("div",Wa,[t("div",Ra,n(a.userData.height)+" "+n(o.$t("profile.sm")),1),t("div",Ua,n(o.$t("profile.height")),1)]))]),t("div",La,[a.isEditMode?(i(),k(l,{key:1,"outside-title":!0,title:o.$t("profile.weight"),height:40,"title-width":0,name:"weight"},null,8,["title"])):(i(),r("div",Na,[t("div",qa,n(a.userData.weight)+" "+n(o.$t("profile.kg")),1),t("div",Va,n(o.$t("profile.weight")),1)]))]),t("div",Oa,[!a.isEditMode&&a.userData.working_leg?(i(),r("div",za,[t("div",ja,n(a.userData.working_leg),1),t("div",Ha,n(o.$t("profile.main-leg")),1)])):w("",!0),a.isEditMode?(i(),r("div",Ya,[u(d,{"main-title":o.$t("profile.main-leg"),options:e.mockData.mainLag,name:"working_leg"},null,8,["main-title","options"])])):w("",!0)])]),t("div",Ga,[a.isEditMode?(i(),k(d,{key:1,"outside-title":!0,"main-title":o.$t("profile.game-position"),options:e.mockData.position,width:200,height:40,"display-name":"value","display-value":"value",name:"position"},null,8,["main-title","options"])):(i(),r("div",xa,[t("div",Xa,n(a.userData.position),1),t("div",Za,n(o.$t("profile.game-position")),1)]))])],512),[[_e,e.currentTab===1]]),e.currentTab===2?(i(),r("div",Ja,[t("div",Ka,[a.isEditMode?(i(),k(l,{key:1,title:o.$t("profile.phone"),placeholder:a.phone,"title-width":0,"outside-title":!0,height:40,name:"phone"},null,8,["title","placeholder"])):(i(),r("div",Qa,[t("div",es,n(a.phone),1),t("div",ts,n(o.$t("profile.phone")),1)]))])])):w("",!0)])])])}const as=F(Qo,[["render",os],["__scopeId","data-v-17956870"]]),ss="/assets/lock.f6c234fd.svg";const ns={name:"SecurityBlock",components:{Switcher:ao,InputComponent:G},props:{userEmail:{type:String,default:""},checkboxData:{type:Object,default:()=>{}},isEditMode:{type:Boolean,default:!1}},emits:["toggleModal"],setup(o,s){const a=v(null),e=C(()=>Rt);function c(h){s.emit("toggleModal",h)}return{toggleModalWindow:c,sortArrowHorizontal:e,checkboxForm:a}}},is=o=>(X("data-v-7aa990a5"),o=o(),Z(),o),ls={class:"b-security"},ds={class:"b-security__confidentiality"},rs={class:"b-security__title"},cs={class:"b-security__subtitle"},_s={class:"b-security__settings-block"},us={class:"b-security__personal-settings"},ms={class:"b-security__personal-settings"},hs={class:"b-security__personal-settings"},gs={class:"b-security__top-table"},ps={class:"b-security__title"},vs={class:"b-security__subtitle-security"},bs={class:"b-security__email-input"},fs=is(()=>t("img",{src:ss,alt:""},null,-1));function ws(o,s,a,e,c,h){const l=m("Switcher"),g=m("InputComponent");return i(),r("div",ls,[t("div",ds,[t("div",rs,n(o.$t("profile.confidentiality")),1),t("div",cs,n(o.$t("profile.set-personal-details")),1),t("div",_s,[t("div",us,[t("p",null,n(o.$t("profile.phone-number")),1),u(l,{id:"phone","is-edit-mode":a.isEditMode,name:"config_phone"},null,8,["is-edit-mode"])]),t("div",ms,[t("p",null,n(o.$t("profile.e-mail")),1),u(l,{id:"email","is-edit-mode":a.isEditMode,name:"config_email"},null,8,["is-edit-mode"])]),t("div",hs,[t("p",null,[N(n(o.$t("profile.my-feedbacks"))+" ",1),t("span",null,n(o.$t("profile.some")),1)]),u(l,{id:"feedback","is-edit-mode":a.isEditMode,name:"show_reviews"},null,8,["is-edit-mode"])])])]),t("div",gs,[t("div",ps,n(o.$t("profile.safety")),1),t("div",vs,n(o.$t("profile.change-login&password")),1),t("div",bs,[u(g,{title:o.$t("profile.e-mail"),placeholder:a.userEmail,"title-width":0,"outside-title":!0,icon:e.sortArrowHorizontal,onIconClick:s[0]||(s[0]=d=>e.toggleModalWindow("email")),name:"change_email"},null,8,["title","placeholder","icon"])]),t("div",{class:"b-security__change-pass-btn",onClick:s[1]||(s[1]=d=>e.toggleModalWindow("change_password"))},[N(n(o.$t("profile.change-password"))+" ",1),fs])]),t("div",{class:"b-security__delete-account",onClick:s[2]||(s[2]=d=>e.toggleModalWindow("delete_acc"))},n(o.$t("profile.delete-account")),1)])}const ys=F(ns,[["render",ws],["__scopeId","data-v-7aa990a5"]]);const Cs={name:"TabLabel",props:{title:{type:String,default:""},text:{type:String,default:""}}},Ms=o=>(X("data-v-f471e6ea"),o=o(),Z(),o),ks={class:"b-tab-label__label"},$s=Ms(()=>t("div",{class:"b-tab-label__label-corner"},null,-1)),Ds={class:"b-tab-label__label-title"},Es={class:"b-tab-label__label-text"};function Ss(o,s,a,e,c,h){return i(),r("div",ks,[$s,t("div",Ds,n(a.title),1),t("div",Es,n(a.text),1)])}const Ts=F(Cs,[["render",Ss],["__scopeId","data-v-f471e6ea"]]);const Fs={name:"Counter",props:{startTime:{type:Number,default:30},counterText:{type:String,default:""},email:{type:String,default:""}},emits:["resendCodeAction"],setup(o){const s=v(o.startTime),a=v();return a.value=setInterval(()=>{s.value!==0&&s.value--},1e3),ve(()=>{clearInterval(a.value),s.value=o.startTime}),{seconds:s}}},As={class:"b-counter"},Is={key:0,class:"b-counter__sms-text"},Bs={key:1,class:"b-counter__sms-text"};function Ps(o,s,a,e,c,h){return i(),r("span",As,[e.seconds?(i(),r("p",Is,n(a.counterText)+" "+n(a.email)+" "+n(o.$t("counter.during"))+" "+n(e.seconds)+" "+n(o.$t("counter.seconds")),1)):(i(),r("p",Bs,[N(n(o.$t("counter.sms-not-came"))+" ",1),t("span",{onClick:s[0]||(s[0]=l=>o.$emit("resendCodeAction"))},n(o.$t("counter.send-again")),1)]))])}const ye=F(Fs,[["render",Ps],["__scopeId","data-v-c59c2ad1"]]),Ws="/assets/warning.24c97baa.svg",Rs={name:"DeleteAccountModal",components:{ModalWindow:K,CodeInput:we,Form:J,Counter:ye},props:{userEmail:{type:String,default:""}},emits:["closeModal"],setup(o,s){const a=Pt(),e=v({first:!0,second:!1}),c=C(()=>ue({verify_code:M().required().min(5)}));function h(){e.value={first:!0,second:!1},s.emit("closeModal","delete_acc")}function l(){e.value={first:!1,second:!0},L.UserService.deleteMyProfile()}function g(d){L.UserService.sendApproveCode(d.controlledValues).then(()=>{localStorage.removeItem("token"),a.push(Zt.AUTHENTICATIONS.LOGIN.absolute)}).catch(p=>{console.log("Delete account error",p)})}return{sendCodeForDeleteAcc:l,closeModal:h,deleteAcc:g,modalDeleteAcc:e,schema:c}}},Us=t("img",{src:Ws,alt:""},null,-1),Ls={key:0,class:"first-screen"},Ns={class:"description-text"},qs={class:"btns-block"},Vs={key:1,class:"second-screen"},Os={class:"description-title-second"},zs={class:"description-text"},js={class:"code-input-field"},Hs={class:"btns-block"},Ys=["onClick"];function Gs(o,s,a,e,c,h){const l=m("Counter"),g=m("CodeInput"),d=m("Form"),p=m("ModalWindow");return i(),k(z,null,{default:y(()=>[u(p,{"title-color":"#C10B0B",onCloseModal:e.closeModal},{title:y(()=>[N(n(o.$t("modals.delete_acc.title")),1)]),"title-icon":y(()=>[Us]),"delete-account":y(()=>[e.modalDeleteAcc.first?(i(),r("div",Ls,[t("div",Ns,n(o.$t("modals.delete_acc.text")),1),t("div",qs,[t("div",{class:"cancle-delete-acc",onClick:s[0]||(s[0]=(...b)=>e.closeModal&&e.closeModal(...b))},n(o.$t("buttons.cancel-deleting")),1),t("div",{class:"delete-acc",onClick:s[1]||(s[1]=(...b)=>e.sendCodeForDeleteAcc&&e.sendCodeForDeleteAcc(...b))},n(o.$t("buttons.delete-account")),1)])])):w("",!0),e.modalDeleteAcc.second?(i(),r("div",Vs,[t("div",Os,n(o.$t("modals.delete_acc.title-second")),1),t("div",zs,[u(l,{"start-time":30,"counter-text":o.$t("modals.delete_acc.text-second"),email:a.userEmail,onResendCodeAction:e.sendCodeForDeleteAcc},null,8,["counter-text","email","onResendCodeAction"])]),u(d,{"validation-schema":e.schema},{default:y(b=>[t("div",js,[u(g,{fields:5,fieldWidth:48,fieldHeight:40,required:!0,name:"verify_code",onComplete:s[2]||(s[2]=D=>o.completed=!0)})]),t("div",Hs,[t("div",{class:"cancle-delete-acc",onClick:s[3]||(s[3]=(...D)=>e.closeModal&&e.closeModal(...D))},n(o.$t("buttons.cancel-deleting")),1),t("div",{class:"delete-acc",onClick:D=>e.deleteAcc(b)},n(o.$t("buttons.delete-account")),9,Ys)])]),_:1},8,["validation-schema"])])):w("",!0)]),_:1},8,["onCloseModal"])]),_:1})}const xs=F(Rs,[["render",Gs]]),Xs="/assets/key.5c61231d.svg",At=30,Zs={name:"ChangePasswordModal",props:{userEmail:{type:String,default:""}},components:{Form:J,ModalWindow:K,CodeInput:we,InputComponent:G,Counter:ye},setup(o,s){const{t:a}=be(),e=v(1),c=v(""),h=v(At),l=C(()=>ue({old_password:M().required().min(8),new_password:M().required().min(8),password_code:M().required().min(5)})),g=C(()=>to),d=C(()=>oo);function p(){e.value=1,s.emit("closeModal","change_password")}function b(f){const I=f.controlledValues.new_password,B=f.controlledValues.old_password,$={new_password:I,old_password:B};L.UserService.changePassword($),h.value=At}function D(f){const I=f.controlledValues.new_password,B=f.controlledValues.old_password,$=f.controlledValues.password_code;if(e.value===1&&I&&B){const S={new_password:I,old_password:B};L.UserService.changePassword(S).then(()=>{c.value="",e.value=2}).catch(q=>{c.value=a("modals.change_password.wrong-old-pass")})}if(e.value===2&&$){const S={verify_code:$};L.UserService.sendApproveCode(S).then(()=>{c.value="",p()}).catch(q=>{console.log("change password error",q.data.error),c.value=a("modals.change_password.server-error")})}}return{closeModal:p,changePassword:D,resendCode:b,modalChangeStep:e,schema:l,eyeCrossed:g,eyeOpened:d,errorMessage:c,seconds:h,errorMessage:c}}},Js=t("img",{src:Xs,alt:""},null,-1),Ks={class:"inut-wrapper"},Qs={class:"inut-wrapper"},en={key:0},tn={class:"sms-code-block"},on={key:1,class:"error-message"},an={class:"btns-block"},sn=["onClick"];function nn(o,s,a,e,c,h){const l=m("InputComponent"),g=m("Counter"),d=m("CodeInput"),p=m("Form"),b=m("ModalWindow");return i(),k(z,null,{default:y(()=>[u(b,{onCloseModal:e.closeModal},{title:y(()=>[N(n(o.$t("modals.change_password.title")),1)]),"title-icon":y(()=>[Js]),"change-password":y(()=>[u(p,{"validation-schema":e.schema},{default:y(D=>[t("div",Ks,[u(l,{title:o.$t("modals.change_password.current-pass"),"title-width":0,type:"password","outside-title":!0,name:"old_password"},null,8,["title"])]),t("div",Qs,[u(l,{title:o.$t("modals.change_password.new-pass"),"title-width":0,type:"password","outside-title":!0,name:"new_password"},null,8,["title"])]),e.modalChangeStep===2?(i(),r("div",en,[u(g,{"start-time":30,"counter-text":o.$t("modals.change_password.sms-code"),email:a.userEmail,onResendCodeAction:f=>e.resendCode(D)},null,8,["counter-text","email","onResendCodeAction"])])):w("",!0),ce(t("div",tn,[u(d,{fields:5,fieldWidth:48,fieldHeight:40,required:!0,name:"password_code",onComplete:s[0]||(s[0]=f=>o.completed=!0)})],512),[[_e,e.modalChangeStep===2]]),e.errorMessage.length?(i(),r("div",on," *"+n(e.errorMessage),1)):w("",!0),t("div",an,[t("div",{class:"cancle-btn",onClick:s[1]||(s[1]=(...f)=>e.closeModal&&e.closeModal(...f))},n(o.$t("buttons.cancel-editing")),1),t("div",{class:"save-btn",onClick:f=>e.changePassword(D)},n(o.$t("buttons.save-changes")),9,sn)])]),_:1},8,["validation-schema"])]),_:1},8,["onCloseModal"])]),_:1})}const ln=F(Zs,[["render",nn]]);const dn={name:"ChangeUserDataModal",components:{GreenBtn:me,WhiteBtn:fe},props:{title:{type:String,default:""},config:{type:Object,default:()=>{}}},emits:["closeModal","saveChanges","saveDeclineChanges"],setup(o,s){function a(){s.emit("closeModal","change_data")}return{closeModal:a}}},rn={class:"b-change-data__wrapper"},cn={class:"b-change-data"},_n={class:"b-change-data__title-block"},un={class:"b-change-data__title"},mn={class:"b-change-data__main-text"},hn={class:"b-change-data__btns-block"},gn={class:"b-change-data__first-btn"},pn={class:"b-change-data__second-btn"},vn={class:"b-change-data__cancel-changes"};function bn(o,s,a,e,c,h){const l=m("GreenBtn"),g=m("WhiteBtn");return i(),k(z,null,{default:y(()=>[t("div",rn,[t("div",cn,[t("div",_n,[t("div",un,n(a.config.title),1),t("div",{class:"b-change-data__close",onClick:s[0]||(s[0]=(...d)=>e.closeModal&&e.closeModal(...d))}," \xD7 ")]),t("div",mn,n(o.$t("modals.change_user_data.main-text")),1),t("div",hn,[t("div",gn,[u(l,{text:a.config.button_1,width:a.config.btn_with_1,"background-color":"#575775","font-styles":{"font-size":"13px"}},null,8,["text","width"])]),t("div",pn,[u(g,{text:a.config.button_2,width:a.config.btn_with_2,"main-color":"#C5C5D3","font-styles":{"font-size":"13px"},onClickFunction:s[1]||(s[1]=d=>o.$emit("saveDeclineChanges",a.config.btn_action))},null,8,["text","width"])])]),t("div",vn,n(o.$t("modals.change_user_data.cancel-changes")),1)])])]),_:1})}const fn=F(dn,[["render",bn],["__scopeId","data-v-6483e6c5"]]),wn="/assets/envelop.1ca984d9.svg",yn={name:"ChangeEmailModal",components:{ModalWindow:K,InputComponent:G,Counter:ye,CodeInput:we,Form:J},props:{userEmail:{type:String,default:""}},emits:["closeModal","email"],setup(o,s){const{t:a}=be(),e=v({first:!0,second:!1}),c=v(""),h=C(()=>ue({verify_code:M().required().min(5),email:M().required()})),l=C(()=>e.value.first?a("buttons.cancel-editing"):a("buttons.return")),g=C(()=>e.value.first?a("buttons.save-changes"):a("buttons.approve"));function d($,S){e.value={first:$,second:S}}function p(){e.value.first?I():d(!0,!1)}function b($){let S;e.value.first?(d(!1,!0),S={email:$.controlledValues.email},c.value=S,f(S)):(S={verify_code:$.controlledValues.verify_code},L.UserService.sendApproveCode(S).then(()=>{I(),s.emit("email")}))}function D(){f(c.value)}function f($){L.UserService.changeUserEmail($)}function I(){d(!0,!1),s.emit("closeModal","email")}function B(){}return{closeModal:I,cancelClick:p,saveClick:b,sendCodeForChangeEmail:B,sendEmailAgain:D,modalSteps:e,schema:h,cancelBtnTitle:l,saveBtnTitle:g}}},Cn=t("img",{src:wn,alt:""},null,-1),Mn={key:0,class:"inut-wrapper"},kn={class:"inut-wrapper"},$n={key:0,class:"description-text"},Dn={class:"code-input-field"},En={class:"btns-block"},Sn=["onClick"];function Tn(o,s,a,e,c,h){const l=m("InputComponent"),g=m("Counter"),d=m("CodeInput"),p=m("Form"),b=m("ModalWindow");return i(),k(z,null,{default:y(()=>[u(b,{onCloseModal:e.closeModal},{title:y(()=>[N(n(o.$t("modals.change_login.title")),1)]),"title-icon":y(()=>[Cn]),"change-login":y(()=>[e.modalSteps.first?(i(),r("div",Mn,[u(l,{title:o.$t("modals.change_login.current-email"),placeholder:a.userEmail,"outside-title":!0,"title-width":0,"is-disabled":!0},null,8,["title","placeholder"])])):w("",!0),u(p,{"validation-schema":e.schema},{default:y(D=>[t("div",kn,[u(l,{title:e.modalSteps.first?o.$t("modals.change_login.new-email"):o.$t("modals.change_login.email"),placeholder:"example@panda.com","outside-title":!0,"title-width":0,"is-disabled":!e.modalSteps.first,name:"email"},null,8,["title","placeholder","is-disabled"])]),e.modalSteps.second?(i(),r("div",$n,[u(g,{"start-time":30,"counter-text":o.$t("modals.change_login.code-message"),email:a.userEmail,onResendCodeAction:e.sendEmailAgain},null,8,["counter-text","email","onResendCodeAction"])])):w("",!0),ce(t("div",Dn,[u(d,{fields:5,fieldWidth:48,fieldHeight:40,required:!0,name:"verify_code",onComplete:s[0]||(s[0]=f=>o.completed=!0)})],512),[[_e,e.modalSteps.second]]),t("div",En,[t("div",{class:"cancle-btn",onClick:s[1]||(s[1]=(...f)=>e.cancelClick&&e.cancelClick(...f))},n(e.cancelBtnTitle),1),t("div",{class:"save-btn",onClick:f=>e.saveClick(D)},n(e.saveBtnTitle),9,Sn)])]),_:1},8,["validation-schema"])]),_:1},8,["onCloseModal"])]),_:1})}const Fn=F(yn,[["render",Tn]]),An="/assets/set-filter-white.9cf6d1ba.svg";const In={name:"ButtonsBlock",components:{GreenBtn:me,WhiteBtn:fe},props:{isEditModeProfile:{type:Boolean,default:!0},editBtnWidth:{type:Number,default:197},cancelBtnWidth:{type:Number,default:98},saveBtnWidth:{type:Number,default:89}},emits:["cancelDataEdit","saveDataEdit","toggleModal","toggleEditMode"],setup(){return{icons:C(()=>({editIcon:An}))}}},Bn={class:"b-user-cabinet__buttons"},Pn={key:0,class:"b-user-cabinet__save-cancel-btns"},Wn={class:"b-user-cabinet__btns-line"},Rn={class:"b-user-cabinet__btn-cancel"},Un={class:"b-user-cabinet__btn-save"},Ln={key:1,class:"b-user-cabinet__edit-button"};function Nn(o,s,a,e,c,h){const l=m("WhiteBtn"),g=m("GreenBtn");return i(),r("div",Bn,[a.isEditModeProfile?(i(),r("div",Pn,[t("div",Wn,[t("div",Rn,[u(l,{text:o.$t("buttons.cancel"),width:a.cancelBtnWidth,onClickFunction:s[0]||(s[0]=d=>o.$emit("cancelDataEdit"))},null,8,["text","width"])]),t("div",Un,[u(g,{text:o.$t("buttons.save"),width:a.saveBtnWidth,onClickFunction:s[1]||(s[1]=d=>o.$emit("saveDataEdit"))},null,8,["text","width"])])]),t("div",{class:"b-user-cabinet__look-preview",onClick:s[2]||(s[2]=d=>o.$emit("toggleModal","public_profile"))},n(o.$t("profile.how-profile-looks")),1)])):(i(),r("div",Ln,[u(g,{text:o.$t("buttons.edit-profile"),width:a.editBtnWidth,height:40,icon:e.icons.editIcon,onClickFunction:s[3]||(s[3]=d=>o.$emit("toggleEditMode"))},null,8,["text","width","icon"])]))])}const qn=F(In,[["render",Nn],["__scopeId","data-v-81601b95"]]),Vn="/assets/save-icon.8e190e9f.svg",On="/assets/user-pic-edit-big.8f92dad2.png",zn="/assets/user-pic-edit-small.69dbff36.png",jn="/assets/add-picture.759fe9a1.svg",Hn="/assets/rotate-picture.cb210f82.svg",Yn="/assets/cut-picture.3c8298e9.svg";const Gn={name:"EditAvatarModal",components:{ModalWindow:K,InputComponent:G,Form:J,GreenBtn:me},props:{},emits:["closeModal"],setup(o,s){const a=v(window.innerWidth),e=C(()=>Vn),c=C(()=>{if(a.value<576)return{}});function h(){s.emit("closeModal","edit_avatar")}function l(){a.value=window.innerWidth}return Wt(()=>{window.addEventListener("resize",l)}),ve(()=>{window.removeEventListener("resize",l)}),{closeModal:h,iconSave:e,btnStyle:c}}},Q=o=>(X("data-v-e4f2280a"),o=o(),Z(),o),xn={class:"b-edit-avatar"},Xn={class:"b-edit-avatar__main-part"},Zn=Q(()=>t("div",{class:"b-edit-avatar__right-side"},[t("div",{class:"b-edit-avatar__crop-pic"},[t("img",{src:On,alt:""})])],-1)),Jn={class:"b-edit-avatar__left-side"},Kn=Q(()=>t("div",{class:"b-edit-avatar__edited-pic"},[t("img",{src:zn,alt:""})],-1)),Qn={class:"b-edit-avatar__main-functions"},ei={class:"b-edit-avatar__another-pic"},ti=Q(()=>t("img",{src:jn,alt:""},null,-1)),oi={class:"b-edit-avatar__desk-text"},ai={class:"b-edit-avatar__mob-text"},si={class:"b-edit-avatar__left-mob-part"},ni=Q(()=>t("img",{src:Hn,alt:""},null,-1)),ii=Q(()=>t("img",{src:Yn,alt:""},null,-1)),li={class:"b-edit-avatar__btns-block"};function di(o,s,a,e,c,h){const l=m("GreenBtn"),g=m("ModalWindow");return i(),k(z,null,{default:y(()=>[u(g,{"is-title-shown":!1,onCloseModal:e.closeModal},{"edit-avatar":y(()=>[t("div",xn,[t("div",Xn,[Zn,t("div",Jn,[Kn,t("div",Qn,[t("div",ei,[ti,t("span",oi,n(o.$t("modals.edit_avatar.another-pic")),1),t("span",ai,n(o.$t("modals.edit_avatar.chose-another-pic")),1)]),t("div",si,[t("div",{class:"b-edit-avatar__rotate",style:U(e.btnStyle)},[ni,t("span",null,n(o.$t("modals.edit_avatar.rotate")),1)],4),t("div",{class:"b-edit-avatar__cut",style:U(e.btnStyle)},[ii,t("span",null,n(o.$t("modals.edit_avatar.cut")),1)],4)])])])]),t("div",li,[t("div",{class:"b-edit-avatar__cancel-btn",onClick:s[0]||(s[0]=(...d)=>e.closeModal&&e.closeModal(...d))},n(o.$t("buttons.decline")),1),u(l,{icon:e.iconSave,width:125,text:o.$t("buttons.save")},null,8,["icon","text"])])])]),_:1},8,["onCloseModal"])]),_:1})}const ri=F(Gn,[["render",di],["__scopeId","data-v-e4f2280a"]]),ci="/assets/arrow-left-small.5f4f9f82.svg",_i="/assets/cross-white.2e3360d0.svg";const pe={SAVE:"save",CANCEL:"cancel"},ui={name:"UserCabinet",components:{GreenBtn:me,WhiteBtn:fe,InputComponent:G,ModalWindow:K,ModalUserWindow:po,PlayerPageComponent:so,RatingCard:Vo,UserDetailsCard:as,SecurityBlock:ys,DeleteAccountModal:xs,ChangePasswordModal:ln,ChangeUserDataModal:fn,Form:J,Loading:Jt,ChangeEmailModal:Fn,ButtonsBlock:qn,TabLabel:Ts,EditAvatarModal:ri},setup(o){var Ee,Se,Te,Fe,Ae,Ie,Be,Pe,We,Re,Ue,Le,Ne,qe,Ve,Oe,ze,je,He,Ye,Ge,xe,Xe,Ze,Je,Ke,Qe,et,tt,ot,at,st,nt,it,lt,dt,rt,ct,_t,ut,mt,ht,gt,pt,vt,bt,ft,wt,yt,Ct,Mt;const{t:s}=be(),a=Kt(),e=Pt(),c=v(null),h=v(null),l=v(""),g=v(""),d=v(null),p=v(!1),b=v(null),D=v(null),f=v(!1),I=v(window.innerWidth),B=v(!1);Wt(()=>{window.addEventListener("resize",x)}),ve(()=>{window.removeEventListener("resize",x)});const $=C(()=>({user_info:T.users_page.userInfo,tabs:T.profile.tabs.map(_=>({..._,name:s(_.name)})),monthFromNumber:T.users_page.months.monthFromNumber,numberFromMonth:T.users_page.months.numberFromMonth})),S=v({last_name:(Se=(Ee=a.meta.usersData)==null?void 0:Ee.data.profile)==null?void 0:Se.last_name,name:(Fe=(Te=a.meta.usersData)==null?void 0:Te.data.profile)==null?void 0:Fe.name,about_me:(Ie=(Ae=a.meta.usersData)==null?void 0:Ae.data.profile)==null?void 0:Ie.about_me,day:Ce((Pe=(Be=a.meta.usersData)==null?void 0:Be.data.profile)==null?void 0:Pe.birthday),month:Me((Re=(We=a.meta.usersData)==null?void 0:We.data.profile)==null?void 0:Re.birthday),year:ke((Le=(Ue=a.meta.usersData)==null?void 0:Ue.data.profile)==null?void 0:Le.birthday),height:(qe=(Ne=a.meta.usersData)==null?void 0:Ne.data.profile)==null?void 0:qe.height,weight:(Oe=(Ve=a.meta.usersData)==null?void 0:Ve.data.profile)==null?void 0:Oe.weight,working_leg:j((je=(ze=a.meta.usersData)==null?void 0:ze.data.profile)==null?void 0:je.working_leg),position:(Ye=(He=a.meta.usersData)==null?void 0:He.data.profile)==null?void 0:Ye.position,phone:(xe=(Ge=a.meta.usersData)==null?void 0:Ge.data)==null?void 0:xe.phone,config_phone:(Ze=(Xe=a.meta.usersData)==null?void 0:Xe.data.configuration)==null?void 0:Ze.phone,config_email:(Ke=(Je=a.meta.usersData)==null?void 0:Je.data.configuration)==null?void 0:Ke.email,show_reviews:(et=(Qe=a.meta.usersData)==null?void 0:Qe.data.configuration)==null?void 0:et.show_reviews}),q=Tt({}),A=Tt({phone:!1,email:!1,delete_acc:!1,change_password:!1,public_profile:!1,change_data:!1,edit_avatar:!1}),he=C(()=>ue({last_name:M().required(),name:M().required(),about_me:M().required(),day:M().required(),month:M().required(),year:M().required(),height:M().required(),weight:M().required(),working_leg:M().required(),position:M().required(),phone:M().required(),config_phone:M().required(),config_email:M().required(),show_reviews:M().required()}));c.value={...(tt=a.meta.usersData)==null?void 0:tt.data,profile:{...(at=(ot=a.meta.usersData)==null?void 0:ot.data)==null?void 0:at.profile,working_leg:j((nt=(st=a.meta.usersData)==null?void 0:st.data.profile)==null?void 0:nt.working_leg)}},h.value=(lt=(it=a.meta.usersData)==null?void 0:it.data)==null?void 0:lt.raiting,l.value=(rt=(dt=a.meta.usersData)==null?void 0:dt.data)==null?void 0:rt.phone,g.value=(_t=(ct=a.meta.usersData)==null?void 0:ct.data)==null?void 0:_t.email,d.value={...(mt=(ut=a.meta.usersData)==null?void 0:ut.data)==null?void 0:mt.profile,working_leg:j((gt=(ht=a.meta.usersData)==null?void 0:ht.data.profile)==null?void 0:gt.working_leg),role:(vt=(pt=a.meta.usersData)==null?void 0:pt.data)==null?void 0:vt.role},q.value={checkboxPhone:(ft=(bt=a.meta.usersData)==null?void 0:bt.data.configuration)==null?void 0:ft.phone,checkboxEmail:(yt=(wt=a.meta.usersData)==null?void 0:wt.data.configuration)==null?void 0:yt.email,checkboxReviews:(Mt=(Ct=a.meta.usersData)==null?void 0:Ct.data.configuration)==null?void 0:Mt.show_reviews};function E(_){_&&(B.value=!B.value)}function x(){I.value=window.innerWidth}function Ce(_){return _==null?void 0:_.split("-")[2]}function Me(_){return $.value.monthFromNumber[_==null?void 0:_.split("-")[1]]}function ke(_){return _==null?void 0:_.split("-")[0]}function j(_){switch(_){case"Left":return"\u041B\u0456\u0432\u0430";case"Right":return"\u041F\u0440\u0430\u0432\u0430";case"\u041B\u0456\u0432\u0430":return"Left";case"\u041F\u0440\u0430\u0432\u0430":return"Right"}}function qt(){ee("change_data"),b.value={title:"\u041F\u043E\u0434\u0438\u0432\u0438\u0442\u0438\u0441\u044C \u0437\u0456 \u0441\u0442\u043E\u0440\u043E\u043D\u0438",button_1:"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0434\u0435\u043C\u043E\u043D\u0441\u0442\u0440\u0430\u0446\u0456\u0457",button_2:"\u041F\u0440\u043E\u0441\u0442\u043E \u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438",btn_action:pe.SAVE,btn_with_1:189,btn_with_2:132}}function Vt(){ee("change_data"),b.value={title:"\u0412\u0438\u0439\u0442\u0438 \u0431\u0435\u0437 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043D\u043D\u044F \u0437\u043C\u0456\u043D?",button_1:"\u041D\u0456, \u043D\u0435 \u0432\u0438\u0445\u043E\u0434\u0438\u0442\u0438",button_2:"\u0422\u0430\u043A, \u0432\u0438\u0439\u0442\u0438",btn_action:pe.CANCEL,btn_with_1:124,btn_with_2:90}}function $e(){p.value=!p.value}function Ot(_){var V,O;if(_===pe.SAVE){const P={...D.value.getControledValues()},{day:te,month:oe,year:ae,working_leg:se,config_email:ne,config_phone:ie,show_reviews:le}=P,W={...P,birthday:`${ae}-${$.value.numberFromMonth[oe]}-${te}`,gender:(O=(V=a.meta.usersData)==null?void 0:V.data.profile)==null?void 0:O.gender,working_leg:j(se)};delete W.day,delete W.month,delete W.year,delete W.phone,delete W.config_email,delete W.config_phone,delete W.show_reviews;const de={configuration:{email:ne,phone:ie,show_reviews:le},profile:{place:{place_name:"string",lat:90,lon:180},...W},get_planned_events:"1y"};L.UserService.updateProfileData(de).then(()=>{ge(),De()}).catch(re=>console.log("mistake happened",re))}else ge()}function De(){f.value=!0,L.UserService.getMyProfile().then(_=>{var V,O,P,te,oe,ae,se,ne,ie,le,W,de,re,kt,$t,Dt,Et;S.value={last_name:(V=_.data.profile)==null?void 0:V.last_name,name:(O=_.data.profile)==null?void 0:O.name,about_me:(P=_.data.profile)==null?void 0:P.about_me,day:Ce((te=_.data.profile)==null?void 0:te.birthday),month:Me((oe=_.data.profile)==null?void 0:oe.birthday),year:ke((ae=_.data.profile)==null?void 0:ae.birthday),height:(se=_.data.profile)==null?void 0:se.height,weight:(ne=_.data.profile)==null?void 0:ne.weight,working_leg:j((ie=_.data.profile)==null?void 0:ie.working_leg),position:(le=_.data.profile)==null?void 0:le.position,phone:(W=_.data)==null?void 0:W.phone,config_phone:(de=_.data.configuration)==null?void 0:de.phone,config_email:(re=_.data.configuration)==null?void 0:re.email,show_reviews:(kt=_.data.configuration)==null?void 0:kt.show_reviews},c.value=_.data,d.value={...($t=_.data)==null?void 0:$t.profile,working_leg:j((Dt=_.data.profile)==null?void 0:Dt.working_leg)},g.value=(Et=_.data)==null?void 0:Et.email,f.value=!1})}function zt(_,V,O){O||($.tabs=$.tabs.map(P=>({...P,isActive:!1})).map(P=>P.id===_?{...P,isActive:!0}:P),e.push(V))}function ge(){ee("change_data"),$e()}function ee(_){switch(_){case"edit_avatar":A.edit_avatar=!A.edit_avatar;break;case"email":A.email=!A.email;break;case"delete_acc":A.delete_acc=!A.delete_acc;break;case"public_profile":A.public_profile=!A.public_profile;break;case"change_data":A.change_data=!A.change_data;break;case"change_password":A.change_password=!A.change_password;break}}return{toggleEditMode:$e,saveDeclineUserDataChanges:Ot,changeTab:zt,closeChangeUserDataModal:ge,toggleModal:ee,saveDataEdit:qt,cancelDataEdit:Vt,getMyProfile:De,userRating:h,userPhone:l,userEmail:g,isEditModeProfile:p,changeDataModalConfig:b,mockData:$,isModalActive:A,checkboxData:q,userData:d,schema:he,formValues:S,myForm:D,userInfo:c,isLoading:f,windowWidth:I,isTabLabel:B,switchTabLabel:E}}},Nt=o=>(X("data-v-b84797f0"),o=o(),Z(),o),mi={class:"b-user-cabinet"},hi={class:"b-player-page__outer-btns"},gi=Nt(()=>t("img",{src:ci,alt:""},null,-1)),pi=Nt(()=>t("img",{src:_i,alt:""},null,-1)),vi={class:"b-user-cabinet__title-block"},bi={class:"b-user-cabinet__titles"},fi={class:"b-user-cabinet__title"},wi={class:"b-user-cabinet__subtitle"},yi={class:"b-user-cabinet__tab-block"},Ci=["onClick","onMouseenter","onMouseleave"],Mi=["src","alt"],ki={class:"b-user-cabinet__my-profile-tab"};function $i(o,s,a,e,c,h){const l=m("Loading"),g=m("EditAvatarModal"),d=m("ChangeEmailModal"),p=m("DeleteAccountModal"),b=m("ChangePasswordModal"),D=m("PlayerPageComponent"),f=m("ModalUserWindow"),I=m("ChangeUserDataModal"),B=m("ButtonsBlock"),$=m("TabLabel"),S=m("RatingCard"),q=m("UserDetailsCard"),A=m("SecurityBlock"),he=m("Form");return i(),r("div",mi,[u(l,{"is-loading":e.isLoading},null,8,["is-loading"]),e.isModalActive.edit_avatar?(i(),k(g,{key:0,onCloseModal:e.toggleModal},null,8,["onCloseModal"])):w("",!0),e.isModalActive.email?(i(),k(d,{key:1,"user-email":e.userEmail,onCloseModal:e.toggleModal,onEmail:e.getMyProfile},null,8,["user-email","onCloseModal","onEmail"])):w("",!0),e.isModalActive.delete_acc?(i(),k(p,{key:2,"user-email":e.userEmail,onCloseModal:e.toggleModal},null,8,["user-email","onCloseModal"])):w("",!0),e.isModalActive.change_password?(i(),k(b,{key:3,"user-email":e.userEmail,onCloseModal:e.toggleModal},null,8,["user-email","onCloseModal"])):w("",!0),e.isModalActive.public_profile?(i(),k(f,{key:4},{"top-buttons":y(()=>[t("div",hi,[t("div",{class:"b-player-page__continue",onClick:s[0]||(s[0]=E=>e.toggleModal("public_profile"))},[t("span",null,n(o.$t("buttons.keep-editing")),1),gi]),t("div",{onClick:s[1]||(s[1]=E=>e.toggleModal("public_profile")),class:"b-player-page__exit"},[t("span",null,n(o.$t("buttons.save-and-out")),1),pi])])]),"user-content":y(()=>[u(D,{"page-mode":"public","user-data":e.userInfo},null,8,["user-data"])]),_:1})):w("",!0),e.isModalActive.change_data?(i(),k(I,{key:5,config:e.changeDataModalConfig,onCloseModal:e.closeChangeUserDataModal,onSaveDeclineChanges:e.saveDeclineUserDataChanges},null,8,["config","onCloseModal","onSaveDeclineChanges"])):w("",!0),t("div",vi,[t("div",bi,[t("div",fi,n(o.$t("profile.title")),1),t("div",wi,n(o.$t("profile.change-personal-data")),1)]),e.windowWidth>768?(i(),k(B,{key:0,"cancel-btn-width":"auto","save-btn-width":"auto","is-edit-mode-profile":e.isEditModeProfile,onCancelDataEdit:e.cancelDataEdit,onSaveDataEdit:e.saveDataEdit,onToggleModal:e.toggleModal,onToggleEditMode:e.toggleEditMode},null,8,["is-edit-mode-profile","onCancelDataEdit","onSaveDataEdit","onToggleModal","onToggleEditMode"])):w("",!0)]),t("div",yi,[(i(!0),r(H,null,Y(e.mockData.tabs,E=>(i(),r("div",{key:E.id,class:Qt(["b-user-cabinet__tab-element",{active:E.isActive,disabled:E.isDisabled}]),onClick:x=>e.changeTab(E.id,E.url,E.isDisabled),onMouseenter:x=>e.switchTabLabel(E.isDisabled),onMouseleave:x=>e.switchTabLabel(E.isDisabled)},[t("img",{src:E.img,alt:E.name},null,8,Mi),N(" "+n(E.name)+" ",1),E.isDisabled&&e.isTabLabel?(i(),k($,{key:0,title:o.$t("profile.coming-soon-title"),text:o.$t("profile.coming-soon-text")},null,8,["title","text"])):w("",!0)],42,Ci))),128))]),t("div",ki,[u(he,{"validation-schema":e.schema,"initial-values":e.formValues,ref:"myForm"},{default:y(E=>[u(S,{"rating-scale":e.userRating},null,8,["rating-scale"]),u(q,{"user-data":e.userData,phone:e.userPhone,"is-edit-mode":e.isEditModeProfile,onOpenEditPictureModal:e.toggleModal},null,8,["user-data","phone","is-edit-mode","onOpenEditPictureModal"]),u(A,{onToggleModal:e.toggleModal,"user-email":e.userEmail,"checkbox-data":e.checkboxData,"is-edit-mode":e.isEditModeProfile},null,8,["onToggleModal","user-email","checkbox-data","is-edit-mode"]),e.windowWidth<=768?(i(),k(B,{key:0,"is-edit-mode-profile":e.isEditModeProfile,"edit-btn-width":"auto","cancel-btn-width":"auto","save-btn-width":"auto",onCancelDataEdit:e.cancelDataEdit,onSaveDataEdit:e.saveDataEdit,onToggleModal:e.toggleModal,onToggleEditMode:e.toggleEditMode},null,8,["is-edit-mode-profile","onCancelDataEdit","onSaveDataEdit","onToggleModal","onToggleEditMode"])):w("",!0)]),_:1},8,["validation-schema","initial-values"])])])}const Ui=F(ui,[["render",$i],["__scopeId","data-v-b84797f0"]]);export{Ui as default};
