import{_ as $,b as p,u as H,j as Y,C as me,r as y,o as a,i as T,w as M,l as K,a as C,$ as Z,a0 as fe,a1 as be,a2 as ve,a3 as ge,a4 as pe,a5 as he,a6 as G,F as ye,d as N,R as P,c as r,g,e as o,n as S,t as v,f as A,A as B,p as F,h as L,a7 as ke,a8 as V,a9 as X,G as ee,S as I,U as x,K as Ce,T as te,B as z,V as we,Y as Ne,aa as Se}from"./index.30b1903a.js";import{N as q,s as Me,D as Ie,I as $e,S as Ae,A as xe,m as oe,P as Te}from"./members.89031dec.js";import{E as Oe}from"./EmptyList.ca274575.js";import{C as E}from"./index.b54805f3.js";import{_ as ne}from"./cross.90e335cf.js";import{v as se}from"./v4.5d18198f.js";import{_ as Fe}from"./arrow-right.a7e531f5.js";import{I as Le}from"./InputComponent.e5fcfc55.js";import{_ as Be}from"./search.0f589d58.js";import{N as Pe,_ as Re,b as ie}from"./profile.1ac31e7e.js";import{S as De}from"./VueStarRating.common.e5ac3d5b.js";import"./Checkbox.e6cf33f6.js";import"./male-icon.1c76ddde.js";const Ee={name:"Notifications",components:{Notification:q,DynamicScroller:Me,DynamicScrollerItem:Ie},props:{notifications:{type:Array,default:()=>[]},selectedList:{type:Array,default:()=>[]},selectable:{type:Boolean,default:!1}},emits:["update:selected-list","update:scrollbar-existing"],setup(n,{emit:t,expose:i}){let e=p(0),u=p([]),d=p();const s=H();Y(()=>n.selectedList,()=>{const c=[...n.selectedList];u.value=Array.isArray(c)?c.length?c:[]:[],d.value.forceUpdate()}),Y(()=>n.notifications,()=>{me(()=>{t("update:scrollbar-existing",d.value.$el.scrollHeight>d.value.$el.clientHeight)})},{immediate:!0});const f=async(c,h)=>{await Z({button:c,notificationInstance:h,router:s,activeNotification:e})},b=c=>{if(c.selected)u.value.push(c.notification.notification_id);else{const h=u.value.findIndex(w=>w===c.notification.notification_id);u.value.splice(h,1)}t("update:selected-list",u.value)};return i({scrollToItem:c=>d.value.scrollToItem(c),scrollToFirstElement:()=>d.value.scrollToItem(0)}),{activeNotification:e,handlerAction:f,handleSelected:b,scroller:d}}};function He(n,t,i,e,u,d){const s=y("Notification"),f=y("DynamicScrollerItem"),b=y("DynamicScroller");return a(),T(b,{items:i.notifications,"min-item-size":84,"key-field":"notification_id",class:"scroller",ref:"scroller"},{before:M(()=>[K(n.$slots,"before",{},void 0,!0)]),default:M(({item:c,index:h,active:w,itemWithSize:l})=>[C(f,{item:c,active:w,sizeDependencies:[i.notifications.length,c.metadata.expanding],"data-index":h},{default:M(()=>[C(s,{notificationInstance:c,selectable:i.selectable,active:e.activeNotification===c.notification_id,checked:i.selectedList.includes(c.notification_id),onHandlerAction:_=>e.handlerAction(_,c),onSelected:t[0]||(t[0]=_=>e.handleSelected(_))},null,8,["notificationInstance","selectable","active","checked","onHandlerAction"])]),_:2},1032,["item","active","sizeDependencies","data-index"])]),after:M(()=>[K(n.$slots,"after",{},void 0,!0)]),_:3},8,["items"])}const je=$(Ee,[["render",He],["__scopeId","data-v-7d5aa9f4"]]),Ue="/assets/sidebar-arrow-back.6ddc97ca.svg",Ve="/assets/sidebar-arrow.fe8d3224.svg";var J,Q,U,We=(J=ve(he.NotificationInfo),Q=ge([{type:G.Action,text:"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438 \u043D\u043E\u0432\u0456 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F"}]),J(U=Q(U=function(n){fe(t,n);function t(){for(var e,u=arguments.length,d=new Array(u),s=0;s<u;s++)d[s]=arguments[s];return e=n.call.apply(n,[this].concat(d))||this,e.countOfNewNotifications=0,e}var i=t.prototype;return i.createTitle=function(){return"System notification"},be(t,[{key:"texts",get:function(){return["\u0423 \u0432\u0430\u0441 \u043D\u043E\u0432\u0456\u0435 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F - "+this.countOfNewNotifications]},set:function(u){}}]),t}(pe))||U)||U);const ze="/assets/logo-sidebar.7ff4f50d.svg",ae="/assets/trash.12e3e1ee.svg",le="/assets/double-check.5ce54e56.svg";const Ye={components:{InfiniteLoading:$e,Notification:q,EmptyList:Oe,Notifications:je,ScrollToTop:Ae},props:{notifications:{type:Array,default:()=>[]},notReadNotificationCount:{type:Number,default:0},newNotifications:{type:Number,default:0},totalNotificationsCount:{type:Number,default:0},isMenuOpened:{type:Boolean,default:!1}},emits:["closed","reLoading","loading","loadingInfinite","update:isMenuOpened"],setup(n,{emit:t}){const i=p(),e=p(!1),u=p(!1),d=p(""),s=p([]),f=p(new We),b=p(ye("clientVersion"));Y(()=>n.isMenuOpened,()=>{n.isMenuOpened||(t("closed"),s.value=[])});const c=N(()=>n.isMenuOpened?Ue:Ve),h=N(()=>P);function w(){t("update:isMenuOpened",!n.isMenuOpened)}const l=N(()=>(f.value.countOfNewNotifications=n.newNotifications,f.value)),_=N(()=>({title:E.no_data_notifications.noNotifications.title,description:E.no_data_notifications.noNotifications.description})),k=()=>{s.value=[]};return{clientVersion:b,arrowPosition:c,toggleMenu:w,getNewNotificationInstance:l,emptyListMessages:_,routeObject:h,selectedList:s,HandleAction:{deleteAll:()=>{!n.notifications.length&&!n.newNotifications||(B.NotificationService.deleteAllMyNotifications(),k())},readAll:()=>{!n.notifications.length&&!n.newNotifications||(B.NotificationService.readAllMyNotifications(),k())},deleteSelected:()=>{!s.value||(B.NotificationService.deleteNotifications(s.value),k())},readSelected:()=>{!s.value||(B.NotificationService.readNotifications(s.value),k())}},triggerForRestart:d,selectable:e,notificationList:i,blockScrollToTopIfExist:u,clearSelectedList:k,restartInfiniteScroll:()=>{d.value=se()},scrollToFirstElement:()=>{i.value.scrollToFirstElement()}}}},R=n=>(F("data-v-f1b4722b"),n=n(),L(),n),Ge=["src"],qe={class:"b_slide_menu_main"},Ke={class:"b_slide_menu_top-block"},Xe=R(()=>o("div",{class:"b_slide_menu_logo"},[o("img",{src:ze,alt:""})],-1)),Je={key:0,class:"b_slide_menu_items d-flex justify-content-between align-items-center mb-2"},Qe={class:"d-flex"},Ze={class:"b-selected-elements__count me-1"},et={key:0},tt={key:1},ot={class:"d-flex mb-2"},nt=R(()=>o("img",{src:ae,alt:"",height:"16"},null,-1)),st=R(()=>o("img",{src:le,height:"16",alt:""},null,-1)),it=R(()=>o("img",{src:ae,height:"16",alt:""},null,-1)),at=R(()=>o("img",{src:le,height:"16",alt:""},null,-1)),lt={class:"d-flex"},ct={class:"b-notifications-title me-1"},rt={key:0,class:"b-notification-unreaded d-flex align-items-center justify-content-center me-1"},dt={class:"b_slide_menu_bottom-block"},_t=R(()=>o("div",{class:"b_slide_menu_top-line d-flex justify-content-between"},[o("div",{class:"b_slide_menu_name"},"\u042E\u043B\u0456\u044F \u041A\u0456\u0441\u043B\u0456\u0446\u0438\u043D\u0430"),o("div",{class:"b_slide_menu_position"},"\u0442\u0440\u0435\u043D\u0435\u0440")],-1)),ut={class:"b_slide_menu_bottom-line"};function mt(n,t,i,e,u,d){const s=y("Notification"),f=y("empty-list"),b=y("ScrollToTop"),c=y("InfiniteLoading"),h=y("Notifications"),w=y("router-link");return a(),r("div",null,[i.isMenuOpened?(a(),r("div",{key:0,class:"b_slide_menu_back",onClick:t[0]||(t[0]=(...l)=>e.toggleMenu&&e.toggleMenu(...l))})):g("",!0),o("div",{class:"b_slide_menu_wrapper",style:S({right:i.isMenuOpened?"-464px":"0px"})},[i.isMenuOpened?(a(),r("div",{key:0,class:"b_slide_menu_sidebar-arrow",onClick:t[1]||(t[1]=(...l)=>e.toggleMenu&&e.toggleMenu(...l))},[o("img",{src:e.arrowPosition,alt:""},null,8,Ge)])):g("",!0),o("div",qe,[o("div",Ke,[Xe,i.notifications.length?(a(),r("div",Je,[o("div",{class:"d-flex align-items-center",style:S({opacity:e.selectedList.length?"1":"0"})},[o("img",{src:ne,height:"10",alt:"",class:"me-2",onClick:t[2]||(t[2]=(...l)=>e.clearSelectedList&&e.clearSelectedList(...l))}),o("div",Qe,[o("div",Ze,v(e.selectedList.length),1),A(" / "+v(i.totalNotificationsCount),1)])],4),o("button",{onClick:t[3]||(t[3]=l=>(e.selectable=!e.selectable,e.clearSelectedList()))},[e.selectable?(a(),r("span",tt,"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u044B\u0431\u043E\u0440")):(a(),r("span",et,"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0437\u0430\u043F\u0438\u0441\u0438"))])])):g("",!0),o("div",ot,[i.notifications.length?(a(),r("button",{key:0,onClick:t[4]||(t[4]=l=>e.HandleAction.deleteAll()),class:"d-flex align-items-center"},[nt,A(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435 ")])):g("",!0),i.notifications.length&&i.notReadNotificationCount?(a(),r("button",{key:1,onClick:t[5]||(t[5]=l=>e.HandleAction.readAll()),class:"d-flex align-items-center"},[st,A(" \u041F\u0440\u043E\u0447\u0438\u0442\u0430\u0442\u044C \u0432\u0441\u0435 ")])):g("",!0),e.selectable&&i.notifications.length&&e.selectedList.length?(a(),r("button",{key:2,onClick:t[6]||(t[6]=l=>e.HandleAction.deleteSelected()),class:"d-flex align-items-center"},[it,A(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C ")])):g("",!0),e.selectable&&i.notifications.length&&e.selectedList.length?(a(),r("button",{key:3,onClick:t[7]||(t[7]=l=>e.HandleAction.readSelected()),class:"d-flex align-items-center"},[at,A(" \u041F\u0440\u043E\u0447\u0438\u0442\u0430\u0442\u044C ")])):g("",!0)]),o("div",lt,[o("div",ct,v(n.$t("slide_menu.notifications")),1),i.notReadNotificationCount?(a(),r("div",rt,v(i.notReadNotificationCount),1)):g("",!0)]),i.isMenuOpened?(a(),r("ul",{key:1,class:"b_slide_menu_notification",style:S({height:`calc(100vh - ${e.selectable?95:60}px - 100px - 70px)`}),ref:"test"},[C(h,{notifications:i.notifications,selectable:e.selectable,ref:"notificationList","selected-list":e.selectedList,"onUpdate:selected-list":t[11]||(t[11]=l=>e.selectedList=l),"scrollbar-existing":e.blockScrollToTopIfExist,"onUpdate:scrollbar-existing":t[12]||(t[12]=l=>e.blockScrollToTopIfExist=l)},{before:M(()=>[i.newNotifications?(a(),T(s,{key:0,class:"b-new-notification",notificationInstance:e.getNewNotificationInstance,"not-collapsible":!0,onHandlerAction:t[8]||(t[8]=l=>(n.$emit("reLoading"),e.restartInfiniteScroll()))},null,8,["notificationInstance"])):g("",!0)]),after:M(()=>[C(c,{identifier:e.triggerForRestart,ref:"scrollbar",onInfinite:t[10]||(t[10]=l=>n.$emit("loadingInfinite",l))},{complete:M(()=>[i.notifications.length?g("",!0):(a(),T(f,{key:0,title:e.emptyListMessages.title,description:e.emptyListMessages.description,"is-notification":!0},null,8,["title","description"])),C(b,{"element-length":i.notifications,"is-scroll-top-exist":e.blockScrollToTopIfExist,onScrollButtonClicked:t[9]||(t[9]=l=>e.scrollToFirstElement())},null,8,["element-length","is-scroll-top-exist"])]),_:1},8,["identifier"])]),_:1},8,["notifications","selectable","selected-list","scrollbar-existing"])],4)):g("",!0)]),o("div",dt,[_t,o("div",ut,[A(v(n.$t("slide_menu.version"))+" ",1),C(w,{to:e.routeObject.APPLICATION.VERSION.absolute},{default:M(()=>[A(v(e.clientVersion),1)]),_:1},8,["to"])])])])],4)])}const ft=$(Ye,[["render",mt],["__scopeId","data-v-f1b4722b"]]),bt="/assets/Notification.91b0c545.svg",vt="/assets/notificationUnread.4781af12.svg",ce="/assets/record.632423a8.svg",gt="/assets/my-profile-logo.9d6ccfcf.svg",pt="/assets/exit-icon.8ce1bafb.svg";const ht=(n,t)=>t.filter(i=>n.length?!n.find(e=>e.notification_id===i.notification_id):!0),yt={name:"MainSidebar",components:{SlideMenu:ft,Avatar:xe},setup(){const n=p(0),t=p([]),i=H(),e=p(!1),u=N(()=>[{img:n.value?vt:bt,action:()=>e.value=!0},{img:ce,url:"/application/events",action:()=>e.value=!1},{img:oe,url:"/application/smart-list/general",action:()=>e.value=!1}]),d=async()=>B.NotificationService.getNotificationsCount().then(m=>n.value=m.data.not_read_notifications_count||0),{paginationElements:s,paginationPage:f,paginationTotalCount:b,paginationClearData:c,paginationLoad:h}=Te({paginationDataRequest:m=>B.NotificationService.getNotifications({page:m,skipids:t.value}),dataTransformation:m=>ke(m),beforeConcat:(m,D)=>ht(m,D)}),w=(m,D,j)=>{j&&(c(),t.value=[]),h({pageNumber:m,$state:D,forceUpdate:j})},l=m=>{m.notification&&t.value.push(m.notification_id),m.updateWebSocketMessage&&m.handleUpdate({paginationElements:s,paginationLoad:h,paginationPage:f},d),d()},_=()=>i.push(P.APPLICATION.PROFILE.MY_PROFILE.absolute);return V.registerCallback(l),X.on("SidebarClearData",()=>{t.value=[],c()}),ee(()=>{X.off("SidebarClearData"),V.destroyCallback(l)}),d(),{paginationElements:s,paginationTotalCount:b,paginationPage:f,notReadNotificationCount:n,skipids:t,menuItems:u,isMenuOpened:e,loadDataNotifications:w,paginationClearData:c,goToProfile:_,logOut:()=>{te.clearToken(),i.push(P.AUTHENTICATIONS.LOGIN.absolute)}}}},re=n=>(F("data-v-f97567f9"),n=n(),L(),n),kt={class:"b_sidebar_wrapper"},Ct={class:"b_sidebar"},wt={class:"b_sidebar_top-block"},Nt=re(()=>o("div",{class:"b_sidebar_picture-top"},[o("img",{src:gt,alt:""})],-1)),St={class:"b_sidebar_menu-block"},Mt=["onClick"],It=["src"],$t={key:1},At=["src"],xt={class:"b_sidebar_bottom-block"},Tt={class:"b_sidebar_picture-bottom"},Ot=re(()=>o("img",{src:pt,alt:""},null,-1)),Ft=[Ot];function Lt(n,t,i,e,u,d){const s=y("SlideMenu"),f=y("router-link"),b=y("avatar");return a(),r("div",kt,[C(s,{"is-menu-opened":e.isMenuOpened,"onUpdate:is-menu-opened":t[0]||(t[0]=c=>e.isMenuOpened=c),notifications:e.paginationElements,notReadNotificationCount:e.notReadNotificationCount,newNotifications:e.skipids.length,"total-notifications-count":e.paginationTotalCount,onClosed:t[1]||(t[1]=c=>e.paginationClearData()),onLoadingInfinite:t[2]||(t[2]=c=>e.loadDataNotifications(e.paginationPage+1,c)),onReLoading:t[3]||(t[3]=c=>e.loadDataNotifications(1,null,!0)),onLoading:t[4]||(t[4]=c=>e.loadDataNotifications(1,null,!0))},null,8,["is-menu-opened","notifications","notReadNotificationCount","newNotifications","total-notifications-count"]),o("div",Ct,[o("div",wt,[Nt,o("div",St,[o("ul",null,[(a(!0),r(I,null,x(e.menuItems,(c,h)=>(a(),r("li",{key:h,class:Ce(["b_sidebar_menu-item"]),onClick:w=>c.action&&c.action()},[c.url?(a(),T(f,{key:0,to:c.url},{default:M(()=>[o("img",{src:c.img,alt:""},null,8,It)]),_:2},1032,["to"])):(a(),r("a",$t,[o("img",{src:c.img},null,8,At)]))],8,Mt))),128))])])]),o("div",xt,[o("div",Tt,[C(b,{"full-name":"Yaroslav Makovskyi",onClick:e.goToProfile},null,8,["onClick"]),o("div",{onClick:t[5]||(t[5]=(...c)=>e.logOut&&e.logOut(...c)),class:"b_sidebar_logout d-flex justify-content-center align-items-center"},Ft)])])])])}const Bt=$(yt,[["render",Lt],["__scopeId","data-v-f97567f9"]]);const Pt={class:"b_breadcrumbs"},Rt={key:0,src:Fe,alt:""},Dt={__name:"Breadcrumbs",setup(n){const{breadcrumbs:t}=H().currentRoute.value.meta;return(i,e)=>{const u=y("router-link");return a(),r("div",Pt,[o("ul",null,[(a(!0),r(I,null,x(z(t),(d,s)=>(a(),r("li",{key:d.name},[C(u,{to:s+1===z(t).length?"":d.path},{default:M(()=>[A(v(d.name),1)]),_:2},1032,["to"]),s+1!==z(t).length?(a(),r("img",Rt)):g("",!0)]))),128))])])}}},Et=$(Dt,[["__scopeId","data-v-5ed4740b"]]),Ht="/assets/mob-menu-icon.297a58b5.svg",jt="/assets/logo-header.d812c47e.svg";const Ut={components:{BreadCrumbs:Et,InputComponent:Le},computed:{searchIcon(){return Be}}},de=n=>(F("data-v-8c509841"),n=n(),L(),n),Vt={class:"b_header"},Wt=de(()=>o("img",{src:Ht,alt:""},null,-1)),zt=[Wt],Yt=de(()=>o("div",{class:"b_header_logo"},[o("img",{src:jt,alt:""})],-1)),Gt={class:"b_header_search-block"},qt={class:"b_header_search-input"};function Kt(n,t,i,e,u,d){const s=y("BreadCrumbs"),f=y("InputComponent");return a(),r("div",Vt,[o("div",{class:"b_header_mob-menu-icon",onClick:t[0]||(t[0]=b=>n.$emit("menuIconClick"))},zt),C(s),Yt,o("div",Gt,[o("div",qt,[C(f,{"title-width":0,placeholder:n.$t("header.search-events"),icon:d.searchIcon},null,8,["placeholder","icon"])])])])}const Xt=$(Ut,[["render",Kt],["__scopeId","data-v-8c509841"]]),Jt="/assets/notification-white.ddaba099.svg",Qt="/assets/record-white.98970178.svg",Zt="/assets/members-white.1b7f0bc3.svg",eo="/assets/Settings.1a817c52.svg",to="/assets/Settings-white.d85f4ec1.svg",oo="/assets/logout-icon.82cd7f5e.svg";const no={name:"MobileMenu",props:{isMenuActive:{type:Boolean,default:!1}},emit:["closeMenu"],setup(n,{emit:t}){const i=p([{id:0,value:"\u0421\u043F\u043E\u0432\u0456\u0449\u0435\u043D\u043D\u044F",value_show:!0,imgInactive:Pe,imgActive:Jt,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775"},{id:1,value:"\u041F\u043E\u0434\u0456\u0457",value_show:!0,imgInactive:ce,imgActive:Qt,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775",url:P.APPLICATION.EVENTS.absolute}]),e=p([{id:0,value:"\u0420\u0435\u0439\u0442\u0438\u043D\u0433 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432",value_show:!0,imgInactive:oe,imgActive:Zt,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775",url:P.APPLICATION.USERS.GENERAL.absolute},{id:1,value:"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u044F",value_show:!0,imgInactive:eo,imgActive:to,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775",url:P.APPLICATION.PROFILE.MY_PROFILE.absolute}]),u=H(),d=N(()=>({letters:E.mob_menu.letters})),s=p("auto"),f=N(()=>({height:s.value})),b=N(()=>({transform:`translateX(${n.isMenuActive?0:-100}%)`}));function c(){h(i),h(e),s.value="auto",t("closeMenu")}function h(l){l.value=l.value.map(_=>({..._,value_show:!0,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775"}))}function w(l,_,k){if(_){u.push(_),c();return}s.value="100%";const m=k==="top-menu"?i:e,D=k==="top-menu"?e:i,j=l?0:1;h(D),m.value=m.value.map(O=>O.id===l?{...O,value_show:!0,isIconActive:!0,width:"80%",height:"52px",alignement:"flex-start",background:"#575775",textColor:"#fff"}:O),m.value=m.value.map(O=>O.id===j?{...O,value_show:!1,isIconActive:!1,width:"20%",height:"52px",alignement:"center",background:"#FFFFFF",textColor:"#575775"}:O)}return{topMenu:i,bottomMenu:e,mockData:d,menuBlockStyle:f,mobMenuStyle:b,lineMenuClick:w,closeMobMenu:c}}},W=n=>(F("data-v-51e08184"),n=n(),L(),n),so={class:"b-mob-menu__logo-block"},io={class:"b-mob-menu__logo"},ao={class:"b-mob-menu__user-data"},lo=W(()=>o("div",{class:"b-mob-menu__user-img"},[o("img",{src:Re,alt:""})],-1)),co={class:"b-mob-menu__text-block"},ro=W(()=>o("div",{class:"b-mob-menu__user-name"},"\u0421\u0442\u0435\u0444\u0430\u043D\u0456\u044F \u041A\u0430\u043B\u0438\u043D\u043E\u0432\u0441\u044C\u043A\u0430",-1)),_o={class:"b-mob-menu__account-type"},uo=W(()=>o("div",{class:"b-mob-menu__logout-icon"},[o("img",{src:oo,alt:""})],-1)),mo={class:"b-mob-menu__line"},fo=["onClick"],bo=["src"],vo={key:0},go={class:"b-mob-menu__content-block"},po={class:"b-mob-menu__message-list"},ho={class:"b-mob-menu__left-side"},yo=["src"],ko=W(()=>o("div",{class:"b-mob-menu__is-user-active"},null,-1)),Co={class:"b-mob-menu__right-side"},wo={class:"b-mob-menu__top-line"},No={class:"b-mob-menu__bottom-line"},So=["src"],Mo={class:"b-mob-menu__line"},Io=["onClick"],$o=["src"],Ao={key:0};function xo(n,t,i,e,u,d){return a(),r("div",{class:"b-mob-menu",style:S(e.mobMenuStyle)},[o("div",so,[o("div",io,v(n.$t("menu.blanball")),1),o("div",{class:"b-mob-menu__close",onClick:t[0]||(t[0]=(...s)=>e.closeMobMenu&&e.closeMobMenu(...s))},"\xD7")]),o("div",ao,[lo,o("div",co,[ro,o("div",_o,v(n.$t("menu.guest-account")),1)]),uo]),o("div",{class:"b-mob-menu__menu-block",style:S(e.menuBlockStyle)},[o("div",mo,[(a(!0),r(I,null,x(e.topMenu,s=>(a(),r("div",{class:"b-mob-menu__menu-item",key:s.id,style:S({width:s.width,height:s.height,"justify-content":s.alignement,background:s.background,color:s.textColor}),onClick:f=>e.lineMenuClick(s.id,s.url,"top-menu")},[o("img",{src:s.isIconActive?s.imgActive:s.imgInactive,alt:""},null,8,bo),s.value_show?(a(),r("span",vo,v(s.value),1)):g("",!0)],12,fo))),128))]),o("div",go,[o("div",po,[(a(!0),r(I,null,x(e.mockData.letters,s=>(a(),r("div",{class:"b-mob-menu__message",key:s.id},[o("div",ho,[o("img",{src:s.userImg,alt:""},null,8,yo),ko]),o("div",Co,[o("div",wo,[o("span",null,v(s.sender),1),o("span",null,v(s.time),1)]),o("div",No,[o("span",null,v(s.topic),1),o("img",{src:s.icon,alt:""},null,8,So)])])]))),128))])]),o("div",Mo,[(a(!0),r(I,null,x(e.bottomMenu,s=>(a(),r("div",{class:"b-mob-menu__menu-item",key:s.id,style:S({width:s.width,height:s.height,"justify-content":s.alignement,background:s.background,color:s.textColor}),onClick:f=>e.lineMenuClick(s.id,s.url)},[o("img",{src:s.isIconActive?s.imgActive:s.imgInactive,alt:""},null,8,$o),s.value_show?(a(),r("span",Ao,v(s.value),1)):g("",!0)],12,Io))),128))])],4)],4)}const To=$(no,[["render",xo],["__scopeId","data-v-51e08184"]]),Oo="/assets/cloud-hands.1bbdf146.svg";const Fo={name:"ModalTopCard",props:{step:{type:Object,default:()=>({})},isOpened:{type:Boolean,default:!0}},setup(n){const t=N(()=>({transform:n.isOpened?"rotate(-180deg)":"rotate(-90deg)"})),i=N(()=>({"font-weight":700,"font-size":"24px","line-height":"28px",color:"#262541"})),e=N(()=>({height:n.isOpened?"auto":0}));return{lastTitleStyle:i,mainBlockCardStyle:e,arrowStyle:t}}},_e=n=>(F("data-v-a14e2eed"),n=n(),L(),n),Lo={class:"b-modal-top-card"},Bo={class:"b-modal-top-card__arrow-cross-block"},Po=_e(()=>o("img",{src:ie,alt:""},null,-1)),Ro=[Po],Do=_e(()=>o("img",{src:ne,alt:""},null,-1)),Eo=[Do],Ho={class:"b-modal-top-card__title-wrapper"},jo={key:0,src:Oo,alt:"cloud-hands"},Uo={class:"b-modal-top-card__subtitle"},Vo={class:"b-modal-top-card__last-subtitle"},Wo={key:0,class:"b-modal-top-card__emotions"},zo=["src"],Yo={key:1,class:"b-modal-top-card__btns-block"};function Go(n,t,i,e,u,d){return a(),r("div",Lo,[o("div",Bo,[i.step.id!==4?(a(),r("div",{key:0,class:"b-modal-top-card__arrow",style:S(e.arrowStyle),onClick:t[0]||(t[0]=s=>n.$emit("arrowClick"))},Ro,4)):(a(),r("div",{key:1,class:"b-modal-top-card__cross",onClick:t[1]||(t[1]=s=>n.$emit("crossClick"))},Eo))]),o("div",Ho,[i.step.id===4?(a(),r("img",jo)):g("",!0),o("div",{class:"b-modal-top-card__title",style:S(i.step.id===4&&e.lastTitleStyle)},v(i.step.title),5)]),o("div",{class:"b-modal-top-card__main-block",style:S(e.mainBlockCardStyle)},[o("div",Uo,v(i.step.subtitle),1),o("div",Vo,v(i.step.last_subtitle),1),i.step.emojies?(a(),r("div",Wo,[(a(!0),r(I,null,x(i.step.emojies,s=>(a(),r("div",{key:s,class:"b-modal-top-card__emoji"},[o("img",{src:s,alt:""},null,8,zo)]))),128))])):g("",!0),i.step.buttons?(a(),r("div",Yo,[o("div",{class:"b-modal-top-card__cancel-btn",onClick:t[2]||(t[2]=s=>n.$emit("cancelClick"))},v(i.step.buttons.cancel),1),o("div",{class:"b-modal-top-card__next-btn",onClick:t[3]||(t[3]=s=>n.$emit("nextClick"))},v(i.step.buttons.next),1)])):g("",!0)],4)])}const qo=$(Fo,[["render",Go],["__scopeId","data-v-a14e2eed"]]),Ko="/assets/message-icon.1dfc3fdb.svg";const Xo={name:"RatePlayerCard",components:{StarRating:De},props:{player:{type:Object,default:()=>({})}},setup(n){return{rating:p(3)}}},Jo=n=>(F("data-v-5b3e7df5"),n=n(),L(),n),Qo={class:"b-player-card"},Zo={class:"b-player-card__left-part"},en={class:"b-player-card__player-name"},tn={class:"b-player-card__right-part"},on={class:"b-player-card__rating"},nn=Jo(()=>o("div",{class:"b-player-card__message"},[o("img",{src:Ko,alt:""})],-1));function sn(n,t,i,e,u,d){const s=y("star-rating");return a(),r("div",Qo,[o("div",Zo,[o("div",{class:"b-player-card__team-label",style:S({background:i.player.color})},v(i.player.label),5),o("div",en,v(i.player.name),1)]),o("div",tn,[o("div",on,[C(s,{rating:e.rating,"star-size":14,"show-rating":!1,"read-only":!0,"active-color":"#148783"},null,8,["rating"])]),nn])])}const an=$(Xo,[["render",sn],["__scopeId","data-v-5b3e7df5"]]),ln="/assets/warning-red.01114958.svg";const cn={name:"ModalBottomCard",components:{RatePlayerCard:an},props:{isOpened:{type:Boolean,default:!1}},setup(n){const t=N(()=>({width:n.isOpened?"888px":"400px",height:n.isOpened?"656px":"auto"})),i=N(()=>({transform:n.isOpened?"rotate(-180deg)":"rotate(-90deg)"})),e=N(()=>E.modal_feedback.players);return{bottomCardStyle:t,arrowStyle:i,players:e}}},ue=n=>(F("data-v-a4a2112c"),n=n(),L(),n),rn={class:"b-modal-bottom-card__title-line"},dn={class:"b-modal-bottom-card__title"},_n=ue(()=>o("img",{src:ie,alt:""},null,-1)),un=[_n],mn={key:0,class:"b-modal-bottom-card__send-complain"},fn=ue(()=>o("img",{src:ln,alt:""},null,-1)),bn={key:0,class:"b-modal-bottom-card__players-viewport"},vn={class:"b-modal-bottom-card__players-wrapper"},gn={class:"b-modal-bottom-card__team-1"},pn={class:"b-modal-bottom-card__team-2"};function hn(n,t,i,e,u,d){const s=y("RatePlayerCard");return a(),T(we,null,{default:M(()=>[o("div",{class:"b-modal-bottom-card",style:S(e.bottomCardStyle)},[o("div",rn,[o("div",dn,v(n.$t("modal_feedback.evaluate_game")),1),o("div",{class:"b-modal-bottom-card__arrow",style:S(e.arrowStyle),onClick:t[0]||(t[0]=f=>n.$emit("arrowClick"))},un,4),i.isOpened?(a(),r("div",mn,[fn,A(" "+v(n.$t("modal_feedback.complain")),1)])):g("",!0)]),i.isOpened?(a(),r("div",bn,[o("div",vn,[o("div",gn,[(a(!0),r(I,null,x(e.players.team_1,f=>(a(),T(s,{key:f.id,player:f},null,8,["player"]))),128))]),o("div",pn,[(a(!0),r(I,null,x(e.players.team_2,f=>(a(),T(s,{key:f.id,player:f},null,8,["player"]))),128))])])])):g("",!0)],4)]),_:1})}const yn=$(cn,[["render",hn],["__scopeId","data-v-a4a2112c"]]);const kn={name:"ModalFeedback",components:{ModalTopCard:qo,ModalBottomCard:yn},setup(){const n=p(!0),t=N(()=>E.modal_feedback.steps),i=p(0);function e(){n.value=!n.value}return{steps:t,currentStep:i,isCardTopOpened:n,toggleCard:e}}},Cn={class:"b-modal-feedback"},wn={key:0,class:"b-modal-feedback__window"};function Nn(n,t,i,e,u,d){const s=y("ModalTopCard"),f=y("ModalBottomCard");return a(),r("div",null,[o("div",{class:"b-modal-feedback__modal-wrapper",onClick:t[3]||(t[3]=Ne(b=>n.$emit("close-modal"),["self"]))},[o("div",Cn,[(a(!0),r(I,null,x(e.steps,b=>(a(),r(I,{key:b.id},[e.currentStep===b.id?(a(),r("div",wn,[C(s,{step:b,"is-opened":e.isCardTopOpened,onCancelClick:t[0]||(t[0]=c=>e.currentStep--),onNextClick:t[1]||(t[1]=c=>e.currentStep++),onCrossClick:t[2]||(t[2]=c=>n.$emit("close-modal")),onArrowClick:e.toggleCard},null,8,["step","is-opened","onArrowClick"]),C(f,{"is-opened":!e.isCardTopOpened,onArrowClick:e.toggleCard},null,8,["is-opened","onArrowClick"])])):g("",!0)],64))),128))])])])}const Sn=$(kn,[["render",Nn],["__scopeId","data-v-b5f3273e"]]),Mn="/assets/message_audio.1867ec07.mp3";const In={class:"main-wrapper"},$n={class:"main-block"},An={class:"container"},xn={class:"main-body-inner"},Wn={__name:"index",setup(n){const t=p(!1),i=p({review:{data:{},active:!1}}),e=H(),u=Se(),d=new Audio(Mn);let s;const f=async(l,_)=>{clearTimeout(s),await Z({item:l,notificationInstance:_,router:e})},b=(l,_,k)=>{const m=c(l,_);m.componentOptions.props.active=k,u.update(_,{content:m.componentOptions,options:m.options})},c=(l,_)=>{const k=l.actions.find(m=>m.type===G.Close);return l.actions=l.actions.filter(m=>m.type!==G.Close),{componentOptions:{component:q,props:{notificationInstance:l,notificationType:"notification-push"},listeners:{handlerAction:async m=>{b(l,_,!0),await f(m,l),b(l,_,!1),u.dismiss(_)},handlerClose:async()=>{k&&(b(l,_,!0),await f(k,l),b(l,_,!1)),u.dismiss(_)}}},options:{id:_,timeout:!1,position:"top-right",closeOnClick:!1,draggable:!1,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!1,rtl:!1,toastClassName:[l.getPushNotificationTheme()]}}},h=l=>{const _=c(l,se()),k=u(_.componentOptions,_.options);l.timeForClose&&(s=setTimeout(()=>{u.dismiss(k)},l.timeForClose))},w=l=>{l.pushNotification&&(h(l),d.play())};return V.registerCallback(w).connect({token:te.getToken()}),ee(()=>{V.destroyCallback(w).disconnect()}),(l,_)=>{const k=y("router-view");return a(),r("div",In,[C(To,{isMenuActive:t.value,onCloseMenu:_[0]||(_[0]=m=>t.value=!1)},null,8,["isMenuActive"]),C(Bt),o("div",$n,[o("div",An,[o("div",xn,[C(Xt,{onMenuIconClick:_[1]||(_[1]=m=>t.value=!0)}),C(k)])])]),i.value.review.active?(a(),T(Sn,{key:0,onCloseModal:l.toggleModal},null,8,["onCloseModal"])):g("",!0)])}}};export{Wn as default};
