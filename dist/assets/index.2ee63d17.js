import{_ as C,o as i,c as l,l as $,M as j,a0 as Z,e as c,t as x,F as z,d as w,ag as P,q as J,b as S,k as W,j as R,ah as Q,G as K,g as y,a as B,w as N,Y as X,L as tt,ai as et,r as T,i as H,f as q,S as O,U,p as A,h as G,aj as nt,ak as at,al as ot,am as F}from"./index.695a002b.js";import{C as it}from"./Checkbox.acff8797.js";import{v as Y}from"./v4.5d18198f.js";const st={name:"NotificationButton",props:{buttonColor:{type:String,default:"standard"},buttonType:{type:String,default:"flat"},notificationType:{type:String,default:"notification-push"}},computed:{getNotificationType(){switch(this.notificationType){case"notification-push":return"notification-type__notification-push";case"notification-sidebar":return"notification-type__notification-sidebar"}}}};function lt(t,n,e,r,o,u){return i(),l("div",{class:j(["notification-button",[e.buttonType||"flat",e.buttonColor||"standard",u.getNotificationType]]),onClick:n[0]||(n[0]=Z(f=>t.$emit("click-event"),["stop"]))},[$(t.$slots,"default",{},void 0,!0)],2)}const ct=C(st,[["render",lt],["__scopeId","data-v-736f26a6"]]);const rt={name:"Avatar",props:{link:{type:String},fullName:{type:String}},computed:{shortFullName(){if(!!this.fullName)return this.fullName.split(" ").map(t=>{var n;return(n=t==null?void 0:t[0])==null?void 0:n.toUpperCase()}).join("")}}},dt={key:0,class:"b-avatar"},ut=["src"],pt={key:1,class:"b-avatar b-avatar-words d-flex justify-content-center align-items-center"};function ft(t,n,e,r,o,u){return e.link?(i(),l("div",dt,[c("img",{src:e.link},null,8,ut)])):(i(),l("div",pt,x(u.shortFullName),1))}const _t=C(rt,[["render",ft],["__scopeId","data-v-b6230118"]]);var vt=`
    <svg
        width="24px"
        height="24px"
        viewBox="0 0 24 24"
        fill="currentColor"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path d="M6.34292 7.75734L4.92871 9.17155L11.9998 16.2426L19.0708 9.17158L17.6566 7.75737L11.9998 13.4142L6.34292 7.75734Z"/>
    </svg>
`,m=z({panelGroups:{}}),gt=function(){var n=function(a){return w(function(){return m.panelGroups[a].accordion})},e=function(a,d){m.panelGroups[a]=P({},m.panelGroups[a],{accordion:d})},r=function(a,d){return w(function(){var _,p;return((_=m.panelGroups[a])==null||(p=_.panelExpandStatus)==null?void 0:p[d])||!1})},o=function(a,d,_){var p,k;m.panelGroups[a]=P({},m.panelGroups[a],{panelExpandStatus:P({},((p=m.panelGroups[a])==null?void 0:p.panelExpandStatus)||{},(k={},k[d]=_,k))})},u=function(a,d){return m.panelGroups[a].accordion?(m.panelGroups[a].panelExpandStatus[d]||Object.keys(m.panelGroups[a].panelExpandStatus).forEach(function(_){m.panelGroups[a].panelExpandStatus[_]=!1}),m.panelGroups[a].panelExpandStatus[d]=!m.panelGroups[a].panelExpandStatus[d],m.panelGroups[a].panelExpandStatus[d]):(m.panelGroups[a].panelExpandStatus[d]=!m.panelGroups[a].panelExpandStatus[d],m.panelGroups[a].panelExpandStatus[d])};return{useGroupAccordion:n,setGroupAccordionStatus:e,panelExpanded:r,setPanelExpandedStatus:o,togglePanelExpandedStatus:u}};const ht=J({name:"CollapsiblePanel",props:{expanding:{type:Boolean,default:!0}},setup(t,n){const e=`panel-${Y()}`,r=S(),o=S(),u=S(),{panelExpanded:f,togglePanelExpandedStatus:a,setPanelExpandedStatus:d}=gt(),_=w(()=>({hasContent:n.slots.content,dataKey:Y()})),p=w(()=>{var s,I;return((I=(s=r.value)==null?void 0:s.parentElement)==null?void 0:I.getAttribute("data-id-group"))||""}),k=w(()=>f(p.value,e).value&&_.value.hasContent),b=()=>{!_.value.hasContent||n.emit("update:expanding",a(p.value,e))},h=s=>{s.style.height="0"},v=s=>{s.style.height=`${s.scrollHeight}px`},g=async()=>{await K(),!(!o.value||!u.value)&&(o.value.style.height=`${Math.min(u.value.scrollHeight,o.value.scrollHeight)}px`)};return W(()=>{d(p.value,e,t.expanding)}),R(()=>t.expanding,()=>d(p.value,e,t.expanding)),Q(()=>{g()}),{body:_,panelRef:r,bodyRef:o,bodyContentRef:u,isExpanded:k,collapse:h,expand:v,toggle:b,toggleIcon:vt}}});const mt={class:"vcp__header-title"},yt={key:0,class:"vcp__header-icon"},bt=["innerHTML"],xt={key:0,ref:"bodyRef",class:"vcp__body"},kt={ref:"bodyContentRef",class:"vcp__body-content"};function St(t,n,e,r,o,u){return i(),l("section",{ref:"panelRef",class:j(["vcp",{"vcp--expanded":t.isExpanded,"vcp--expandable":t.body.hasContent}])},[c("header",{class:"vcp__header",onClick:n[0]||(n[0]=(...f)=>t.toggle&&t.toggle(...f))},[c("div",mt,[$(t.$slots,"title",{},void 0,!0)]),t.body.hasContent?(i(),l("div",yt,[$(t.$slots,"icon",{},()=>[c("span",{innerHTML:t.toggleIcon},null,8,bt)],!0)])):y("",!0)]),B(X,{"data-key":t.body.dataKey,name:"slide",onBeforeEnter:t.collapse,onEnter:t.expand,onBeforeLeave:t.expand,onLeave:t.collapse},{default:N(()=>[t.isExpanded?(i(),l("div",xt,[c("div",kt,[$(t.$slots,"content",{},void 0,!0)],512)],512)):y("",!0)]),_:3},8,["data-key","onBeforeEnter","onEnter","onBeforeLeave","onLeave"])],2)}const Et=C(ht,[["render",St],["__scopeId","data-v-f53cb98e"]]),Ct="/assets/true_check.a4923193.svg",$t="/assets/red_cross.6ee0eee7.svg";const It={name:"Notification",components:{Loading:tt,NotificationButton:ct,Avatar:_t,Checkbox:it,CollapsiblePanel:Et},emits:["handler-action","selected","force"],props:{notificationInstance:{type:Object,default:()=>({})},active:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},notCollapsible:{type:Boolean,default:!1},notificationType:{type:String,default:"notification-sidebar"}},data(){return{loading:!1}},watch:{active(t){t?this.start():this.finish()}},methods:{start(){this.loading=!0},finish(){this.loading=!1}},computed:{formatDate(){var t;return((t=this.notificationInstance)==null?void 0:t.parseDate)||et(String(this.notificationInstance.date)).format("DD.MM.YYYY")},isPush(){return this.notificationType==="push"},isStandard(){return this.notificationType==="standard"},expanding:{set(t){this.notificationInstance.metadata.expanding=this.notificationType==="notification-sidebar"?t:!0},get(){return this.notCollapsible?!0:this.notificationType==="notification-sidebar"?!!this.notificationInstance.metadata.expanding:!0}}}},Lt=t=>(A("data-v-310265ce"),t=t(),G(),t),wt={class:"notification-parts d-flex justify-content-between"},Tt={key:0,class:"notification-image"},Bt=["src"],Nt={class:"notification-data flex-grow-1"},At={key:0,class:"notification-read"},Gt={class:"notification-header d-flex justify-content-between"},Pt={class:"notification-sender"},Dt={key:0,class:"b-selectable"},Rt={key:1,class:"notification-date"},qt={class:"notification-title"},Mt={key:0,class:"notification-response d-flex align-items-center"},jt={key:0,src:Ct},Ht={key:1,src:$t},Ot={class:"notification-content"},Ut={key:1,class:"notification-actions"},Ft=Lt(()=>c("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.189895 0.189192C0.433973 -0.0548856 0.829701 -0.0548852 1.07378 0.189193L5.00069 4.11612L8.92758 0.189194C9.17166 -0.0548846 9.56739 -0.0548862 9.81147 0.189191C10.0555 0.433267 10.0555 0.828995 9.81147 1.07307L5.88458 5L9.81147 8.92689C10.0555 9.17097 10.0555 9.5667 9.81147 9.81077C9.56739 10.0549 9.17166 10.0549 8.92759 9.81077L5.00069 5.88388L1.07378 9.81078C0.829698 10.0549 0.43397 10.0549 0.189893 9.81077C-0.0541841 9.5667 -0.0541829 9.17097 0.189896 8.92689L4.11681 5L0.189894 1.07308C-0.0541837 0.828997 -0.0541833 0.433269 0.189895 0.189192Z",fill:"#DFDEED"})],-1)),Yt=[Ft];function Vt(t,n,e,r,o,u){var k;const f=T("loading"),a=T("avatar"),d=T("checkbox"),_=T("NotificationButton"),p=T("collapsible-panel");return i(),l("div",{class:j(["notification",[e.notificationType,e.notCollapsible&&"not-collapsible"]])},[B(f,{"is-loading":o.loading},null,8,["is-loading"]),c("div",wt,[e.notificationType==="notification-sidebar"?(i(),l("div",Tt,[e.notificationInstance.notificationImage?(i(),l("img",{key:0,src:e.notificationInstance.notificationImage},null,8,Bt)):y("",!0),e.notificationInstance.notificationUserImage?(i(),H(a,{key:1,link:e.notificationInstance.profileImage,"full-name":e.notificationInstance.fullName},null,8,["link","full-name"])):y("",!0)])):y("",!0),c("div",Nt,[e.notificationInstance.isRead?(i(),l("div",At)):y("",!0),c("div",Gt,[c("div",Pt,x(e.notificationInstance.sender),1),e.selectable?(i(),l("div",Dt,[B(d,{checked:e.checked,"field-id":(k=e.notificationInstance)==null?void 0:k.notification_id,"onUpdate:checked":n[0]||(n[0]=b=>t.$emit("selected",{notification:e.notificationInstance,selected:b}))},null,8,["checked","field-id"])])):y("",!0),e.notificationType==="notification-sidebar"&&!e.selectable?(i(),l("div",Rt,x(u.formatDate),1)):y("",!0)]),B(p,{expanding:u.expanding,"onUpdate:expanding":n[1]||(n[1]=b=>u.expanding=b)},{title:N(()=>[c("div",qt,x(e.notificationInstance.title),1)]),content:N(()=>{var b,h;return[e.notificationInstance.textsAfterAction?(i(),l("div",Mt,[e.notificationInstance.textsAfterAction.response?(i(),l("img",jt)):(i(),l("img",Ht)),q(" "+x(e.notificationInstance.textsAfterAction.text),1)])):y("",!0),(i(!0),l(O,null,U(e.notificationInstance.texts,v=>(i(),l("div",Ot,x(v),1))),256)),!e.notificationInstance.textsAfterAction&&((h=(b=e.notificationInstance)==null?void 0:b.actions)==null?void 0:h.length)?(i(),l("div",Ut,[(i(!0),l(O,null,U(e.notificationInstance.actions,v=>(i(),H(_,{onClick:g=>t.$emit("handler-action",v),"button-type":v.buttonType,"button-color":v.buttonColor,"notification-type":e.notificationType},{default:N(()=>[q(x(v.text),1)]),_:2},1032,["onClick","button-type","button-color","notification-type"]))),256))])):y("",!0)]}),_:1},8,["expanding"]),u.isPush?(i(),l("div",{key:1,class:"notification-close",onClick:n[2]||(n[2]=b=>t.$emit("handler-close"))},Yt)):y("",!0)])])],2)}const Te=C(It,[["render",Vt],["__scopeId","data-v-310265ce"]]),Wt="/assets/empty-notifications.af6dc9b3.svg",Kt="/assets/no_data.c4ba2f87.svg";const Zt={name:"EmptyList",props:{title:{type:String,require:!0},description:{type:String,require:!0},isNotification:{type:Boolean,require:!1,default:!1}},setup({isNotification:t}){return{imageLink:w(()=>t?Wt:Kt)}}},zt=t=>(A("data-v-f006591d"),t=t(),G(),t),Jt={class:"b-empty-list d-flex align-items-center justify-content-between"},Qt={class:"b-empty-list__left-side"},Xt={class:"b-empty-list__title"},te={class:"b-empty-list__description"},ee=zt(()=>c("div",{class:"b-empty-list__actions"},null,-1)),ne={class:"b-empty-list__right-side"},ae=["src"];function oe(t,n,e,r,o,u){return i(),l("div",Jt,[c("div",Qt,[c("div",Xt,x(e.title),1),c("div",te,x(e.description),1),ee]),c("div",ne,[c("img",{src:r.imageLink},null,8,ae)])])}const Be=C(Zt,[["render",oe],["__scopeId","data-v-f006591d"]]),ie="/assets/arrow_up.57bbbb27.svg";const se={name:"ScrollToTop",props:{elementLength:{type:Array,default:()=>[]},isScrollTopExist:{type:Boolean}},emits:["scrollButtonClicked"]},le=t=>(A("data-v-e49b2dae"),t=t(),G(),t),ce={class:"b-scroll-top"},re={key:0,class:"b-scroll-top__return-top my-3"},de={class:"b-scroll-top__scroll-text"},ue=le(()=>c("img",{src:ie},null,-1)),pe={key:1};function fe(t,n,e,r,o,u){return i(),l("div",ce,[e.elementLength.length&&e.isScrollTopExist?(i(),l("div",re,[c("div",de,x(t.$t("scroll_top_component.end-reached")),1),c("button",{class:"b-scroll-top__to-first-element",onClick:n[0]||(n[0]=f=>t.$emit("scrollButtonClicked"))},[q(x(t.$t("scroll_top_component.up"))+" ",1),ue])])):y("",!0),e.isScrollTopExist?y("",!0):(i(),l("div",pe))])}const Ne=C(se,[["render",fe],["__scopeId","data-v-e49b2dae"]]);const _e={},ve=t=>(A("data-v-2d1fba02"),t=t(),G(),t),ge={class:"loader-wrapper"},he=ve(()=>c("div",{class:"loader"},null,-1)),me=[he];function ye(t,n){return i(),l("div",ge,me)}const be=C(_e,[["render",ye],["__scopeId","data-v-2d1fba02"]]);var xe=function(n){return{loading:function(){n.value="loading"},loaded:function(){n.value="loaded"},complete:function(){n.value="complete"},error:function(){n.value="error"}}},ke=function(n,e){return function(){e.loading(),n("infinite",e)}},Se=function(n,e){var r=n.getBoundingClientRect();if(!e)return r.top>=0&&r.bottom<=window.innerHeight;var o=e.getBoundingClientRect();return r.top>=o.top&&r.bottom<=o.bottom},M,V=function(n){n.parentEl=document.querySelector(n.target)||null;var e="0px 0px "+n.distance+"px 0px";n.top&&(e=n.distance+"px 0px 0px 0px"),M=new IntersectionObserver(function(r){var o=r[0];o.isIntersecting&&(n.firstload&&n.emit(),n.firstload=!0)},{root:n.parentEl,rootMargin:e,threshold:.2}),M.observe(n.infiniteLoading.value)},D=function(){M.disconnect()};const Ee={class:"state-error"},Ce={__name:"InfiniteLoading",props:{top:{type:Boolean,required:!1},target:{type:[String,Boolean],required:!1},distance:{type:Number,required:!1,default:0},identifier:{required:!1},firstload:{type:Boolean,required:!1,default:!0},slots:{type:Object,required:!1}},emits:["infinite"],setup(t,{emit:n}){const e=t,r=S(null),o=S("ready"),{top:u,firstload:f,target:a,distance:d}=e,{identifier:_}=nt(e),p={infiniteLoading:r,target:a,top:u,firstload:f,distance:d,emit:ke(n,xe(o)),parentEl:null},k=()=>R(o,async h=>{const v=p.parentEl||document.documentElement,g=v.scrollHeight;await K(),h=="loaded"&&u&&(v.scrollTop=v.scrollHeight-g),h=="loaded"&&Se(r.value,p.parentEl)&&p.emit(),h=="complete"&&D()}),b=()=>R(_,h=>{!h||(o.value="ready",D(),V(p))});return W(()=>{V(p),k(),_&&b()}),at(()=>{D()}),(h,v)=>(i(),l("div",{class:"infiniteLoading",ref_key:"infiniteLoading",ref:r},[o.value=="loading"?$(h.$slots,"spinner",{key:0},()=>[B(be)],!0):y("",!0),o.value=="complete"?$(h.$slots,"complete",{key:1},()=>{var g;return[c("span",null,x(((g=t.slots)==null?void 0:g.complete)||"No more results!"),1)]},!0):y("",!0),o.value=="error"?$(h.$slots,"error",{key:2,retry:p.emit},()=>{var g;return[c("span",Ee,[c("span",null,x(((g=t.slots)==null?void 0:g.error)||"Oops something went wrong!"),1),c("button",{class:"retry",onClick:v[0]||(v[0]=(...s)=>p.emit&&p.emit(...s))},"retry")])]},!0):y("",!0)],512))}},Ae=C(Ce,[["__scopeId","data-v-62eb644b"]]);var Ge=function(n){var e=n||{},r=e.paginationDataRequest,o=e.dataTransformation,u=e.beforeConcat,f=S([]),a=S(0),d=S(0),_=S(!0),p=function(){f.value=[],a.value=0,d.value=0,_.value=!0},k=function(){var b=ot(F().mark(function h(v){var g,s,I;return F().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(g=v.pageNumber,s=v.$state,I=v.forceUpdate,g=g<1?1:g,!(g===a.value&&!I)){E.next=4;break}return E.abrupt("return");case 4:if(!(!_.value&&!I)){E.next=7;break}return s!=null&&s.complete&&s.complete(),E.abrupt("return");case 7:return s!=null&&s.loading&&s.loading(),a.value=g,E.next=11,r(g).then(function(L){o&&(L.data.results=L.data.results.map(o)),f.value=u?f.value.concat(u(f.value,L.data.results)):f.value.concat(L.data.results),d.value=L.data.total_count,_.value=!!L.data.next,s!=null&&s.loaded&&s.loaded(),!_.value&&s!=null&&s.complete&&s.complete()}).catch(function(){s!=null&&s.complete&&s.complete()});case 11:case"end":return E.stop()}},h)}));return function(v){return b.apply(this,arguments)}}();return{paginationElements:f,paginationPage:a,paginationTotalCount:d,paginationIsNextPage:_,paginationClearData:p,paginationLoad:k}};export{_t as A,Et as C,Be as E,Ae as I,Te as N,Ge as P,Ne as S};
