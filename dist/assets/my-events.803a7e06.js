import{_ as P,b as a,bQ as G,u as H,bS as U,d as w,k as V,af as F,r as l,o as d,c as C,i as E,g as O,e as s,t as u,a as b,S as X,U as Y,R as j,ad as S,A as Q}from"./index.30b1903a.js";import{d as x}from"./uk.f4f59e30.js";import{G as q}from"./GreenBtn.b4db9211.js";import{I as z}from"./InputComponent.e5fcfc55.js";import{C as J,E as K,S as W,a as Z,M as $}from"./MyEventCard.6b8bdb42.js";import{R as ee}from"./RightSidebar.f0fbf4f1.js";import{E as te}from"./EmptyList.ca274575.js";import{C as i}from"./index.b54805f3.js";import"./location-point.f489f928.js";import"./Dropdown.6600576f.js";import"./search.0f589d58.js";import"./set-filter.6436b70e.js";import"./cross.90e335cf.js";import"./male-icon.1c76ddde.js";import"./calendar.1801e959.js";import"./arrow-right.a7e531f5.js";import"./profile.1ac31e7e.js";const ne={name:"EventsPage",components:{GreenBtn:q,InputComponent:z,ContextMenu:J,EventCard:K,SmallLoader:W,SearchBlockEvents:Z,MyEventCard:$,RightSidebar:ee,EmptyList:te},setup(){const n=a(null),o=a(null),g=a(null),t=G(),p=H(),_=a([]),{t:c}=U(),v=a(!1),f=a(null),h=a(null),m=a(!1),y=w(()=>({event_cards:i.event_page.event_cards,my_events:i.event_page.my_events,sport_type_dropdown:i.event_page.sport_type_dropdown,gender_dropdown:i.event_page.gender_dropdown,cities_dropdown:i.event_page.cities_dropdown,calendar:i.event_page.calendar,menu_text:i.event_page.menu_text})),r=w(()=>({title:"\u041D\u0435\u043C\u0430\u0454 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u044C \u0434\u043B\u044F \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F",description:"\u0412\u0430\u043C \u0449\u0435 \u043D\u0435 \u043D\u0430\u0434\u0445\u043E\u0434\u0438\u043B\u0438 \u0441\u043F\u043E\u0432\u0456\u0449\u0435\u043D\u043D\u044F \u0432\u0456\u0434 \u0456\u043D\u0448\u0438\u0445 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432"}));function L(){p.push(j.APPLICATION.EVENTS.absolute)}function R(e){return S(e).locale(x).format("D MMMM")}function D(e){return S(e).locale(x).format("HH:mm")}function A(){o.value<g.value&&(o.value=o.value+1,v.value=!0,Q.EventService.getAllEvents(o.value).then(e=>{_.value.push(...e.data.results.map(k)),v.value=!1}))}function k(e){return{...e,date:R(e.date_and_time),time:D(e.date_and_time),labels:[e.type,e.gender==="Man"?c("events.men"):c("events.women"),e.need_form?c("events.need-uniform"):c("events.do-not-need-uniform")]}}function M(){const e=n.value,N=e.scrollHeight-e.offsetHeight;e.scrollTop===N&&A()}function B(e){f.value=e.clientX,h.value=e.clientY,m.value=!0}function T(){p.push("/application/events/3")}function I(){p.push("/application/events/create")}return V(()=>{n.value.addEventListener("scroll",M),o.value=1,g.value=t.meta.eventData.total_pages,_.value=t.meta.eventData.data.results.map(k)}),F(()=>{n.value&&n.value.removeEventListener("scroll",M)}),{scrollComponent:n,eventCards:_,isLoaderActive:v,mockData:y,emptyListMessages:r,myCardRightClick:B,goToEventPage:T,goToCreateEvent:I,switchEvents:L,isContextMenuActive:m}}},oe={class:"b-events-page"},se={class:"b-events-page__main-body"},ae={class:"b-events-page__header-block"},re={class:"b-events-page__left-part"},ie={class:"b-events-page__title"},ce={class:"b-events-page__subtitle"},le={class:"b-events-page__event-switcher"},de={class:"b-events-page__my-events"},ve={class:"b-events-page__right-part"},pe={class:"b-events-page__main-search-block"},_e={key:0,class:"b-events-page__my-events-block",ref:"scrollComponent"};function me(n,o,g,t,p,_){const c=l("ContextMenu"),v=l("GreenBtn"),f=l("SearchBlockEvents"),h=l("MyEventCard"),m=l("EmptyList"),y=l("RightSidebar");return d(),C("div",oe,[t.isContextMenuActive?(d(),E(c,{key:0,"client-x":n.contextMenuX,"client-y":n.contextMenuY,"menu-text":t.mockData.menu_text,onCloseModal:o[0]||(o[0]=r=>t.isContextMenuActive=!1)},null,8,["client-x","client-y","menu-text"])):O("",!0),s("div",se,[s("div",ae,[s("div",re,[s("div",ie,u(n.$t("events.future-events")),1),s("div",ce,u(n.$t("events.renew-your-data")),1),s("div",le,[s("div",{class:"b-events-page__general-events",onClick:o[1]||(o[1]=(...r)=>t.switchEvents&&t.switchEvents(...r))},u(n.$t("events.general-events")),1),s("div",de,u(n.$t("events.my-events")),1)])]),s("div",ve,[b(v,{text:n.$t("buttons.create-event"),width:168,icon:"../../../assets/img/plus.svg",height:40,onClickFunction:t.goToCreateEvent},null,8,["text","icon","onClickFunction"])])]),s("div",pe,[b(f,{"sport-type-dropdown":t.mockData.sport_type_dropdown,"gender-dropdown":t.mockData.gender_dropdown,"cities-dropdown":t.mockData.cities_dropdown},null,8,["sport-type-dropdown","gender-dropdown","cities-dropdown"]),t.eventCards?(d(),C("div",_e,[(d(!0),C(X,null,Y(t.eventCards,r=>(d(),E(h,{key:r.id,card:r,onCardRightClick:t.myCardRightClick},null,8,["card","onCardRightClick"]))),128))],512)):(d(),E(m,{key:1,title:t.emptyListMessages.title,description:t.emptyListMessages.title},null,8,["title","description"]))])]),b(y)])}const Be=P(ne,[["render",me],["__scopeId","data-v-b36f0f44"]]);export{Be as default};
