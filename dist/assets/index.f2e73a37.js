import{_ as I,b,u as H,j as Y,G as ve,r as y,o as l,i as x,w as M,l as X,a as k,a2 as ee,a3 as be,a4 as ge,a5 as pe,a6 as he,a7 as ye,a8 as ke,a9 as G,z as Ce,d as w,R,C as F,c as r,g as h,e as n,n as N,t as p,f as $,A as P,p as L,h as B,aa as Se,ab as z,ac as K,E as q,S as A,U as O,M as we,T as te,B as V,a0 as oe,k as Ne,ad as Me,ae as ne,Y as Ie,af as Ae}from"./index.1baec81e.js";import{N as J,I as $e,E as xe,S as Oe,A as Te,P as Fe}from"./index.7e1d97b6.js";import{s as Le,D as Be,m as se}from"./members.d58ab987.js";import{_ as ie}from"./cross.90e335cf.js";import{v as ae}from"./v4.5d18198f.js";import{_ as Pe}from"./arrow-right.736d9638.js";import{I as Re}from"./InputComponent.d4ffa8e8.js";import{S as De}from"./SearchBlockAll.3d6bf4fd.js";import{_ as Ee}from"./search.0f589d58.js";import{S as He}from"./VueStarRating.common.4ddf42e6.js";import{_ as We}from"./warning-red.7e7f7092.js";import"./Checkbox.d588d551.js";const je="/assets/notification-small.2e256e10.svg";const ze={name:"Notifications",components:{Notification:J,DynamicScroller:Le,DynamicScrollerItem:Be},props:{notifications:{type:Array,default:()=>[]},selectedList:{type:Array,default:()=>[]},selectable:{type:Boolean,default:!1}},emits:["update:selected-list","update:scrollbar-existing"],setup(o,{emit:t,expose:i}){let e=b(0),_=b([]),d=b();const s=H();Y(()=>o.selectedList,()=>{const c=[...o.selectedList];_.value=Array.isArray(c)?c.length?c:[]:[],d.value.forceUpdate()}),Y(()=>o.notifications,()=>{ve(()=>{t("update:scrollbar-existing",d.value.$el.scrollHeight>d.value.$el.clientHeight)})},{immediate:!0});const m=async(c,g)=>{await ee({button:c,notificationInstance:g,router:s,activeNotification:e})},v=c=>{if(c.selected)_.value.push(c.notification.notification_id);else{const g=_.value.findIndex(C=>C===c.notification.notification_id);_.value.splice(g,1)}t("update:selected-list",_.value)};return i({scrollToItem:c=>d.value.scrollToItem(c),scrollToFirstElement:()=>d.value.scrollToItem(0)}),{activeNotification:e,handlerAction:m,handleSelected:v,scroller:d}}};function Ue(o,t,i,e,_,d){const s=y("Notification"),m=y("DynamicScrollerItem"),v=y("DynamicScroller");return l(),x(v,{items:i.notifications,"min-item-size":84,"key-field":"notification_id",class:"scroller",ref:"scroller"},{before:M(()=>[X(o.$slots,"before",{},void 0,!0)]),default:M(({item:c,index:g,active:C,itemWithSize:a})=>[k(m,{item:c,active:C,sizeDependencies:[i.notifications.length,c.metadata.expanding],"data-index":g},{default:M(()=>[k(s,{notificationInstance:c,selectable:i.selectable,active:e.activeNotification===c.notification_id,checked:i.selectedList.includes(c.notification_id),onHandlerAction:u=>e.handlerAction(u,c),onSelected:t[0]||(t[0]=u=>e.handleSelected(u))},null,8,["notificationInstance","selectable","active","checked","onHandlerAction"])]),_:2},1032,["item","active","sizeDependencies","data-index"])]),after:M(()=>[X(o.$slots,"after",{},void 0,!0)]),_:3},8,["items"])}const Ve=I(ze,[["render",Ue],["__scopeId","data-v-7d5aa9f4"]]),Ye="/assets/sidebar-arrow-back.6ddc97ca.svg",Xe="/assets/sidebar-arrow.fe8d3224.svg";var Q,Z,j,Ge=(Q=pe(ke.NotificationInfo),Z=he([{type:G.Action,text:"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438 \u043D\u043E\u0432\u0456 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F"}]),Q(j=Z(j=function(o){be(t,o);function t(){for(var e,_=arguments.length,d=new Array(_),s=0;s<_;s++)d[s]=arguments[s];return e=o.call.apply(o,[this].concat(d))||this,e.countOfNewNotifications=0,e}var i=t.prototype;return i.createTitle=function(){return"System notification"},ge(t,[{key:"texts",get:function(){return["\u0423 \u0432\u0430\u0441 \u043D\u043E\u0432\u0456\u0435 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F - "+this.countOfNewNotifications]},set:function(_){}}]),t}(ye))||j)||j);const qe="/assets/logo-sidebar.7ff4f50d.svg",le="/assets/trash.12e3e1ee.svg",ce="/assets/double-check.5ce54e56.svg";const Je={components:{InfiniteLoading:$e,Notification:J,EmptyList:xe,Notifications:Ve,ScrollToTop:Oe},props:{notifications:{type:Array,default:()=>[]},notReadNotificationCount:{type:Number,default:0},newNotifications:{type:Number,default:0},totalNotificationsCount:{type:Number,default:0},isMenuOpened:{type:Boolean,default:!1}},emits:["closed","reLoading","loading","loadingInfinite","update:isMenuOpened"],setup(o,{emit:t}){const i=b(),e=b(!1),_=b(!1),d=b(""),s=b([]),m=b(new Ge),v=b(Ce("clientVersion"));Y(()=>o.isMenuOpened,()=>{o.isMenuOpened||(t("closed"),s.value=[])});const c=w(()=>o.isMenuOpened?Ye:Xe),g=w(()=>R);function C(){t("update:isMenuOpened",!o.isMenuOpened)}const a=w(()=>(m.value.countOfNewNotifications=o.newNotifications,m.value)),u=w(()=>({title:F.no_data_notifications.noNotifications.title,description:F.no_data_notifications.noNotifications.description})),S=()=>{s.value=[]};return{clientVersion:v,arrowPosition:c,toggleMenu:C,getNewNotificationInstance:a,emptyListMessages:u,routeObject:g,selectedList:s,HandleAction:{deleteAll:()=>{!o.notifications.length&&!o.newNotifications||(P.NotificationService.deleteAllMyNotifications(),S())},readAll:()=>{!o.notifications.length&&!o.newNotifications||(P.NotificationService.readAllMyNotifications(),S())},deleteSelected:()=>{!s.value||(P.NotificationService.deleteNotifications(s.value),S())},readSelected:()=>{!s.value||(P.NotificationService.readNotifications(s.value),S())}},triggerForRestart:d,selectable:e,notificationList:i,blockScrollToTopIfExist:_,clearSelectedList:S,restartInfiniteScroll:()=>{d.value=ae()},scrollToFirstElement:()=>{i.value.scrollToFirstElement()}}}},D=o=>(L("data-v-f3a828e9"),o=o(),B(),o),Ke=["src"],Qe={class:"b_slide_menu_main"},Ze={class:"b_slide_menu_top-block"},et=D(()=>n("div",{class:"b_slide_menu_logo"},[n("img",{src:qe,alt:""})],-1)),tt={key:0,class:"b_slide_menu_items d-flex justify-content-between align-items-center mb-2"},ot={class:"d-flex"},nt={class:"b-selected-elements__count me-1"},st={key:0},it={key:1},at={class:"d-flex mb-2"},lt=D(()=>n("img",{src:le,alt:"",height:"16"},null,-1)),ct=D(()=>n("img",{src:ce,height:"16",alt:""},null,-1)),rt=D(()=>n("img",{src:le,height:"16",alt:""},null,-1)),dt=D(()=>n("img",{src:ce,height:"16",alt:""},null,-1)),_t={class:"d-flex"},ut={class:"b-notifications-title me-1"},mt={key:0,class:"b-notification-unreaded d-flex align-items-center justify-content-center me-1"},ft={class:"b_slide_menu_bottom-block"},vt=D(()=>n("div",{class:"b_slide_menu_top-line d-flex justify-content-between"},[n("div",{class:"b_slide_menu_name"},"\u042E\u043B\u0456\u044F \u041A\u0456\u0441\u043B\u0456\u0446\u0438\u043D\u0430"),n("div",{class:"b_slide_menu_position"},"\u0442\u0440\u0435\u043D\u0435\u0440")],-1)),bt={class:"b_slide_menu_bottom-line"};function gt(o,t,i,e,_,d){const s=y("Notification"),m=y("empty-list"),v=y("ScrollToTop"),c=y("InfiniteLoading"),g=y("Notifications"),C=y("router-link");return l(),r("div",null,[i.isMenuOpened?(l(),r("div",{key:0,class:"b_slide_menu_back",onClick:t[0]||(t[0]=(...a)=>e.toggleMenu&&e.toggleMenu(...a))})):h("",!0),n("div",{class:"b_slide_menu_wrapper",style:N({right:i.isMenuOpened?"-464px":"0px"})},[i.isMenuOpened?(l(),r("div",{key:0,class:"b_slide_menu_sidebar-arrow",onClick:t[1]||(t[1]=(...a)=>e.toggleMenu&&e.toggleMenu(...a))},[n("img",{src:e.arrowPosition,alt:""},null,8,Ke)])):h("",!0),n("div",Qe,[n("div",Ze,[et,i.notifications.length?(l(),r("div",tt,[n("div",{class:"d-flex align-items-center",style:N({opacity:e.selectedList.length?"1":"0"})},[n("img",{src:ie,height:"10",alt:"",class:"me-2",onClick:t[2]||(t[2]=(...a)=>e.clearSelectedList&&e.clearSelectedList(...a))}),n("div",ot,[n("div",nt,p(e.selectedList.length),1),$(" / "+p(i.totalNotificationsCount),1)])],4),n("button",{onClick:t[3]||(t[3]=a=>(e.selectable=!e.selectable,e.clearSelectedList()))},[e.selectable?(l(),r("span",it,"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u044B\u0431\u043E\u0440")):(l(),r("span",st,"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0437\u0430\u043F\u0438\u0441\u0438"))])])):h("",!0),n("div",at,[i.notifications.length?(l(),r("button",{key:0,onClick:t[4]||(t[4]=a=>e.HandleAction.deleteAll()),class:"d-flex align-items-center"},[lt,$(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435 ")])):h("",!0),i.notifications.length&&i.notReadNotificationCount?(l(),r("button",{key:1,onClick:t[5]||(t[5]=a=>e.HandleAction.readAll()),class:"d-flex align-items-center"},[ct,$(" \u041F\u0440\u043E\u0447\u0438\u0442\u0430\u0442\u044C \u0432\u0441\u0435 ")])):h("",!0),e.selectable&&i.notifications.length&&e.selectedList.length?(l(),r("button",{key:2,onClick:t[6]||(t[6]=a=>e.HandleAction.deleteSelected()),class:"d-flex align-items-center"},[rt,$(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C ")])):h("",!0),e.selectable&&i.notifications.length&&e.selectedList.length?(l(),r("button",{key:3,onClick:t[7]||(t[7]=a=>e.HandleAction.readSelected()),class:"d-flex align-items-center"},[dt,$(" \u041F\u0440\u043E\u0447\u0438\u0442\u0430\u0442\u044C ")])):h("",!0)]),n("div",_t,[n("div",ut,p(o.$t("slide_menu.notifications")),1),i.notReadNotificationCount?(l(),r("div",mt,p(i.notReadNotificationCount),1)):h("",!0)]),i.isMenuOpened?(l(),r("ul",{key:1,class:"b_slide_menu_notification",style:N({height:`calc(100vh - ${e.selectable?95:60}px - 100px - 70px)`}),ref:"test"},[k(g,{notifications:i.notifications,selectable:e.selectable,ref:"notificationList","selected-list":e.selectedList,"onUpdate:selected-list":t[11]||(t[11]=a=>e.selectedList=a),"scrollbar-existing":e.blockScrollToTopIfExist,"onUpdate:scrollbar-existing":t[12]||(t[12]=a=>e.blockScrollToTopIfExist=a)},{before:M(()=>[i.newNotifications?(l(),x(s,{key:0,class:"b-new-notification",notificationInstance:e.getNewNotificationInstance,"not-collapsible":!0,onHandlerAction:t[8]||(t[8]=a=>(o.$emit("reLoading"),e.restartInfiniteScroll()))},null,8,["notificationInstance"])):h("",!0)]),after:M(()=>[k(c,{identifier:e.triggerForRestart,ref:"scrollbar",onInfinite:t[10]||(t[10]=a=>o.$emit("loadingInfinite",a))},{complete:M(()=>[i.notifications.length?h("",!0):(l(),x(m,{key:0,title:e.emptyListMessages.title,description:e.emptyListMessages.description,"is-notification":!0},null,8,["title","description"])),k(v,{"element-length":i.notifications,"is-scroll-top-exist":e.blockScrollToTopIfExist,onScrollButtonClicked:t[9]||(t[9]=a=>e.scrollToFirstElement())},null,8,["element-length","is-scroll-top-exist"])]),_:1},8,["identifier"])]),_:1},8,["notifications","selectable","selected-list","scrollbar-existing"])],4)):h("",!0)]),n("div",ft,[vt,n("div",bt,[$(p(o.$t("slide_menu.version"))+" ",1),k(C,{to:e.routeObject.APPLICATION.VERSION.absolute},{default:M(()=>[$(p(e.clientVersion),1)]),_:1},8,["to"])])])])],4)])}const pt=I(Je,[["render",gt],["__scopeId","data-v-f3a828e9"]]),ht="/assets/Notification.91b0c545.svg",yt="/assets/notificationUnread.4781af12.svg",re="/assets/record.632423a8.svg",kt="/assets/medal.b79441b9.svg",de="/assets/Settings.1a817c52.svg",Ct="/assets/my-profile-logo.9d6ccfcf.svg",St="/assets/exit-icon.8ce1bafb.svg";const wt=(o,t)=>t.filter(i=>o.length?!o.find(e=>e.notification_id===i.notification_id):!0),Nt={name:"MainSidebar",components:{SlideMenu:pt,Avatar:Te},setup(){const o=b(0),t=b([]),i=H(),e=b(!1),_=w(()=>[{img:o.value?yt:ht,action:()=>e.value=!0},{img:re,url:"/application/events",action:()=>e.value=!1},{img:kt,url:"",action:()=>e.value=!1},{img:se,url:"/application/smart-list/general",action:()=>e.value=!1},{img:de,url:"",action:()=>e.value=!1}]),d=async()=>P.NotificationService.getNotificationsCount().then(f=>o.value=f.data.not_read_notifications_count||0),{paginationElements:s,paginationPage:m,paginationTotalCount:v,paginationClearData:c,paginationLoad:g}=Fe({paginationDataRequest:f=>P.NotificationService.getNotifications({page:f,skipids:t.value}),dataTransformation:f=>Se(f),beforeConcat:(f,E)=>wt(f,E)}),C=(f,E,W)=>{W&&(c(),t.value=[]),g({pageNumber:f,$state:E,forceUpdate:W})},a=f=>{f.notification&&t.value.push(f.notification_id),f.updateWebSocketMessage&&f.handleUpdate({paginationElements:s,paginationLoad:g,paginationPage:m},d),d()},u=()=>i.push(R.APPLICATION.PROFILE.MY_PROFILE.absolute);return z.registerCallback(a),K.on("SidebarClearData",()=>{t.value=[],c()}),q(()=>{K.off("SidebarClearData"),z.destroyCallback(a)}),d(),{paginationElements:s,paginationTotalCount:v,paginationPage:m,notReadNotificationCount:o,skipids:t,menuItems:_,isMenuOpened:e,loadDataNotifications:C,paginationClearData:c,goToProfile:u,logOut:()=>{te.clearToken(),i.push(R.AUTHENTICATIONS.LOGIN.absolute)}}}},_e=o=>(L("data-v-ee00be21"),o=o(),B(),o),Mt={class:"b_sidebar_wrapper"},It={class:"b_sidebar"},At={class:"b_sidebar_top-block"},$t=_e(()=>n("div",{class:"b_sidebar_picture-top"},[n("img",{src:Ct,alt:""})],-1)),xt={class:"b_sidebar_menu-block"},Ot=["onClick"],Tt=["src"],Ft={key:1},Lt=["src"],Bt={class:"b_sidebar_bottom-block"},Pt={class:"b_sidebar_picture-bottom"},Rt=_e(()=>n("img",{src:St,alt:""},null,-1)),Dt=[Rt];function Et(o,t,i,e,_,d){const s=y("SlideMenu"),m=y("router-link"),v=y("avatar");return l(),r("div",Mt,[k(s,{"is-menu-opened":e.isMenuOpened,"onUpdate:is-menu-opened":t[0]||(t[0]=c=>e.isMenuOpened=c),notifications:e.paginationElements,notReadNotificationCount:e.notReadNotificationCount,newNotifications:e.skipids.length,"total-notifications-count":e.paginationTotalCount,onClosed:t[1]||(t[1]=c=>e.paginationClearData()),onLoadingInfinite:t[2]||(t[2]=c=>e.loadDataNotifications(e.paginationPage+1,c)),onReLoading:t[3]||(t[3]=c=>e.loadDataNotifications(1,null,!0)),onLoading:t[4]||(t[4]=c=>e.loadDataNotifications(1,null,!0))},null,8,["is-menu-opened","notifications","notReadNotificationCount","newNotifications","total-notifications-count"]),n("div",It,[n("div",At,[$t,n("div",xt,[n("ul",null,[(l(!0),r(A,null,O(e.menuItems,(c,g)=>(l(),r("li",{key:g,class:we(["b_sidebar_menu-item"]),onClick:C=>c.action&&c.action()},[c.url?(l(),x(m,{key:0,to:c.url},{default:M(()=>[n("img",{src:c.img,alt:""},null,8,Tt)]),_:2},1032,["to"])):(l(),r("a",Ft,[n("img",{src:c.img},null,8,Lt)]))],8,Ot))),128))])])]),n("div",Bt,[n("div",Pt,[k(v,{"full-name":"Yaroslav Makovskyi",onClick:e.goToProfile},null,8,["onClick"]),n("div",{onClick:t[5]||(t[5]=(...c)=>e.logOut&&e.logOut(...c)),class:"b_sidebar_logout d-flex justify-content-center align-items-center"},Dt)])])])])}const Ht=I(Nt,[["render",Et],["__scopeId","data-v-ee00be21"]]);const Wt={class:"b_breadcrumbs"},jt={key:0,src:Pe,alt:""},zt={__name:"Breadcrumbs",setup(o){const{breadcrumbs:t}=H().currentRoute.value.meta;return(i,e)=>{const _=y("router-link");return l(),r("div",Wt,[n("ul",null,[(l(!0),r(A,null,O(V(t),(d,s)=>(l(),r("li",{key:d.name},[k(_,{to:s+1===V(t).length?"":d.path},{default:M(()=>[$(p(d.name),1)]),_:2},1032,["to"]),s+1!==V(t).length?(l(),r("img",jt)):h("",!0)]))),128))])])}}},Ut=I(zt,[["__scopeId","data-v-5ed4740b"]]);const Vt={name:"SearchModal",props:{clientX:{type:Number,default:0},clientY:{type:Number,default:0}},emits:["closeModal"],setup(o){return{frameStyle:w(()=>({left:`${o.clientX}px`,top:`${o.clientY}px`}))}}};function Yt(o,t,i,e,_,d){return l(),r("div",{class:"b-search-modal",onClick:t[0]||(t[0]=oe(s=>o.$emit("closeModal"),["self"]))},[n("div",{class:"b-search-modal__window-frame",style:N(e.frameStyle)},[X(o.$slots,"frame-data",{},void 0,!0)],4)])}const Xt=I(Vt,[["render",Yt],["__scopeId","data-v-a181f07f"]]),Gt="/assets/arrow-long-right.769ebbd9.svg",qt="/assets/mob-menu-icon.297a58b5.svg",Jt="/assets/logo-header.d812c47e.svg";const Kt={components:{BreadCrumbs:Ut,InputComponent:Re,SearchModal:Xt,SearchBlockAll:De},setup(){const o=b(!1),t=b(0),i=b(0),e=b(369),_=b(0),d=b(window.innerWidth);d.value<576&&(e.value="100%",t.value=0);const s=w(()=>({search:Ee,arrow:Gt})),m=w(()=>({tags:F.manage_event.tags,teams:F.manage_event.teams}));function v(a){o.value=!0,_.value=e.value-a.target.parentNode.clientWidth,t.value=a.target.parentNode.offsetLeft-_.value,i.value=a.target.parentNode.offsetHeight+20}function c({x:a,y:u}){t.value=a-_.value,i.value=u+20}function g(){o.value=!1}function C(){d.value=window.innerWidth,d.value<576?(e.value="100%",t.value=0):e.value=369}return Ne(()=>{window.addEventListener("resize",C)}),q(()=>{window.removeEventListener("resize",C)}),{showSearchBlock:v,closeSearchBlock:g,setInputCoordinates:c,icons:s,isSearchBlock:o,clientX:t,clientY:i,mockData:m,modalSearchWidth:e}}},ue=o=>(L("data-v-a20e3ab1"),o=o(),B(),o),Qt={class:"b_header"},Zt=ue(()=>n("img",{src:qt,alt:""},null,-1)),eo=[Zt],to=ue(()=>n("div",{class:"b_header_logo"},[n("img",{src:Jt,alt:""})],-1)),oo={class:"b_header_search-block"},no={class:"b_header_search-input"};function so(o,t,i,e,_,d){const s=y("SearchBlockAll"),m=y("SearchModal"),v=y("BreadCrumbs"),c=y("InputComponent");return l(),r("div",Qt,[e.isSearchBlock?(l(),x(m,{key:0,"client-x":e.clientX,"client-y":e.clientY,onCloseModal:e.closeSearchBlock},{"frame-data":M(()=>[k(s,{width:e.modalSearchWidth,tags:e.mockData.tags,"filtered-teams":e.mockData.teams,"list-item-icon":e.icons.arrow},null,8,["width","tags","filtered-teams","list-item-icon"])]),_:1},8,["client-x","client-y","onCloseModal"])):h("",!0),n("div",{class:"b_header_mob-menu-icon",onClick:t[0]||(t[0]=g=>o.$emit("menuIconClick"))},eo),k(v),to,n("div",oo,[n("div",no,[k(c,{"title-width":0,placeholder:o.$t("header.search-events"),icon:e.icons.search,onOnClickAction:e.showSearchBlock,onSendInputCoordinates:e.setInputCoordinates},null,8,["placeholder","icon","onOnClickAction","onSendInputCoordinates"])])])])}const io=I(Kt,[["render",so],["__scopeId","data-v-a20e3ab1"]]),ao="/assets/notification-white.ddaba099.svg",lo="/assets/record-white.98970178.svg",co="/assets/members-white.1b7f0bc3.svg",ro="/assets/Settings-white.d85f4ec1.svg",_o="/assets/logout-icon.82cd7f5e.svg";const uo={name:"MobileMenu",props:{isMenuActive:{type:Boolean,default:!1}},emit:["closeMenu"],setup(o,{emit:t}){const i=b([{id:0,value:"\u0421\u043F\u043E\u0432\u0456\u0449\u0435\u043D\u043D\u044F",value_show:!0,imgInactive:je,imgActive:ao,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775"},{id:1,value:"\u041F\u043E\u0434\u0456\u0457",value_show:!0,imgInactive:re,imgActive:lo,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775",url:R.APPLICATION.EVENTS.absolute}]),e=b([{id:0,value:"\u0420\u0435\u0439\u0442\u0438\u043D\u0433 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432",value_show:!0,imgInactive:se,imgActive:co,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775",url:R.APPLICATION.USERS.GENERAL.absolute},{id:1,value:"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u044F",value_show:!0,imgInactive:de,imgActive:ro,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775",url:R.APPLICATION.PROFILE.MY_PROFILE.absolute}]),_=H(),d=w(()=>({letters:F.mob_menu.letters})),s=b("auto"),m=w(()=>({height:s.value})),v=w(()=>({transform:`translateX(${o.isMenuActive?0:-100}%)`}));function c(){g(i),g(e),s.value="auto",t("closeMenu")}function g(a){a.value=a.value.map(u=>({...u,value_show:!0,isIconActive:!1,width:"50%",height:"76px",alignement:"flex-start",background:"#FFFFFF",textColor:"#575775"}))}function C(a,u,S){if(u){_.push(u),c();return}s.value="100%";const f=S==="top-menu"?i:e,E=S==="top-menu"?e:i,W=a?0:1;g(E),f.value=f.value.map(T=>T.id===a?{...T,value_show:!0,isIconActive:!0,width:"80%",height:"52px",alignement:"flex-start",background:"#575775",textColor:"#fff"}:T),f.value=f.value.map(T=>T.id===W?{...T,value_show:!1,isIconActive:!1,width:"20%",height:"52px",alignement:"center",background:"#FFFFFF",textColor:"#575775"}:T)}return{topMenu:i,bottomMenu:e,mockData:d,menuBlockStyle:m,mobMenuStyle:v,lineMenuClick:C,closeMobMenu:c}}},U=o=>(L("data-v-c394fc3d"),o=o(),B(),o),mo={class:"b-mob-menu__logo-block"},fo={class:"b-mob-menu__logo"},vo={class:"b-mob-menu__user-data"},bo=U(()=>n("div",{class:"b-mob-menu__user-img"},[n("img",{src:Me,alt:""})],-1)),go={class:"b-mob-menu__text-block"},po=U(()=>n("div",{class:"b-mob-menu__user-name"},"\u0421\u0442\u0435\u0444\u0430\u043D\u0456\u044F \u041A\u0430\u043B\u0438\u043D\u043E\u0432\u0441\u044C\u043A\u0430",-1)),ho={class:"b-mob-menu__account-type"},yo=U(()=>n("div",{class:"b-mob-menu__logout-icon"},[n("img",{src:_o,alt:""})],-1)),ko={class:"b-mob-menu__line"},Co=["onClick"],So=["src"],wo={key:0},No={class:"b-mob-menu__content-block"},Mo={class:"b-mob-menu__message-list"},Io={class:"b-mob-menu__left-side"},Ao=["src"],$o=U(()=>n("div",{class:"b-mob-menu__is-user-active"},null,-1)),xo={class:"b-mob-menu__right-side"},Oo={class:"b-mob-menu__top-line"},To={class:"b-mob-menu__bottom-line"},Fo=["src"],Lo={class:"b-mob-menu__line"},Bo=["onClick"],Po=["src"],Ro={key:0};function Do(o,t,i,e,_,d){return l(),r("div",{class:"b-mob-menu",style:N(e.mobMenuStyle)},[n("div",mo,[n("div",fo,p(o.$t("menu.blanball")),1),n("div",{class:"b-mob-menu__close",onClick:t[0]||(t[0]=(...s)=>e.closeMobMenu&&e.closeMobMenu(...s))},"\xD7")]),n("div",vo,[bo,n("div",go,[po,n("div",ho,p(o.$t("menu.guest-account")),1)]),yo]),n("div",{class:"b-mob-menu__menu-block",style:N(e.menuBlockStyle)},[n("div",ko,[(l(!0),r(A,null,O(e.topMenu,s=>(l(),r("div",{class:"b-mob-menu__menu-item",key:s.id,style:N({width:s.width,height:s.height,"justify-content":s.alignement,background:s.background,color:s.textColor}),onClick:m=>e.lineMenuClick(s.id,s.url,"top-menu")},[n("img",{src:s.isIconActive?s.imgActive:s.imgInactive,alt:""},null,8,So),s.value_show?(l(),r("span",wo,p(s.value),1)):h("",!0)],12,Co))),128))]),n("div",No,[n("div",Mo,[(l(!0),r(A,null,O(e.mockData.letters,s=>(l(),r("div",{class:"b-mob-menu__message",key:s.id},[n("div",Io,[n("img",{src:s.userImg,alt:""},null,8,Ao),$o]),n("div",xo,[n("div",Oo,[n("span",null,p(s.sender),1),n("span",null,p(s.time),1)]),n("div",To,[n("span",null,p(s.topic),1),n("img",{src:s.icon,alt:""},null,8,Fo)])])]))),128))])]),n("div",Lo,[(l(!0),r(A,null,O(e.bottomMenu,s=>(l(),r("div",{class:"b-mob-menu__menu-item",key:s.id,style:N({width:s.width,height:s.height,"justify-content":s.alignement,background:s.background,color:s.textColor}),onClick:m=>e.lineMenuClick(s.id,s.url)},[n("img",{src:s.isIconActive?s.imgActive:s.imgInactive,alt:""},null,8,Po),s.value_show?(l(),r("span",Ro,p(s.value),1)):h("",!0)],12,Bo))),128))])],4)],4)}const Eo=I(uo,[["render",Do],["__scopeId","data-v-c394fc3d"]]),Ho="/assets/cloud-hands.1bbdf146.svg";const Wo={name:"ModalTopCard",props:{step:{type:Object,default:()=>({})},isOpened:{type:Boolean,default:!0}},setup(o){const t=w(()=>({transform:o.isOpened?"rotate(-180deg)":"rotate(-90deg)"})),i=w(()=>({"font-weight":700,"font-size":"24px","line-height":"28px",color:"#262541"})),e=w(()=>({height:o.isOpened?"auto":0}));return{lastTitleStyle:i,mainBlockCardStyle:e,arrowStyle:t}}},me=o=>(L("data-v-a14e2eed"),o=o(),B(),o),jo={class:"b-modal-top-card"},zo={class:"b-modal-top-card__arrow-cross-block"},Uo=me(()=>n("img",{src:ne,alt:""},null,-1)),Vo=[Uo],Yo=me(()=>n("img",{src:ie,alt:""},null,-1)),Xo=[Yo],Go={class:"b-modal-top-card__title-wrapper"},qo={key:0,src:Ho,alt:"cloud-hands"},Jo={class:"b-modal-top-card__subtitle"},Ko={class:"b-modal-top-card__last-subtitle"},Qo={key:0,class:"b-modal-top-card__emotions"},Zo=["src"],en={key:1,class:"b-modal-top-card__btns-block"};function tn(o,t,i,e,_,d){return l(),r("div",jo,[n("div",zo,[i.step.id!==4?(l(),r("div",{key:0,class:"b-modal-top-card__arrow",style:N(e.arrowStyle),onClick:t[0]||(t[0]=s=>o.$emit("arrowClick"))},Vo,4)):(l(),r("div",{key:1,class:"b-modal-top-card__cross",onClick:t[1]||(t[1]=s=>o.$emit("crossClick"))},Xo))]),n("div",Go,[i.step.id===4?(l(),r("img",qo)):h("",!0),n("div",{class:"b-modal-top-card__title",style:N(i.step.id===4&&e.lastTitleStyle)},p(i.step.title),5)]),n("div",{class:"b-modal-top-card__main-block",style:N(e.mainBlockCardStyle)},[n("div",Jo,p(i.step.subtitle),1),n("div",Ko,p(i.step.last_subtitle),1),i.step.emojies?(l(),r("div",Qo,[(l(!0),r(A,null,O(i.step.emojies,s=>(l(),r("div",{key:s,class:"b-modal-top-card__emoji"},[n("img",{src:s,alt:""},null,8,Zo)]))),128))])):h("",!0),i.step.buttons?(l(),r("div",en,[n("div",{class:"b-modal-top-card__cancel-btn",onClick:t[2]||(t[2]=s=>o.$emit("cancelClick"))},p(i.step.buttons.cancel),1),n("div",{class:"b-modal-top-card__next-btn",onClick:t[3]||(t[3]=s=>o.$emit("nextClick"))},p(i.step.buttons.next),1)])):h("",!0)],4)])}const on=I(Wo,[["render",tn],["__scopeId","data-v-a14e2eed"]]),nn="/assets/message-icon.1dfc3fdb.svg";const sn={name:"RatePlayerCard",components:{StarRating:He},props:{player:{type:Object,default:()=>({})}},setup(o){return{rating:b(3)}}},an=o=>(L("data-v-5b3e7df5"),o=o(),B(),o),ln={class:"b-player-card"},cn={class:"b-player-card__left-part"},rn={class:"b-player-card__player-name"},dn={class:"b-player-card__right-part"},_n={class:"b-player-card__rating"},un=an(()=>n("div",{class:"b-player-card__message"},[n("img",{src:nn,alt:""})],-1));function mn(o,t,i,e,_,d){const s=y("star-rating");return l(),r("div",ln,[n("div",cn,[n("div",{class:"b-player-card__team-label",style:N({background:i.player.color})},p(i.player.label),5),n("div",rn,p(i.player.name),1)]),n("div",dn,[n("div",_n,[k(s,{rating:e.rating,"star-size":14,"show-rating":!1,"read-only":!0,"active-color":"#148783"},null,8,["rating"])]),un])])}const fn=I(sn,[["render",mn],["__scopeId","data-v-5b3e7df5"]]);const vn={name:"ModalBottomCard",components:{RatePlayerCard:fn},props:{isOpened:{type:Boolean,default:!1}},setup(o){const t=w(()=>({width:o.isOpened?"888px":"400px",height:o.isOpened?"656px":"auto"})),i=w(()=>({transform:o.isOpened?"rotate(-180deg)":"rotate(-90deg)"})),e=w(()=>F.modal_feedback.players);return{bottomCardStyle:t,arrowStyle:i,players:e}}},fe=o=>(L("data-v-a4a2112c"),o=o(),B(),o),bn={class:"b-modal-bottom-card__title-line"},gn={class:"b-modal-bottom-card__title"},pn=fe(()=>n("img",{src:ne,alt:""},null,-1)),hn=[pn],yn={key:0,class:"b-modal-bottom-card__send-complain"},kn=fe(()=>n("img",{src:We,alt:""},null,-1)),Cn={key:0,class:"b-modal-bottom-card__players-viewport"},Sn={class:"b-modal-bottom-card__players-wrapper"},wn={class:"b-modal-bottom-card__team-1"},Nn={class:"b-modal-bottom-card__team-2"};function Mn(o,t,i,e,_,d){const s=y("RatePlayerCard");return l(),x(Ie,null,{default:M(()=>[n("div",{class:"b-modal-bottom-card",style:N(e.bottomCardStyle)},[n("div",bn,[n("div",gn,p(o.$t("modal_feedback.evaluate_game")),1),n("div",{class:"b-modal-bottom-card__arrow",style:N(e.arrowStyle),onClick:t[0]||(t[0]=m=>o.$emit("arrowClick"))},hn,4),i.isOpened?(l(),r("div",yn,[kn,$(" "+p(o.$t("modal_feedback.complain")),1)])):h("",!0)]),i.isOpened?(l(),r("div",Cn,[n("div",Sn,[n("div",wn,[(l(!0),r(A,null,O(e.players.team_1,m=>(l(),x(s,{key:m.id,player:m},null,8,["player"]))),128))]),n("div",Nn,[(l(!0),r(A,null,O(e.players.team_2,m=>(l(),x(s,{key:m.id,player:m},null,8,["player"]))),128))])])])):h("",!0)],4)]),_:1})}const In=I(vn,[["render",Mn],["__scopeId","data-v-a4a2112c"]]);const An={name:"ModalFeedback",components:{ModalTopCard:on,ModalBottomCard:In},setup(){const o=b(!0),t=w(()=>F.modal_feedback.steps),i=b(0);function e(){o.value=!o.value}return{steps:t,currentStep:i,isCardTopOpened:o,toggleCard:e}}},$n={class:"b-modal-feedback"},xn={key:0,class:"b-modal-feedback__window"};function On(o,t,i,e,_,d){const s=y("ModalTopCard"),m=y("ModalBottomCard");return l(),r("div",null,[n("div",{class:"b-modal-feedback__modal-wrapper",onClick:t[3]||(t[3]=oe(v=>o.$emit("close-modal"),["self"]))},[n("div",$n,[(l(!0),r(A,null,O(e.steps,v=>(l(),r(A,{key:v.id},[e.currentStep===v.id?(l(),r("div",xn,[k(s,{step:v,"is-opened":e.isCardTopOpened,onCancelClick:t[0]||(t[0]=c=>e.currentStep--),onNextClick:t[1]||(t[1]=c=>e.currentStep++),onCrossClick:t[2]||(t[2]=c=>o.$emit("close-modal")),onArrowClick:e.toggleCard},null,8,["step","is-opened","onArrowClick"]),k(m,{"is-opened":!e.isCardTopOpened,onArrowClick:e.toggleCard},null,8,["is-opened","onArrowClick"])])):h("",!0)],64))),128))])])])}const Tn=I(An,[["render",On],["__scopeId","data-v-b5f3273e"]]),Fn="/assets/message_audio.1867ec07.mp3";const Ln={class:"main-wrapper"},Bn={class:"main-block"},Pn={class:"container"},Rn={class:"main-body-inner"},Jn={__name:"index",setup(o){const t=b(!1),i=b({review:{data:{},active:!1}}),e=H(),_=Ae(),d=new Audio(Fn);let s;const m=async(a,u)=>{clearTimeout(s),await ee({item:a,notificationInstance:u,router:e})},v=(a,u,S)=>{const f=c(a,u);f.componentOptions.props.active=S,_.update(u,{content:f.componentOptions,options:f.options})},c=(a,u)=>{const S=a.actions.find(f=>f.type===G.Close);return a.actions=a.actions.filter(f=>f.type!==G.Close),{componentOptions:{component:J,props:{notificationInstance:a,notificationType:"notification-push"},listeners:{handlerAction:async f=>{v(a,u,!0),await m(f,a),v(a,u,!1),_.dismiss(u)},handlerClose:async()=>{S&&(v(a,u,!0),await m(S,a),v(a,u,!1)),_.dismiss(u)}}},options:{id:u,timeout:!1,position:"top-right",closeOnClick:!1,draggable:!1,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!1,rtl:!1,toastClassName:[a.getPushNotificationTheme()]}}},g=a=>{const u=c(a,ae()),S=_(u.componentOptions,u.options);a.timeForClose&&(s=setTimeout(()=>{_.dismiss(S)},a.timeForClose))},C=a=>{a.pushNotification&&(g(a),d.play())};return z.registerCallback(C).connect({token:te.getToken()}),q(()=>{z.destroyCallback(C).disconnect()}),(a,u)=>{const S=y("router-view");return l(),r("div",Ln,[k(Eo,{isMenuActive:t.value,onCloseMenu:u[0]||(u[0]=f=>t.value=!1)},null,8,["isMenuActive"]),k(Ht),n("div",Bn,[n("div",Pn,[n("div",Rn,[k(io,{onMenuIconClick:u[1]||(u[1]=f=>t.value=!0)}),k(S)])])]),i.value.review.active?(l(),x(Tn,{key:0,onCloseModal:a.toggleModal},null,8,["onCloseModal"])):h("",!0)])}}};export{Jn as default};
